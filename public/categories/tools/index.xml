<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tools | Jixing Liu</title>
    <link>/categories/tools/</link>
      <atom:link href="/categories/tools/index.xml" rel="self" type="application/rss+xml" />
    <description>Tools</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Sat, 27 Jun 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>img/map[gravatar:%!s(bool=false) shape:circle]</url>
      <title>Tools</title>
      <link>/categories/tools/</link>
    </image>
    
    <item>
      <title>Tumor Purity Analysis</title>
      <link>/post/tumor-purity-analysis/</link>
      <pubDate>Sat, 27 Jun 2020 00:00:00 +0000</pubDate>
      <guid>/post/tumor-purity-analysis/</guid>
      <description>


&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/JTD8ZmH2YYCIqcbs-97JzA&#34;&gt;使用ESTIMATE来对转录组表达数据根据stromal和immune细胞比例估算肿瘤纯度&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/UehaaJZgARryH7P25v9wNQ&#34;&gt;使用ESTIMATE计算肿瘤的免疫得分&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jixing475/Computational-Genomics-Project&#34;&gt;jixing475/Computational-Genomics-Project: A systematic analysis of four tumor-purity-estimating methods on about 7500 patients across 15 cancer types from The Cancer Genome Atlas (TCGA).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6861210/&#34;&gt;Stromal-Immune Score-Based Gene Signature: A Prognosis Stratification Tool in Gastric Cancer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.semanticscholar.org/paper/Tumor-Microenvironment-based-Gene-Signatures-Novel-Zeng-Li/3486bf24188fb274a7aa342d010ab6dd303e0ac5&#34;&gt;Tumor Microenvironment-based Gene Signatures Divides Novel Immune and Stromal Subgroup Classification of Lung Adenocarcinoma | Semantic Scholar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ZengZihang/ISTMEscore&#34;&gt;ZengZihang/ISTMEscore: Calculating immune and strmal scores based on bulk transcriptome&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Easy Parsing JSON in R </title>
      <link>/post/easy-parsing-json-in-r/</link>
      <pubDate>Fri, 05 Jun 2020 00:00:00 +0000</pubDate>
      <guid>/post/easy-parsing-json-in-r/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/jsoneditor/jsoneditor.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/jsoneditor/jsoneditor.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/jsonedit-binding/jsonedit.js&#34;&gt;&lt;/script&gt;


&lt;div id=&#34;load-pkg-and-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;load pkg and data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(jsonlite)

# link to the API output as a JSON file
url_json &amp;lt;- &amp;quot;https://site.web.api.espn.com/apis/fitt/v3/sports/football/nfl/qbr?region=us&amp;amp;lang=en&amp;amp;qbrType=seasons&amp;amp;seasontype=2&amp;amp;isqualified=true&amp;amp;sort=schedAdjQBR%3Adesc&amp;amp;season=2019&amp;quot;

# get the raw json into R
raw_json_list &amp;lt;- jsonlite::read_json(url_json)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;josn-view&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;JOSN view&lt;/h2&gt;
&lt;div id=&#34;rstudio-viewer&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Rstudio Viewer&lt;/h3&gt;
&lt;/div&gt;
&lt;div id=&#34;listviewer&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;listviewer&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# interactive list or JSON viewer
# note that you can change the view to raw JSON or the more 
# interactive `View` option
# raw_json_list &amp;lt;- jsonlite::read_json(url_json)
listviewer::jsonedit(raw_json_list, height = &amp;quot;800px&amp;quot;, mode = &amp;quot;view&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:70%;height:800px;&#34; class=&#34;jsonedit html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;data&#34;:{&#34;pagination&#34;:{&#34;count&#34;:30,&#34;limit&#34;:50,&#34;page&#34;:1,&#34;pages&#34;:1,&#34;first&#34;:&#34;http://site.api.espn.com:80/apis/fitt/v3/sports/football/nfl/qbr?isqualified=true&amp;lang=en&amp;qbrtype=seasons&amp;region=us&amp;season=2019&amp;seasontype=2&amp;sort=schedAdjQBR%3Adesc&amp;limit=50&#34;,&#34;last&#34;:&#34;http://site.api.espn.com:80/apis/fitt/v3/sports/football/nfl/qbr?isqualified=true&amp;lang=en&amp;qbrtype=seasons&amp;region=us&amp;season=2019&amp;seasontype=2&amp;sort=schedAdjQBR%3Adesc&amp;limit=50&amp;page=1&#34;},&#34;athletes&#34;:[{&#34;athlete&#34;:{&#34;id&#34;:&#34;3916387&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3916387&#34;,&#34;guid&#34;:&#34;7d76fbb11c5ed9f4954fcad43f720ae2&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Lamar&#34;,&#34;lastName&#34;:&#34;Jackson&#34;,&#34;displayName&#34;:&#34;Lamar Jackson&#34;,&#34;shortName&#34;:&#34;L. Jackson&#34;,&#34;debutYear&#34;:2018,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3916387/lamar-jackson&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3916387/lamar-jackson&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3916387/lamar-jackson&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3916387/lamar-jackson&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3916387/lamar-jackson&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3916387/lamar-jackson&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3916387/lamar-jackson&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3916387.png&#34;,&#34;alt&#34;:&#34;Lamar Jackson&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:23,&#34;teamName&#34;:&#34;Ravens&#34;,&#34;teamShortName&#34;:&#34;BAL&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Ravens&#34;,&#34;abbreviation&#34;:&#34;BAL&#34;}],&#34;slug&#34;:&#34;lamar-jackson&#34;,&#34;teamId&#34;:&#34;33&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:33&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;81.8&#34;,&#34;63.1&#34;,&#34;613&#34;,&#34;103.7&#34;,&#34;55.0&#34;,&#34;39.1&#34;,&#34;0.0&#34;,&#34;2.2&#34;,&#34;81.1&#34;,&#34;-7.4&#34;],&#34;ranks&#34;:[&#34;1&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3139477&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3139477&#34;,&#34;guid&#34;:&#34;37d87523280a9d4a0adb22cfc6d3619c&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Patrick&#34;,&#34;lastName&#34;:&#34;Mahomes&#34;,&#34;displayName&#34;:&#34;Patrick Mahomes&#34;,&#34;shortName&#34;:&#34;P. Mahomes&#34;,&#34;debutYear&#34;:2017,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3139477/patrick-mahomes&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3139477/patrick-mahomes&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3139477/patrick-mahomes&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3139477/patrick-mahomes&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3139477/patrick-mahomes&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3139477/patrick-mahomes&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3139477/patrick-mahomes&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3139477.png&#34;,&#34;alt&#34;:&#34;Patrick Mahomes&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:24,&#34;teamName&#34;:&#34;Chiefs&#34;,&#34;teamShortName&#34;:&#34;KC&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Chiefs&#34;,&#34;abbreviation&#34;:&#34;KC&#34;}],&#34;slug&#34;:&#34;patrick-mahomes&#34;,&#34;teamId&#34;:&#34;12&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:12&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;76.3&#34;,&#34;52.4&#34;,&#34;585&#34;,&#34;97.3&#34;,&#34;71.6&#34;,&#34;14.3&#34;,&#34;0.0&#34;,&#34;5.0&#34;,&#34;78.0&#34;,&#34;-6.5&#34;],&#34;ranks&#34;:[&#34;2&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;2580&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:2580&#34;,&#34;guid&#34;:&#34;a3d4f4473aef111aee5c4909a8e70a7c&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Drew&#34;,&#34;lastName&#34;:&#34;Brees&#34;,&#34;displayName&#34;:&#34;Drew Brees&#34;,&#34;shortName&#34;:&#34;D. Brees&#34;,&#34;debutYear&#34;:2001,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2580/drew-brees&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/2580/drew-brees&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/2580/drew-brees&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/2580/drew-brees&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/2580/drew-brees&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/2580/drew-brees&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2580/drew-brees&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/2580.png&#34;,&#34;alt&#34;:&#34;Drew Brees&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:41,&#34;teamName&#34;:&#34;Saints&#34;,&#34;teamShortName&#34;:&#34;NO&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Saints&#34;,&#34;abbreviation&#34;:&#34;NO&#34;}],&#34;slug&#34;:&#34;drew-brees&#34;,&#34;teamId&#34;:&#34;18&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:18&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;71.7&#34;,&#34;31.3&#34;,&#34;419&#34;,&#34;62.6&#34;,&#34;53.1&#34;,&#34;1.6&#34;,&#34;0.0&#34;,&#34;1.9&#34;,&#34;74.2&#34;,&#34;-6.0&#34;],&#34;ranks&#34;:[&#34;3&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;2577417&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:2577417&#34;,&#34;guid&#34;:&#34;5f09781b6b0b7325049ba91e60d794e6&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Dak&#34;,&#34;lastName&#34;:&#34;Prescott&#34;,&#34;displayName&#34;:&#34;Dak Prescott&#34;,&#34;shortName&#34;:&#34;D. Prescott&#34;,&#34;debutYear&#34;:2016,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2577417/dak-prescott&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/2577417/dak-prescott&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/2577417/dak-prescott&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/2577417/dak-prescott&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/2577417/dak-prescott&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/2577417/dak-prescott&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2577417/dak-prescott&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/2577417.png&#34;,&#34;alt&#34;:&#34;Dak Prescott&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:27,&#34;teamName&#34;:&#34;Cowboys&#34;,&#34;teamShortName&#34;:&#34;DAL&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Cowboys&#34;,&#34;abbreviation&#34;:&#34;DAL&#34;}],&#34;slug&#34;:&#34;dak-prescott&#34;,&#34;teamId&#34;:&#34;6&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:6&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;70.2&#34;,&#34;44.1&#34;,&#34;690&#34;,&#34;93.1&#34;,&#34;70.7&#34;,&#34;10.0&#34;,&#34;0.0&#34;,&#34;2.6&#34;,&#34;71.2&#34;,&#34;-9.7&#34;],&#34;ranks&#34;:[&#34;4&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;14881&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:14881&#34;,&#34;guid&#34;:&#34;f0610946ceb69a993bcccf110b2078b5&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Russell&#34;,&#34;lastName&#34;:&#34;Wilson&#34;,&#34;displayName&#34;:&#34;Russell Wilson&#34;,&#34;shortName&#34;:&#34;R. Wilson&#34;,&#34;debutYear&#34;:2012,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14881/russell-wilson&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/14881/russell-wilson&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/14881/russell-wilson&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/14881/russell-wilson&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/14881/russell-wilson&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/14881/russell-wilson&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14881/russell-wilson&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/14881.png&#34;,&#34;alt&#34;:&#34;Russell Wilson&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:31,&#34;teamName&#34;:&#34;Seahawks&#34;,&#34;teamShortName&#34;:&#34;SEA&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Seahawks&#34;,&#34;abbreviation&#34;:&#34;SEA&#34;}],&#34;slug&#34;:&#34;russell-wilson&#34;,&#34;teamId&#34;:&#34;26&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:26&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;69.8&#34;,&#34;39.1&#34;,&#34;674&#34;,&#34;90.9&#34;,&#34;58.3&#34;,&#34;10.6&#34;,&#34;0.0&#34;,&#34;1.5&#34;,&#34;69.4&#34;,&#34;-20.6&#34;],&#34;ranks&#34;:[&#34;5&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;12483&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:12483&#34;,&#34;guid&#34;:&#34;20c41c33a33f6dc27e1f0771e39ce49a&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Matthew&#34;,&#34;lastName&#34;:&#34;Stafford&#34;,&#34;displayName&#34;:&#34;Matthew Stafford&#34;,&#34;shortName&#34;:&#34;M. Stafford&#34;,&#34;debutYear&#34;:2009,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/12483/matthew-stafford&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/12483/matthew-stafford&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/12483/matthew-stafford&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/12483/matthew-stafford&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/12483/matthew-stafford&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/12483/matthew-stafford&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/12483/matthew-stafford&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/12483.png&#34;,&#34;alt&#34;:&#34;Matthew Stafford&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:32,&#34;teamName&#34;:&#34;Lions&#34;,&#34;teamShortName&#34;:&#34;DET&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Lions&#34;,&#34;abbreviation&#34;:&#34;DET&#34;}],&#34;slug&#34;:&#34;matthew-stafford&#34;,&#34;teamId&#34;:&#34;8&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:8&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;69.6&#34;,&#34;24.9&#34;,&#34;353&#34;,&#34;56.1&#34;,&#34;44.5&#34;,&#34;1.6&#34;,&#34;0.0&#34;,&#34;1.9&#34;,&#34;73.1&#34;,&#34;-8.0&#34;],&#34;ranks&#34;:[&#34;6&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3122840&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3122840&#34;,&#34;guid&#34;:&#34;b6ec8e9e3d85a1de9d0a5a51621a9c20&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Deshaun&#34;,&#34;lastName&#34;:&#34;Watson&#34;,&#34;displayName&#34;:&#34;Deshaun Watson&#34;,&#34;shortName&#34;:&#34;D. Watson&#34;,&#34;debutYear&#34;:2017,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3122840/deshaun-watson&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3122840/deshaun-watson&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3122840/deshaun-watson&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3122840/deshaun-watson&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3122840/deshaun-watson&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3122840/deshaun-watson&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3122840/deshaun-watson&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3122840.png&#34;,&#34;alt&#34;:&#34;Deshaun Watson&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:24,&#34;teamName&#34;:&#34;Texans&#34;,&#34;teamShortName&#34;:&#34;HOU&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Texans&#34;,&#34;abbreviation&#34;:&#34;HOU&#34;}],&#34;slug&#34;:&#34;deshaun-watson&#34;,&#34;teamId&#34;:&#34;34&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:34&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;68.7&#34;,&#34;38.5&#34;,&#34;662&#34;,&#34;91.6&#34;,&#34;52.0&#34;,&#34;19.8&#34;,&#34;0.0&#34;,&#34;1.4&#34;,&#34;69.5&#34;,&#34;-18.5&#34;],&#34;ranks&#34;:[&#34;7&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;8664&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:8664&#34;,&#34;guid&#34;:&#34;5dab6f81c90caeb6e2c3a4ab46ec447b&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Ryan&#34;,&#34;lastName&#34;:&#34;Fitzpatrick&#34;,&#34;displayName&#34;:&#34;Ryan Fitzpatrick&#34;,&#34;shortName&#34;:&#34;R. Fitzpatrick&#34;,&#34;debutYear&#34;:2005,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/8664/ryan-fitzpatrick&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/8664/ryan-fitzpatrick&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/8664/ryan-fitzpatrick&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/8664/ryan-fitzpatrick&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/8664/ryan-fitzpatrick&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/8664/ryan-fitzpatrick&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/8664/ryan-fitzpatrick&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/8664.png&#34;,&#34;alt&#34;:&#34;Ryan Fitzpatrick&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:37,&#34;teamName&#34;:&#34;Dolphins&#34;,&#34;teamShortName&#34;:&#34;MIA&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Dolphins&#34;,&#34;abbreviation&#34;:&#34;MIA&#34;}],&#34;slug&#34;:&#34;ryan-fitzpatrick&#34;,&#34;teamId&#34;:&#34;15&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:15&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;66.5&#34;,&#34;26.6&#34;,&#34;620&#34;,&#34;70.7&#34;,&#34;47.6&#34;,&#34;6.3&#34;,&#34;0.0&#34;,&#34;3.7&#34;,&#34;64.7&#34;,&#34;-13.1&#34;],&#34;ranks&#34;:[&#34;8&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;14876&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:14876&#34;,&#34;guid&#34;:&#34;2d6af5dcb3d3e2d4cf7227d4a8eb93cd&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Ryan&#34;,&#34;lastName&#34;:&#34;Tannehill&#34;,&#34;displayName&#34;:&#34;Ryan Tannehill&#34;,&#34;shortName&#34;:&#34;R. Tannehill&#34;,&#34;debutYear&#34;:2012,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14876/ryan-tannehill&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/14876/ryan-tannehill&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/14876/ryan-tannehill&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/14876/ryan-tannehill&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/14876/ryan-tannehill&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/14876/ryan-tannehill&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14876/ryan-tannehill&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/14876.png&#34;,&#34;alt&#34;:&#34;Ryan Tannehill&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:32,&#34;teamName&#34;:&#34;Titans&#34;,&#34;teamShortName&#34;:&#34;TEN&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Titans&#34;,&#34;abbreviation&#34;:&#34;TEN&#34;}],&#34;slug&#34;:&#34;ryan-tannehill&#34;,&#34;teamId&#34;:&#34;10&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:10&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;62.2&#34;,&#34;16.8&#34;,&#34;374&#34;,&#34;45.8&#34;,&#34;18.1&#34;,&#34;11.7&#34;,&#34;0.0&#34;,&#34;2.3&#34;,&#34;65.4&#34;,&#34;-13.7&#34;],&#34;ranks&#34;:[&#34;9&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;16757&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:16757&#34;,&#34;guid&#34;:&#34;50d25930fd5f311dd93213e5ab467ff7&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Derek&#34;,&#34;lastName&#34;:&#34;Carr&#34;,&#34;displayName&#34;:&#34;Derek Carr&#34;,&#34;shortName&#34;:&#34;D. Carr&#34;,&#34;debutYear&#34;:2014,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/16757/derek-carr&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/16757/derek-carr&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/16757/derek-carr&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/16757/derek-carr&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/16757/derek-carr&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/16757/derek-carr&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/16757/derek-carr&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/16757.png&#34;,&#34;alt&#34;:&#34;Derek Carr&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:29,&#34;teamName&#34;:&#34;Raiders&#34;,&#34;teamShortName&#34;:&#34;OAK&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Raiders&#34;,&#34;abbreviation&#34;:&#34;OAK&#34;}],&#34;slug&#34;:&#34;derek-carr&#34;,&#34;teamId&#34;:&#34;13&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:13&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;62.2&#34;,&#34;23.8&#34;,&#34;598&#34;,&#34;70.3&#34;,&#34;54.2&#34;,&#34;2.7&#34;,&#34;0.0&#34;,&#34;1.1&#34;,&#34;63.7&#34;,&#34;-12.3&#34;],&#34;ranks&#34;:[&#34;10&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;2573079&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:2573079&#34;,&#34;guid&#34;:&#34;ed28fa2c63a18258b6b0618e79d3e363&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Carson&#34;,&#34;lastName&#34;:&#34;Wentz&#34;,&#34;displayName&#34;:&#34;Carson Wentz&#34;,&#34;shortName&#34;:&#34;C. Wentz&#34;,&#34;debutYear&#34;:2016,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2573079/carson-wentz&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/2573079/carson-wentz&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/2573079/carson-wentz&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/2573079/carson-wentz&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/2573079/carson-wentz&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/2573079/carson-wentz&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2573079/carson-wentz&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/2573079.png&#34;,&#34;alt&#34;:&#34;Carson Wentz&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:27,&#34;teamName&#34;:&#34;Eagles&#34;,&#34;teamShortName&#34;:&#34;PHI&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Eagles&#34;,&#34;abbreviation&#34;:&#34;PHI&#34;}],&#34;slug&#34;:&#34;carson-wentz&#34;,&#34;teamId&#34;:&#34;21&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:21&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;60.8&#34;,&#34;27.8&#34;,&#34;745&#34;,&#34;90.5&#34;,&#34;61.5&#34;,&#34;7.7&#34;,&#34;0.0&#34;,&#34;5.8&#34;,&#34;62.9&#34;,&#34;-15.5&#34;],&#34;ranks&#34;:[&#34;11&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;16760&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:16760&#34;,&#34;guid&#34;:&#34;1d58c0548e0e1f6e726702ec9679f43f&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Jimmy&#34;,&#34;lastName&#34;:&#34;Garoppolo&#34;,&#34;displayName&#34;:&#34;Jimmy Garoppolo&#34;,&#34;shortName&#34;:&#34;J. Garoppolo&#34;,&#34;debutYear&#34;:2014,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/16760/jimmy-garoppolo&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/16760/jimmy-garoppolo&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/16760/jimmy-garoppolo&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/16760/jimmy-garoppolo&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/16760/jimmy-garoppolo&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/16760/jimmy-garoppolo&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/16760/jimmy-garoppolo&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/16760.png&#34;,&#34;alt&#34;:&#34;Jimmy Garoppolo&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:28,&#34;teamName&#34;:&#34;49ers&#34;,&#34;teamShortName&#34;:&#34;SF&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;49ers&#34;,&#34;abbreviation&#34;:&#34;SF&#34;}],&#34;slug&#34;:&#34;jimmy-garoppolo&#34;,&#34;teamId&#34;:&#34;25&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:25&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;58.8&#34;,&#34;17.3&#34;,&#34;593&#34;,&#34;69.3&#34;,&#34;48.5&#34;,&#34;-0.2&#34;,&#34;0.0&#34;,&#34;5.0&#34;,&#34;60.2&#34;,&#34;-15.9&#34;],&#34;ranks&#34;:[&#34;12&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;14880&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:14880&#34;,&#34;guid&#34;:&#34;53bec012c2edbc7ca8d5438611f9faa1&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Kirk&#34;,&#34;lastName&#34;:&#34;Cousins&#34;,&#34;displayName&#34;:&#34;Kirk Cousins&#34;,&#34;shortName&#34;:&#34;K. Cousins&#34;,&#34;debutYear&#34;:2012,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14880/kirk-cousins&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/14880/kirk-cousins&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/14880/kirk-cousins&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/14880/kirk-cousins&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/14880/kirk-cousins&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/14880/kirk-cousins&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14880/kirk-cousins&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/14880.png&#34;,&#34;alt&#34;:&#34;Kirk Cousins&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:32,&#34;teamName&#34;:&#34;Vikings&#34;,&#34;teamShortName&#34;:&#34;MIN&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Vikings&#34;,&#34;abbreviation&#34;:&#34;MIN&#34;}],&#34;slug&#34;:&#34;kirk-cousins&#34;,&#34;teamId&#34;:&#34;16&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:16&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;58.4&#34;,&#34;15.0&#34;,&#34;537&#34;,&#34;59.0&#34;,&#34;44.6&#34;,&#34;-1.6&#34;,&#34;0.0&#34;,&#34;5.1&#34;,&#34;59.8&#34;,&#34;-10.9&#34;],&#34;ranks&#34;:[&#34;13&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;11237&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:11237&#34;,&#34;guid&#34;:&#34;c79f38c2a37e5dfcdd3da91f4811b2cd&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Matt&#34;,&#34;lastName&#34;:&#34;Ryan&#34;,&#34;displayName&#34;:&#34;Matt Ryan&#34;,&#34;shortName&#34;:&#34;M. Ryan&#34;,&#34;debutYear&#34;:2008,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/11237/matt-ryan&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/11237/matt-ryan&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/11237/matt-ryan&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/11237/matt-ryan&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/11237/matt-ryan&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/11237/matt-ryan&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/11237/matt-ryan&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/11237.png&#34;,&#34;alt&#34;:&#34;Matt Ryan&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:35,&#34;teamName&#34;:&#34;Falcons&#34;,&#34;teamShortName&#34;:&#34;ATL&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Falcons&#34;,&#34;abbreviation&#34;:&#34;ATL&#34;}],&#34;slug&#34;:&#34;matt-ryan&#34;,&#34;teamId&#34;:&#34;1&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:1&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;57.6&#34;,&#34;18.0&#34;,&#34;748&#34;,&#34;75.1&#34;,&#34;45.4&#34;,&#34;5.4&#34;,&#34;0.0&#34;,&#34;5.7&#34;,&#34;58.4&#34;,&#34;-18.6&#34;],&#34;ranks&#34;:[&#34;14&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3917315&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3917315&#34;,&#34;guid&#34;:&#34;9bef707dd33f266b302081900d735915&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Kyler&#34;,&#34;lastName&#34;:&#34;Murray&#34;,&#34;displayName&#34;:&#34;Kyler Murray&#34;,&#34;shortName&#34;:&#34;K. Murray&#34;,&#34;debutYear&#34;:2019,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3917315/kyler-murray&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3917315/kyler-murray&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3917315/kyler-murray&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3917315/kyler-murray&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3917315/kyler-murray&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3917315/kyler-murray&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3917315/kyler-murray&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3917315.png&#34;,&#34;alt&#34;:&#34;Kyler Murray&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:23,&#34;teamName&#34;:&#34;Cardinals&#34;,&#34;teamShortName&#34;:&#34;ARI&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Cardinals&#34;,&#34;abbreviation&#34;:&#34;ARI&#34;}],&#34;slug&#34;:&#34;kyler-murray&#34;,&#34;teamId&#34;:&#34;22&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:22&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;55.7&#34;,&#34;12.1&#34;,&#34;709&#34;,&#34;71.6&#34;,&#34;37.3&#34;,&#34;13.4&#34;,&#34;0.0&#34;,&#34;3.0&#34;,&#34;56.0&#34;,&#34;-17.8&#34;],&#34;ranks&#34;:[&#34;15&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;2969939&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:2969939&#34;,&#34;guid&#34;:&#34;57af2581cec9d5a32afe7a719925f78b&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Jameis&#34;,&#34;lastName&#34;:&#34;Winston&#34;,&#34;displayName&#34;:&#34;Jameis Winston&#34;,&#34;shortName&#34;:&#34;J. Winston&#34;,&#34;debutYear&#34;:2015,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2969939/jameis-winston&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/2969939/jameis-winston&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/2969939/jameis-winston&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/2969939/jameis-winston&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/2969939/jameis-winston&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/2969939/jameis-winston&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2969939/jameis-winston&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/2969939.png&#34;,&#34;alt&#34;:&#34;Jameis Winston&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:26,&#34;teamName&#34;:&#34;Buccaneers&#34;,&#34;teamShortName&#34;:&#34;TB&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Buccaneers&#34;,&#34;abbreviation&#34;:&#34;TB&#34;}],&#34;slug&#34;:&#34;jameis-winston&#34;,&#34;teamId&#34;:&#34;27&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:27&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;53.7&#34;,&#34;15.6&#34;,&#34;772&#34;,&#34;78.4&#34;,&#34;48.7&#34;,&#34;9.0&#34;,&#34;0.0&#34;,&#34;2.6&#34;,&#34;57.1&#34;,&#34;-18.3&#34;],&#34;ranks&#34;:[&#34;16&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;2330&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:2330&#34;,&#34;guid&#34;:&#34;be3c0e305a1e8174091da41bf4e2d51e&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Tom&#34;,&#34;lastName&#34;:&#34;Brady&#34;,&#34;displayName&#34;:&#34;Tom Brady&#34;,&#34;shortName&#34;:&#34;T. Brady&#34;,&#34;debutYear&#34;:2000,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2330/tom-brady&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/2330/tom-brady&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/2330/tom-brady&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/2330/tom-brady&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/2330/tom-brady&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/2330/tom-brady&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2330/tom-brady&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/2330.png&#34;,&#34;alt&#34;:&#34;Tom Brady&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:43,&#34;teamName&#34;:&#34;Patriots&#34;,&#34;teamShortName&#34;:&#34;NE&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Patriots&#34;,&#34;abbreviation&#34;:&#34;NE&#34;}],&#34;slug&#34;:&#34;tom-brady&#34;,&#34;teamId&#34;:&#34;17&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:17&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;53.7&#34;,&#34;4.9&#34;,&#34;691&#34;,&#34;61.0&#34;,&#34;40.0&#34;,&#34;4.5&#34;,&#34;0.0&#34;,&#34;5.4&#34;,&#34;52.5&#34;,&#34;-11.0&#34;],&#34;ranks&#34;:[&#34;17&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3917792&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3917792&#34;,&#34;guid&#34;:&#34;5ad1bcc257bcbb72bcd00cdd0d945444&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Daniel&#34;,&#34;lastName&#34;:&#34;Jones&#34;,&#34;displayName&#34;:&#34;Daniel Jones&#34;,&#34;shortName&#34;:&#34;D. Jones&#34;,&#34;debutYear&#34;:2019,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3917792/daniel-jones&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3917792/daniel-jones&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3917792/daniel-jones&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3917792/daniel-jones&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3917792/daniel-jones&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3917792/daniel-jones&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3917792/daniel-jones&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3917792.png&#34;,&#34;alt&#34;:&#34;Daniel Jones&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:23,&#34;teamName&#34;:&#34;Giants&#34;,&#34;teamShortName&#34;:&#34;NYG&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Giants&#34;,&#34;abbreviation&#34;:&#34;NYG&#34;}],&#34;slug&#34;:&#34;daniel-jones&#34;,&#34;teamId&#34;:&#34;19&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:19&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;53.6&#34;,&#34;8.2&#34;,&#34;577&#34;,&#34;55.1&#34;,&#34;22.2&#34;,&#34;11.6&#34;,&#34;0.0&#34;,&#34;4.0&#34;,&#34;55.0&#34;,&#34;-17.4&#34;],&#34;ranks&#34;:[&#34;18&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3052587&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3052587&#34;,&#34;guid&#34;:&#34;5bb4376ad089e3e4e49a44f1d709a012&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Baker&#34;,&#34;lastName&#34;:&#34;Mayfield&#34;,&#34;displayName&#34;:&#34;Baker Mayfield&#34;,&#34;shortName&#34;:&#34;B. Mayfield&#34;,&#34;debutYear&#34;:2018,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3052587/baker-mayfield&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3052587/baker-mayfield&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3052587/baker-mayfield&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3052587/baker-mayfield&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3052587/baker-mayfield&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3052587/baker-mayfield&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3052587/baker-mayfield&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3052587.png&#34;,&#34;alt&#34;:&#34;Baker Mayfield&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:25,&#34;teamName&#34;:&#34;Browns&#34;,&#34;teamShortName&#34;:&#34;CLE&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Browns&#34;,&#34;abbreviation&#34;:&#34;CLE&#34;}],&#34;slug&#34;:&#34;baker-mayfield&#34;,&#34;teamId&#34;:&#34;5&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:5&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;52.4&#34;,&#34;-1.6&#34;,&#34;664&#34;,&#34;54.4&#34;,&#34;22.4&#34;,&#34;9.5&#34;,&#34;0.0&#34;,&#34;5.0&#34;,&#34;49.1&#34;,&#34;-17.6&#34;],&#34;ranks&#34;:[&#34;19&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;8439&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:8439&#34;,&#34;guid&#34;:&#34;5fbab03e281655abae1083b132803d9e&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Aaron&#34;,&#34;lastName&#34;:&#34;Rodgers&#34;,&#34;displayName&#34;:&#34;Aaron Rodgers&#34;,&#34;shortName&#34;:&#34;A. Rodgers&#34;,&#34;debutYear&#34;:2005,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/8439/aaron-rodgers&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/8439/aaron-rodgers&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/8439/aaron-rodgers&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/8439/aaron-rodgers&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/8439/aaron-rodgers&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/8439/aaron-rodgers&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/8439/aaron-rodgers&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/8439.png&#34;,&#34;alt&#34;:&#34;Aaron Rodgers&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:36,&#34;teamName&#34;:&#34;Packers&#34;,&#34;teamShortName&#34;:&#34;GB&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Packers&#34;,&#34;abbreviation&#34;:&#34;GB&#34;}],&#34;slug&#34;:&#34;aaron-rodgers&#34;,&#34;teamId&#34;:&#34;9&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:9&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;50.4&#34;,&#34;6.9&#34;,&#34;691&#34;,&#34;66.4&#34;,&#34;39.7&#34;,&#34;9.3&#34;,&#34;0.0&#34;,&#34;1.1&#34;,&#34;53.5&#34;,&#34;-16.4&#34;],&#34;ranks&#34;:[&#34;20&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;2578570&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:2578570&#34;,&#34;guid&#34;:&#34;efcb42e50bef62d1b58bdbc17fde2479&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Jacoby&#34;,&#34;lastName&#34;:&#34;Brissett&#34;,&#34;displayName&#34;:&#34;Jacoby Brissett&#34;,&#34;shortName&#34;:&#34;J. Brissett&#34;,&#34;debutYear&#34;:2016,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2578570/jacoby-brissett&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/2578570/jacoby-brissett&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/2578570/jacoby-brissett&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/2578570/jacoby-brissett&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/2578570/jacoby-brissett&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/2578570/jacoby-brissett&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/2578570/jacoby-brissett&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/2578570.png&#34;,&#34;alt&#34;:&#34;Jacoby Brissett&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:27,&#34;teamName&#34;:&#34;Colts&#34;,&#34;teamShortName&#34;:&#34;IND&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Colts&#34;,&#34;abbreviation&#34;:&#34;IND&#34;}],&#34;slug&#34;:&#34;jacoby-brissett&#34;,&#34;teamId&#34;:&#34;11&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:11&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;50.1&#34;,&#34;3.3&#34;,&#34;564&#34;,&#34;52.2&#34;,&#34;27.9&#34;,&#34;6.7&#34;,&#34;0.0&#34;,&#34;6.4&#34;,&#34;52.1&#34;,&#34;-11.2&#34;],&#34;ranks&#34;:[&#34;21&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;5529&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:5529&#34;,&#34;guid&#34;:&#34;a7d4c3f14297af471b05c8fa86cc815e&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Philip&#34;,&#34;lastName&#34;:&#34;Rivers&#34;,&#34;displayName&#34;:&#34;Philip Rivers&#34;,&#34;shortName&#34;:&#34;P. Rivers&#34;,&#34;debutYear&#34;:2004,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/5529/philip-rivers&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/5529/philip-rivers&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/5529/philip-rivers&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/5529/philip-rivers&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/5529/philip-rivers&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/5529/philip-rivers&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/5529/philip-rivers&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/5529.png&#34;,&#34;alt&#34;:&#34;Philip Rivers&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:38,&#34;teamName&#34;:&#34;Chargers&#34;,&#34;teamShortName&#34;:&#34;LAC&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Chargers&#34;,&#34;abbreviation&#34;:&#34;LAC&#34;}],&#34;slug&#34;:&#34;philip-rivers&#34;,&#34;teamId&#34;:&#34;24&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:24&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;48.6&#34;,&#34;-2.2&#34;,&#34;691&#34;,&#34;57.4&#34;,&#34;40.0&#34;,&#34;-3.4&#34;,&#34;0.0&#34;,&#34;4.1&#34;,&#34;48.9&#34;,&#34;-16.7&#34;],&#34;ranks&#34;:[&#34;22&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3046779&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3046779&#34;,&#34;guid&#34;:&#34;987f4f39ed6f591557ebec7dc356171c&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Jared&#34;,&#34;lastName&#34;:&#34;Goff&#34;,&#34;displayName&#34;:&#34;Jared Goff&#34;,&#34;shortName&#34;:&#34;J. Goff&#34;,&#34;debutYear&#34;:2016,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3046779/jared-goff&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3046779/jared-goff&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3046779/jared-goff&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3046779/jared-goff&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3046779/jared-goff&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3046779/jared-goff&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3046779/jared-goff&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3046779.png&#34;,&#34;alt&#34;:&#34;Jared Goff&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:25,&#34;teamName&#34;:&#34;Rams&#34;,&#34;teamShortName&#34;:&#34;LAR&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Rams&#34;,&#34;abbreviation&#34;:&#34;LAR&#34;}],&#34;slug&#34;:&#34;jared-goff&#34;,&#34;teamId&#34;:&#34;14&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:14&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;48.5&#34;,&#34;-3.8&#34;,&#34;734&#34;,&#34;57.5&#34;,&#34;54.4&#34;,&#34;-7.3&#34;,&#34;0.0&#34;,&#34;1.6&#34;,&#34;48.2&#34;,&#34;-8.8&#34;],&#34;ranks&#34;:[&#34;23&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3918298&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3918298&#34;,&#34;guid&#34;:&#34;853f876854bd6a4fcb1063d6df1e7742&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Josh&#34;,&#34;lastName&#34;:&#34;Allen&#34;,&#34;displayName&#34;:&#34;Josh Allen&#34;,&#34;shortName&#34;:&#34;J. Allen&#34;,&#34;debutYear&#34;:2018,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3918298/josh-allen&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3918298/josh-allen&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3918298/josh-allen&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3918298/josh-allen&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3918298/josh-allen&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3918298/josh-allen&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3918298/josh-allen&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3918298.png&#34;,&#34;alt&#34;:&#34;Josh Allen&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:24,&#34;teamName&#34;:&#34;Bills&#34;,&#34;teamShortName&#34;:&#34;BUF&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Bills&#34;,&#34;abbreviation&#34;:&#34;BUF&#34;}],&#34;slug&#34;:&#34;josh-allen&#34;,&#34;teamId&#34;:&#34;2&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:2&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;47.3&#34;,&#34;-7.5&#34;,&#34;639&#34;,&#34;51.4&#34;,&#34;21.1&#34;,&#34;10.4&#34;,&#34;0.0&#34;,&#34;2.6&#34;,&#34;45.8&#34;,&#34;-17.4&#34;],&#34;ranks&#34;:[&#34;24&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3912547&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3912547&#34;,&#34;guid&#34;:&#34;938f19a1ef9b618c2365d55291e0fcc6&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Sam&#34;,&#34;lastName&#34;:&#34;Darnold&#34;,&#34;displayName&#34;:&#34;Sam Darnold&#34;,&#34;shortName&#34;:&#34;S. Darnold&#34;,&#34;debutYear&#34;:2018,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3912547/sam-darnold&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3912547/sam-darnold&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3912547/sam-darnold&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3912547/sam-darnold&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3912547/sam-darnold&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3912547/sam-darnold&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3912547/sam-darnold&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3912547.png&#34;,&#34;alt&#34;:&#34;Sam Darnold&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:23,&#34;teamName&#34;:&#34;Jets&#34;,&#34;teamShortName&#34;:&#34;NYJ&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Jets&#34;,&#34;abbreviation&#34;:&#34;NYJ&#34;}],&#34;slug&#34;:&#34;sam-darnold&#34;,&#34;teamId&#34;:&#34;20&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:20&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;43.6&#34;,&#34;-12.8&#34;,&#34;525&#34;,&#34;31.6&#34;,&#34;17.4&#34;,&#34;-3.0&#34;,&#34;0.0&#34;,&#34;3.6&#34;,&#34;41.5&#34;,&#34;-13.7&#34;],&#34;ranks&#34;:[&#34;25&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;4038524&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:4038524&#34;,&#34;guid&#34;:&#34;a64e025b8608fd26e1f8df83133d7a59&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Gardner&#34;,&#34;lastName&#34;:&#34;Minshew II&#34;,&#34;displayName&#34;:&#34;Gardner Minshew II&#34;,&#34;shortName&#34;:&#34;G. Minshew II&#34;,&#34;debutYear&#34;:2019,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/4038524/gardner-minshew-ii&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/4038524/gardner-minshew-ii&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/4038524/gardner-minshew-ii&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/4038524/gardner-minshew-ii&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/4038524/gardner-minshew-ii&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/4038524/gardner-minshew-ii&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/4038524/gardner-minshew-ii&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/4038524.png&#34;,&#34;alt&#34;:&#34;Gardner Minshew II&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:24,&#34;teamName&#34;:&#34;Jaguars&#34;,&#34;teamShortName&#34;:&#34;JAX&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Jaguars&#34;,&#34;abbreviation&#34;:&#34;JAX&#34;}],&#34;slug&#34;:&#34;gardner-minshew-ii&#34;,&#34;teamId&#34;:&#34;30&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:30&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;42.6&#34;,&#34;-8.2&#34;,&#34;600&#34;,&#34;41.8&#34;,&#34;21.5&#34;,&#34;5.4&#34;,&#34;0.0&#34;,&#34;1.4&#34;,&#34;45.2&#34;,&#34;-13.5&#34;],&#34;ranks&#34;:[&#34;26&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;14012&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:14012&#34;,&#34;guid&#34;:&#34;10080fc5c043a458e54d428c18555089&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Andy&#34;,&#34;lastName&#34;:&#34;Dalton&#34;,&#34;displayName&#34;:&#34;Andy Dalton&#34;,&#34;shortName&#34;:&#34;A. Dalton&#34;,&#34;debutYear&#34;:2011,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14012/andy-dalton&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/14012/andy-dalton&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/14012/andy-dalton&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/14012/andy-dalton&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/14012/andy-dalton&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/14012/andy-dalton&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/14012/andy-dalton&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/14012.png&#34;,&#34;alt&#34;:&#34;Andy Dalton&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:32,&#34;teamName&#34;:&#34;Bengals&#34;,&#34;teamShortName&#34;:&#34;CIN&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Bengals&#34;,&#34;abbreviation&#34;:&#34;CIN&#34;}],&#34;slug&#34;:&#34;andy-dalton&#34;,&#34;teamId&#34;:&#34;4&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:4&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;40.1&#34;,&#34;-23.8&#34;,&#34;632&#34;,&#34;30.3&#34;,&#34;12.8&#34;,&#34;1.6&#34;,&#34;0.0&#34;,&#34;3.0&#34;,&#34;37.0&#34;,&#34;-12.9&#34;],&#34;ranks&#34;:[&#34;27&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3039707&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3039707&#34;,&#34;guid&#34;:&#34;bcf9133c2510f4530f0bc68c1a5d0af7&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Mitchell&#34;,&#34;lastName&#34;:&#34;Trubisky&#34;,&#34;displayName&#34;:&#34;Mitchell Trubisky&#34;,&#34;shortName&#34;:&#34;M. Trubisky&#34;,&#34;debutYear&#34;:2017,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3039707/mitchell-trubisky&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3039707/mitchell-trubisky&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3039707/mitchell-trubisky&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3039707/mitchell-trubisky&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3039707/mitchell-trubisky&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3039707/mitchell-trubisky&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3039707/mitchell-trubisky&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3039707.png&#34;,&#34;alt&#34;:&#34;Mitchell Trubisky&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:26,&#34;teamName&#34;:&#34;Bears&#34;,&#34;teamShortName&#34;:&#34;CHI&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Bears&#34;,&#34;abbreviation&#34;:&#34;CHI&#34;}],&#34;slug&#34;:&#34;mitchell-trubisky&#34;,&#34;teamId&#34;:&#34;3&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:3&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;39.5&#34;,&#34;-17.3&#34;,&#34;644&#34;,&#34;39.8&#34;,&#34;17.7&#34;,&#34;1.7&#34;,&#34;0.0&#34;,&#34;3.9&#34;,&#34;40.6&#34;,&#34;-16.5&#34;],&#34;ranks&#34;:[&#34;28&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3115293&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3115293&#34;,&#34;guid&#34;:&#34;5ce7c1f8b2be23104d44ad43e67c8175&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Kyle&#34;,&#34;lastName&#34;:&#34;Allen&#34;,&#34;displayName&#34;:&#34;Kyle Allen&#34;,&#34;shortName&#34;:&#34;K. Allen&#34;,&#34;debutYear&#34;:2018,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3115293/kyle-allen&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3115293/kyle-allen&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3115293/kyle-allen&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3115293/kyle-allen&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3115293/kyle-allen&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3115293/kyle-allen&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3115293/kyle-allen&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3115293.png&#34;,&#34;alt&#34;:&#34;Kyle Allen&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:24,&#34;teamName&#34;:&#34;Panthers&#34;,&#34;teamShortName&#34;:&#34;CAR&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Panthers&#34;,&#34;abbreviation&#34;:&#34;CAR&#34;}],&#34;slug&#34;:&#34;kyle-allen&#34;,&#34;teamId&#34;:&#34;29&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:29&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;36.4&#34;,&#34;-20.8&#34;,&#34;588&#34;,&#34;28.0&#34;,&#34;5.3&#34;,&#34;0.7&#34;,&#34;0.0&#34;,&#34;2.1&#34;,&#34;37.8&#34;,&#34;-19.9&#34;],&#34;ranks&#34;:[&#34;29&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]},{&#34;athlete&#34;:{&#34;id&#34;:&#34;3116407&#34;,&#34;uid&#34;:&#34;s:20~l:28~a:3116407&#34;,&#34;guid&#34;:&#34;779f3cff73ebdcb6132748a95fa9d491&#34;,&#34;type&#34;:&#34;football&#34;,&#34;firstName&#34;:&#34;Mason&#34;,&#34;lastName&#34;:&#34;Rudolph&#34;,&#34;displayName&#34;:&#34;Mason Rudolph&#34;,&#34;shortName&#34;:&#34;M. Rudolph&#34;,&#34;debutYear&#34;:2018,&#34;links&#34;:[{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;playercard&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3116407/mason-rudolph&#34;,&#34;text&#34;:&#34;Player Card&#34;,&#34;shortText&#34;:&#34;Player Card&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;stats&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/stats/_/id/3116407/mason-rudolph&#34;,&#34;text&#34;:&#34;Stats&#34;,&#34;shortText&#34;:&#34;Stats&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;splits&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/splits/_/id/3116407/mason-rudolph&#34;,&#34;text&#34;:&#34;Splits&#34;,&#34;shortText&#34;:&#34;Splits&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;gamelog&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/gamelog/_/id/3116407/mason-rudolph&#34;,&#34;text&#34;:&#34;Game Log&#34;,&#34;shortText&#34;:&#34;Game Log&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;news&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/news/_/id/3116407/mason-rudolph&#34;,&#34;text&#34;:&#34;News&#34;,&#34;shortText&#34;:&#34;News&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;bio&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/bio/_/id/3116407/mason-rudolph&#34;,&#34;text&#34;:&#34;Bio&#34;,&#34;shortText&#34;:&#34;Bio&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false},{&#34;language&#34;:&#34;en-US&#34;,&#34;rel&#34;:[&#34;overview&#34;,&#34;desktop&#34;,&#34;athlete&#34;],&#34;href&#34;:&#34;http://www.espn.com/nfl/player/_/id/3116407/mason-rudolph&#34;,&#34;text&#34;:&#34;Overview&#34;,&#34;shortText&#34;:&#34;Overview&#34;,&#34;isExternal&#34;:false,&#34;isPremium&#34;:false}],&#34;headshot&#34;:{&#34;href&#34;:&#34;https://a.espncdn.com/i/headshots/nfl/players/full/3116407.png&#34;,&#34;alt&#34;:&#34;Mason Rudolph&#34;},&#34;position&#34;:{&#34;id&#34;:&#34;8&#34;,&#34;name&#34;:&#34;Quarterback&#34;,&#34;displayName&#34;:&#34;Quarterback&#34;,&#34;abbreviation&#34;:&#34;QB&#34;,&#34;leaf&#34;:true,&#34;parent&#34;:{&#34;leaf&#34;:false},&#34;slug&#34;:&#34;quarterback&#34;},&#34;status&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;name&#34;:&#34;Active&#34;,&#34;type&#34;:&#34;active&#34;,&#34;abbreviation&#34;:&#34;Active&#34;},&#34;age&#34;:25,&#34;teamName&#34;:&#34;Steelers&#34;,&#34;teamShortName&#34;:&#34;PIT&#34;,&#34;teams&#34;:[{&#34;name&#34;:&#34;Steelers&#34;,&#34;abbreviation&#34;:&#34;PIT&#34;}],&#34;slug&#34;:&#34;mason-rudolph&#34;,&#34;teamId&#34;:&#34;23&#34;,&#34;teamUId&#34;:&#34;s:20~l:28~t:23&#34;},&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;totals&#34;:[&#34;34.4&#34;,&#34;-14.8&#34;,&#34;336&#34;,&#34;16.9&#34;,&#34;7.2&#34;,&#34;-1.3&#34;,&#34;0.0&#34;,&#34;3.2&#34;,&#34;34.9&#34;,&#34;-7.8&#34;],&#34;ranks&#34;:[&#34;30&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;,&#34;-&#34;]}]}],&#34;currentSeason&#34;:{&#34;year&#34;:2020,&#34;displayName&#34;:&#34;2020&#34;,&#34;startDate&#34;:&#34;2020-08-05T07:00:00.000+0000&#34;,&#34;endDate&#34;:&#34;2021-02-10T07:59:00.000+0000&#34;,&#34;type&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;type&#34;:1,&#34;name&#34;:&#34;Preseason&#34;,&#34;startDate&#34;:&#34;2020-08-05T07:00:00.000+0000&#34;,&#34;endDate&#34;:&#34;2020-09-09T06:59:00.000+0000&#34;,&#34;week&#34;:{&#34;number&#34;:3,&#34;startDate&#34;:&#34;2020-08-19T07:00:00.000+0000&#34;,&#34;endDate&#34;:&#34;2020-08-26T06:59:00.000+0000&#34;,&#34;text&#34;:&#34;Preseason Week 2&#34;}}},&#34;requestedSeason&#34;:{&#34;year&#34;:2019,&#34;displayName&#34;:&#34;2019&#34;,&#34;startDate&#34;:&#34;2019-07-31T07:00:00.000+0000&#34;,&#34;endDate&#34;:&#34;2020-02-06T07:59:00.000+0000&#34;,&#34;type&#34;:{&#34;id&#34;:&#34;2&#34;,&#34;type&#34;:2,&#34;name&#34;:&#34;Regular Season&#34;,&#34;startDate&#34;:&#34;2019-09-05T07:00:00.000+0000&#34;,&#34;endDate&#34;:&#34;2020-01-01T07:59:00.000+0000&#34;,&#34;week&#34;:{}}},&#34;glossary&#34;:[{&#34;abbreviation&#34;:&#34;EXP&#34;,&#34;displayName&#34;:&#34;EXP SACK&#34;},{&#34;abbreviation&#34;:&#34;PA&#34;,&#34;displayName&#34;:&#34;Points Added&#34;},{&#34;abbreviation&#34;:&#34;PAS&#34;,&#34;displayName&#34;:&#34;Pass&#34;},{&#34;abbreviation&#34;:&#34;PEN&#34;,&#34;displayName&#34;:&#34;PENALTY&#34;},{&#34;abbreviation&#34;:&#34;QBP&#34;,&#34;displayName&#34;:&#34;QB PLAYS&#34;},{&#34;abbreviation&#34;:&#34;QBR&#34;,&#34;displayName&#34;:&#34;RAW QBR&#34;},{&#34;abbreviation&#34;:&#34;RUN&#34;,&#34;displayName&#34;:&#34;RUN&#34;},{&#34;abbreviation&#34;:&#34;SAC&#34;,&#34;displayName&#34;:&#34;SACK&#34;},{&#34;abbreviation&#34;:&#34;TOT&#34;,&#34;displayName&#34;:&#34;TOTAL EPA&#34;},{&#34;abbreviation&#34;:&#34;TQBR&#34;,&#34;displayName&#34;:&#34;TOTAL QBR&#34;}],&#34;categories&#34;:[{&#34;name&#34;:&#34;general&#34;,&#34;displayName&#34;:&#34;General &#34;,&#34;labels&#34;:[&#34;TQBR&#34;,&#34;PA&#34;,&#34;QBP&#34;,&#34;TOT&#34;,&#34;PAS&#34;,&#34;RUN&#34;,&#34;EXP&#34;,&#34;PEN&#34;,&#34;QBR&#34;,&#34;SAC&#34;],&#34;names&#34;:[&#34;schedAdjQBR&#34;,&#34;qbpaa&#34;,&#34;actionPlays&#34;,&#34;cwepaTotal&#34;,&#34;cwepaPassesCondensed&#34;,&#34;cwepaRuns&#34;,&#34;cwepaSacked&#34;,&#34;cwepaPenalties&#34;,&#34;qbr&#34;,&#34;cwepaSackedCondensed&#34;],&#34;displayNames&#34;:[&#34;TOTAL QBR&#34;,&#34;Points Added&#34;,&#34;QB PLAYS&#34;,&#34;TOTAL EPA&#34;,&#34;Pass&#34;,&#34;RUN&#34;,&#34;EXP SACK&#34;,&#34;PENALTY&#34;,&#34;RAW QBR&#34;,&#34;SACK&#34;],&#34;descriptions&#34;:[&#34;Adjusted Total Quarterback Rating, which values the quarterback on all play types on a 0-100 scale adjusted for the strength of opposing defenses faced.&#34;,&#34;Number of points contributed by a quarterback, accounting for QBR and how much he plays, above the level of an average quarterback.&#34;,&#34;Plays on which the QB has a non-zero expected points contribution. Includes most plays that are not handoffs.&#34;,&#34;Total clutch-weighted expected points added.&#34;,&#34;Clutch-weighted expected points added on plays with pass attempts.&#34;,&#34;Clutch-weighted expected points added through rushes&#34;,&#34;Clutch-weighted expected points added (lost) from sacks (not fumbles that may occur because of sacks).&#34;,&#34;Clutch-weighted expected points added on penalties.&#34;,&#34;Raw Total Quarterback Rating, which values quarterback on all play types on a 0-100 scale (not adjusted for opposing defenses faced)&#34;,&#34;Clutch-weighted expected points added (lost) on sacks.&#34;]}],&#34;currentValues&#34;:{&#34;qbrType&#34;:&#34;seasons&#34;,&#34;sport&#34;:&#34;football&#34;,&#34;league&#34;:&#34;nfl&#34;,&#34;season&#34;:2019,&#34;seasontype&#34;:2,&#34;week&#34;:[],&#34;conference&#34;:9,&#34;isQualified&#34;:true,&#34;limit&#34;:50,&#34;page&#34;:1,&#34;lang&#34;:&#34;en&#34;,&#34;sort&#34;:{&#34;stat&#34;:&#34;schedAdjQBR&#34;,&#34;direction&#34;:&#34;desc&#34;},&#34;region&#34;:&#34;us&#34;}},&#34;options&#34;:{&#34;mode&#34;:&#34;view&#34;,&#34;modes&#34;:[&#34;code&#34;,&#34;form&#34;,&#34;text&#34;,&#34;tree&#34;,&#34;view&#34;]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;methods-tidyr&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;methods: tidyr&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# get names of the QBR categories
# raw_json_list[[&amp;quot;categories&amp;quot;]][[1]][[&amp;quot;labels&amp;quot;]]
category_names &amp;lt;-
  raw_json_list %&amp;gt;%
  pluck(&amp;quot;categories&amp;quot;, 1, &amp;quot;labels&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# create tibble out of athlete objects
athletes &amp;lt;- tibble(athlete = pluck(raw_json_list, &amp;quot;athletes&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;unnest_wider: 对 list 中的每个元素运用&lt;code&gt;[[]]&lt;/code&gt;,新增一列, 直到所有的元素取完.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;unnest_longer: 对 list 中的每个元素运用&lt;code&gt;[[]]&lt;/code&gt;,新增一行, 直到所有的元素取完.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;qbr_hadley &amp;lt;- 
  athletes %&amp;gt;% 
  unnest_wider(athlete) %&amp;gt;% 
  hoist(athlete, &amp;quot;displayName&amp;quot;, &amp;quot;teamName&amp;quot;, &amp;quot;teamShortName&amp;quot;) %&amp;gt;% 
  unnest_longer(categories) %&amp;gt;% 
  hoist(categories, &amp;quot;totals&amp;quot;) %&amp;gt;% 
  mutate(totals = map(totals, as.double),
         totals = map(totals, set_names, category_names)) %&amp;gt;% 
  unnest_wider(totals) %&amp;gt;% 
  #listviewer::jsonedit(., height = &amp;quot;800px&amp;quot;, mode = &amp;quot;view&amp;quot;)
  # headshot = list(&amp;quot;headshot&amp;quot;, &amp;quot;href&amp;quot;), 
  # 这里加 list()是更进一步深挖的意思
  # 如果不加默认是第一层, 加了 list()可以层层递进
  # hoist(athlete, &amp;quot;headshot&amp;quot;) %&amp;gt;% 
  # hoist(headshot, &amp;quot;href&amp;quot;) 
  # 等价于下面这一行
  hoist(athlete, headshot = list(&amp;quot;headshot&amp;quot;, &amp;quot;href&amp;quot;)) %&amp;gt;% 
  select(-athlete, -categories)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://themockup.blog/posts/2020-05-22-parsing-json-in-r-with-jsonlite/&#34;&gt;The Mockup Blog: Easily parsing JSON in R with jsonlite and purrr&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>change blogdown syntax highlighting in blogdown</title>
      <link>/post/change-blogdown-syntax-highlighting-in-blogdown/</link>
      <pubDate>Tue, 02 Jun 2020 00:00:00 +0000</pubDate>
      <guid>/post/change-blogdown-syntax-highlighting-in-blogdown/</guid>
      <description>&lt;h2 id=&#34;how&#34;&gt;how&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt; [markup.highlight]
    codeFences = true
    hl_Lines = &amp;quot;&amp;quot;
    lineNoStart = 1
    lineNos = false
    lineNumbersInTable = true
    noClasses = true
    style = &amp;quot;solarized-dark&amp;quot;
    tabWidth = 4
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;the config.toml file contains this section which is the bit that actually parametrises the highlighting.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;syntax-highlighting&#34;&gt;syntax highlighting&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#586e75&#34;&gt;# how to create a bar plot with ggplot2&lt;/span&gt;
&lt;span style=&#34;color:#268bd2&#34;&gt;library&lt;/span&gt;(ggthemes)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Warning: package &#39;ggthemes&#39; was built under R version 3.5.2
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;library&lt;/span&gt;(ggplot2)
&lt;span style=&#34;color:#268bd2&#34;&gt;library&lt;/span&gt;(dplyr)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Warning: package &#39;dplyr&#39; was built under R version 3.5.2
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## 
## Attaching package: &#39;dplyr&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;library&lt;/span&gt;(tidyverse)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Warning: package &#39;tidyverse&#39; was built under R version 3.5.2
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## Warning: package &#39;tidyr&#39; was built under R version 3.5.2
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## Warning: package &#39;purrr&#39; was built under R version 3.5.2
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## Warning: package &#39;stringr&#39; was built under R version 3.5.2
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## Warning: package &#39;forcats&#39; was built under R version 3.5.2
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#586e75&#34;&gt;#how to create a barplot with label using ggplot2 package&lt;/span&gt;
iris &lt;span style=&#34;color:#719e07&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;group_by&lt;/span&gt;(Species) &lt;span style=&#34;color:#719e07&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;summarise&lt;/span&gt;(counts &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;n&lt;/span&gt;()) &lt;span style=&#34;color:#719e07&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;mutate&lt;/span&gt;(Species &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;fct_reorder&lt;/span&gt;(Species, counts)) &lt;span style=&#34;color:#719e07&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;ggplot&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; Species, y &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; counts, fill &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; Species)) &lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;geom_bar&lt;/span&gt;(stat &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;identity&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;geom_text&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;aes&lt;/span&gt;(label &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; counts), hjust &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;1.6&lt;/span&gt;, color &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;white&amp;#34;&lt;/span&gt;, size &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;coord_flip&lt;/span&gt;() &lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;theme_minimal&lt;/span&gt;()&lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;scale_color_tableau&lt;/span&gt;() &lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;scale_fill_tableau&lt;/span&gt;()&lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;labs&lt;/span&gt;(caption &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;figure 01&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#719e07&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#268bd2&#34;&gt;theme&lt;/span&gt;(axis.text.x &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;element_text&lt;/span&gt;(angle &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;0&lt;/span&gt;, hjust &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;1&lt;/span&gt;),
        legend.position &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;bottom&amp;#34;&lt;/span&gt;,
        plot.caption&lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;element_text&lt;/span&gt;(size&lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;12&lt;/span&gt;,family &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;Arial&amp;#34;&lt;/span&gt;,face &lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;bold&amp;#34;&lt;/span&gt;,
                                  hjust&lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;0&lt;/span&gt;, margin&lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;margin&lt;/span&gt;(t&lt;span style=&#34;color:#719e07&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;15&lt;/span&gt;)))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/post/2020-06-02-change-blogdown-syntax-highlighting-in-blogdown_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;why&#34;&gt;why&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Creating Websites with R Markdown book which outlines the differences between the Rmd and Rmarkdownformats.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Turns out that each format is rendered to HTML through different converters. Rmarkdown uses something called Blackfriday and Rmd uses Pandoc. As I understanding then Rmd is rendered by R and Rmarkdown is rendered by Hugo and so posts need to be rendered by Hugo in order for all the configs in the .toml file to apply.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;简单说就是 rmd 和 Rmarkdown 的编译方式是不同的&lt;/p&gt;
&lt;h2 id=&#34;links&#34;&gt;links&lt;/h2&gt;
&lt;p&gt;
&lt;a href=&#34;https://venciso.netlify.app/2020/05/syntax-highlighting-blogdown/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Syntax Highlighting in Blogdown; a very specific solution | A stats website&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>dplyr 1.0.0 features</title>
      <link>/post/dplyr-1-0-0-features/</link>
      <pubDate>Tue, 02 Jun 2020 00:00:00 +0000</pubDate>
      <guid>/post/dplyr-1-0-0-features/</guid>
      <description>


&lt;div id=&#34;data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# data
library(AmesHousing)

# Load the housing data, clean names, then grab just six columns 
# to simplify the dataset for display purposes.
ames_data &amp;lt;- make_ames() %&amp;gt;%
  janitor::clean_names() %&amp;gt;%
  select(sale_price, bsmt_fin_sf_1, first_flr_sf, 
         total_bsmt_sf, neighborhood, gr_liv_area)

feet_to_yards &amp;lt;- function(x) {x / 9}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;across-replace-_if-_at-_all&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;across replace *_if *_at *_all&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;across() makes manipulating multiple columns more intuitive and consistent with other dplyr syntax.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div id=&#34;mutate_at&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;mutate_at&lt;/h2&gt;
&lt;div id=&#34;before&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;before&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;%
  mutate_at(.vars = vars(contains(&amp;quot;_sf&amp;quot;) | contains(&amp;quot;area&amp;quot;)) , .funs = feet_to_yards) %&amp;gt;% 
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;              &amp;lt;dbl&amp;gt;
## 1     215000         0.222        184            120  North_Ames         184  
## 2     105000         0.667         99.6           98  North_Ames          99.6
## 3     172000         0.111        148.           148. North_Ames         148. 
## 4     244000         0.111        234.           234. North_Ames         234. 
## 5     189900         0.333        103.           103. Gilbert            181  
## 6     195500         0.333        103.           103. Gilbert            178.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;now&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;now&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;%
  mutate(across(.cols = c(contains(&amp;quot;_sf&amp;quot;), contains(&amp;quot;area&amp;quot;)), 
                .fns = feet_to_yards)) %&amp;gt;%
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;              &amp;lt;dbl&amp;gt;
## 1     215000         0.222        184            120  North_Ames         184  
## 2     105000         0.667         99.6           98  North_Ames          99.6
## 3     172000         0.111        148.           148. North_Ames         148. 
## 4     244000         0.111        234.           234. North_Ames         234. 
## 5     189900         0.333        103.           103. Gilbert            181  
## 6     195500         0.333        103.           103. Gilbert            178.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;mutate_if&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;mutate_if&lt;/h2&gt;
&lt;div id=&#34;before-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;before&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;% 
  mutate_if(is.numeric, log) %&amp;gt;% 
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood gr_liv_area
##        &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;              &amp;lt;dbl&amp;gt;
## 1       12.3         0.693         7.41          6.98 North_Ames          7.41
## 2       11.6         1.79          6.80          6.78 North_Ames          6.80
## 3       12.1         0             7.19          7.19 North_Ames          7.19
## 4       12.4         0             7.65          7.65 North_Ames          7.65
## 5       12.2         1.10          6.83          6.83 Gilbert             7.40
## 6       12.2         1.10          6.83          6.83 Gilbert             7.38&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;now-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;now&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;% 
  mutate(across(.cols = where(is.numeric), .fns = log)) %&amp;gt;% 
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood gr_liv_area
##        &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;              &amp;lt;dbl&amp;gt;
## 1       12.3         0.693         7.41          6.98 North_Ames          7.41
## 2       11.6         1.79          6.80          6.78 North_Ames          6.80
## 3       12.1         0             7.19          7.19 North_Ames          7.19
## 4       12.4         0             7.65          7.65 North_Ames          7.65
## 5       12.2         1.10          6.83          6.83 Gilbert             7.40
## 6       12.2         1.10          6.83          6.83 Gilbert             7.38&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;summarized&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;summarized&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;%
  group_by(neighborhood) %&amp;gt;%
  summarize(across(
    .cols = where(is.numeric),
    .fns = mean,
    .names = &amp;quot;mean_{col}&amp;quot;
  )) %&amp;gt;%
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   neighborhood mean_sale_price mean_bsmt_fin_s… mean_first_flr_…
##   &amp;lt;fct&amp;gt;                  &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;
## 1 North_Ames           145097.             3.66            1175.
## 2 College_Cre…         201803.             4.01            1173.
## 3 Old_Town             123992.             5.80             945.
## 4 Edwards              130843.             4.27            1115.
## 5 Somerset             229707.             4.59            1188.
## 6 Northridge_…         322018.             3.99            1613.
## # … with 2 more variables: mean_total_bsmt_sf &amp;lt;dbl&amp;gt;, mean_gr_liv_area &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;mutate_at-2&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;mutate_at 2&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;%
  mutate(across(
    .cols = where(is.integer) &amp;amp; ends_with(&amp;quot;_sf&amp;quot;),
    .fns = as.double
  )) %&amp;gt;% 
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;              &amp;lt;int&amp;gt;
## 1     215000             2         1656          1080 North_Ames          1656
## 2     105000             6          896           882 North_Ames           896
## 3     172000             1         1329          1329 North_Ames          1329
## 4     244000             1         2110          2110 North_Ames          2110
## 5     189900             3          928           928 Gilbert             1629
## 6     195500             3          926           926 Gilbert             1604&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;slice&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;slice&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;top_n&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;top_n&lt;/h2&gt;
&lt;div id=&#34;before-2&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;before&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Old way to grab the five most expensive homes by sale price
ames_data %&amp;gt;% 
  arrange(desc(sale_price)) %&amp;gt;% 
  top_n(n = 5, sale_price)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood   gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;                &amp;lt;int&amp;gt;
## 1     755000             3         2444          2444 Northridge            4316
## 2     745000             3         2411          2396 Northridge            4476
## 3     625000             3         1831          1930 Northridge            3627
## 4     615000             3         2470          2535 Northridge_He…        2470
## 5     611657             3         2364          2330 Northridge_He…        2364&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;now-2&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;now&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;% 
  slice_max(sale_price, n = 5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood   gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;                &amp;lt;int&amp;gt;
## 1     755000             3         2444          2444 Northridge            4316
## 2     745000             3         2411          2396 Northridge            4476
## 3     625000             3         1831          1930 Northridge            3627
## 4     615000             3         2470          2535 Northridge_He…        2470
## 5     611657             3         2364          2330 Northridge_He…        2364&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;sample_n&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;sample_n&lt;/h2&gt;
&lt;div id=&#34;before-3&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;before&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;% 
  sample_n(4)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 4 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood   gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;                &amp;lt;int&amp;gt;
## 1     325000             7         1521          1237 Old_Town              2775
## 2     118500             3          816           816 Edwards                816
## 3     175500             1         1242          1242 Northwest_Ames        1242
## 4     138500             4          908           822 North_Ames             908&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;% 
  sample_frac(0.002)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood   gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;                &amp;lt;int&amp;gt;
## 1      79500             7          779           742 Brookside              935
## 2     175500             3         1422          1422 Northwest_Ames        1422
## 3     195500             7          846           846 Gilbert               1594
## 4     183600             3         1208          1208 College_Creek         1208
## 5     148000             3         1081          1081 North_Ames            1081
## 6      98000             6          864           864 Edwards                864&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;now-3&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;now&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;% 
  slice_sample(n = 4)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 4 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood   gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;                &amp;lt;int&amp;gt;
## 1     184500             3         1306          1306 Northridge_He…        1306
## 2     110000             4          720           720 Old_Town              1284
## 3     148000             6         1382          1051 Sawyer                1382
## 4     200000             7          854           569 Somerset              1694&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames_data %&amp;gt;% 
  slice_sample(prop = 0.002)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 6
##   sale_price bsmt_fin_sf_1 first_flr_sf total_bsmt_sf neighborhood   gr_liv_area
##        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;        &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;                &amp;lt;int&amp;gt;
## 1     315000             3         1470          1470 Northridge            2630
## 2     162500             2         1082           973 Northwest_Ames        1082
## 3     119000             6          988           988 North_Ames             988
## 4     211000             3          882           794 College_Creek         1796
## 5     106250             5          694             0 Old_Town              1294&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;nest_by&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;nest_by&lt;/h2&gt;
&lt;div id=&#34;nested&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;nested&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nested_ames &amp;lt;- 
  ames_data %&amp;gt;%
  nest_by(neighborhood) &lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;add-model&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;add model&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nested_ames_with_model &amp;lt;- 
nested_ames %&amp;gt;% 
  mutate(linear_model = list(
    lm(sale_price ~ gr_liv_area, data = data)
  ))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;section&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;north_ames_model &amp;lt;- nested_ames_with_model %&amp;gt;%
  filter(neighborhood == &amp;quot;North_Ames&amp;quot;) %&amp;gt;%
  pull(linear_model)

north_ames_model&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
## 
## Call:
## lm(formula = sale_price ~ gr_liv_area, data = data)
## 
## Coefficients:
## (Intercept)  gr_liv_area  
##     74538.0         54.6&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.tychobra.com/posts/2020-05-27-new-dplyr-features/&#34;&gt;Tychobra&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Seeing The Stars Of Github Repos Rise</title>
      <link>/post/seeing-the-stars-of-github-repos-rise/</link>
      <pubDate>Mon, 01 Jun 2020 00:00:00 +0000</pubDate>
      <guid>/post/seeing-the-stars-of-github-repos-rise/</guid>
      <description>


&lt;div id=&#34;get-repo-star-history-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;get repo star history data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#remotes::install_github(&amp;quot;thomas-neitmann/ghstars&amp;quot;, upgrade = &amp;quot;never&amp;quot;)
library(ghstars)
repos &amp;lt;- c(&amp;quot;thomas-neitmann/ggcharts&amp;quot;, &amp;quot;thomas-neitmann/mdthemes&amp;quot;)
star_history &amp;lt;- get_repo_star_history(repos)
head(star_history)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                       repo       date day stars cumulative_stars
## 1 thomas-neitmann/ggcharts 2020-01-07   0     1                1
## 2 thomas-neitmann/ggcharts 2020-01-14   7     1                2
## 3 thomas-neitmann/ggcharts 2020-01-28  21     1                3
## 4 thomas-neitmann/ggcharts 2020-02-01  25     1                4
## 5 thomas-neitmann/ggcharts 2020-02-02  26     1                5
## 6 thomas-neitmann/ggcharts 2020-02-03  27     2                7&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(star_history)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-seeing-the-stars-of-github-repos-rise.en_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;plot&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(star_history)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-seeing-the-stars-of-github-repos-rise.en_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;pkg-star-history&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;pkg star history&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;star_histories &amp;lt;- get_pkg_star_history(c(&amp;quot;Rcpp&amp;quot;, &amp;quot;scales&amp;quot;))
plot(star_histories)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-seeing-the-stars-of-github-repos-rise.en_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data &amp;lt;- bind_rows(star_histories, star_history)
plot(data)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-seeing-the-stars-of-github-repos-rise.en_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/thomas-neitmann/ghstars&#34;&gt;thomas-neitmann/ghstars: Retrieve GitHub Stars for any Repository&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>taste ggtext</title>
      <link>/post/taste-ggtext/</link>
      <pubDate>Mon, 01 Jun 2020 00:00:00 +0000</pubDate>
      <guid>/post/taste-ggtext/</guid>
      <description>


&lt;div id=&#34;load-pkgs&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;load pkgs&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)
library(dplyr)
#install.packages(&amp;quot;ggcharts&amp;quot;)
data(biomedicalrevenue, package = &amp;quot;ggcharts&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;example&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;example&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot &amp;lt;- biomedicalrevenue %&amp;gt;%
  filter(company %in% c(&amp;quot;Roche&amp;quot;, &amp;quot;Novartis&amp;quot;)) %&amp;gt;%
  ggplot(aes(year, revenue, color = company)) +
  geom_line(size = 1.2) +
  ggtitle(
    paste0(
      &amp;quot;&amp;lt;span style = &amp;#39;color:darkred&amp;#39;&amp;gt;__Roche__&amp;lt;/span&amp;gt;&amp;quot;,
      &amp;quot; *overtook* &amp;lt;span style = &amp;#39;color:darkorange&amp;#39;&amp;gt;**Novartis**&amp;lt;/span&amp;gt;&amp;quot;,
      &amp;quot; in 2016&amp;quot;
    )
  ) +
  scale_color_manual(
    values = c(&amp;quot;Roche&amp;quot; = &amp;quot;#93C1DE&amp;quot;, &amp;quot;Novartis&amp;quot; = &amp;quot;darkorange&amp;quot;),
    guide = &amp;quot;none&amp;quot;
  ) +
  ggcharts::theme_hermit(ticks = &amp;quot;x&amp;quot;, grid = &amp;quot;X&amp;quot;)  +
  theme(plot.title = ggtext::element_markdown())
plot&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-taste-ggtext.en_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;语法&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;语法&lt;/h2&gt;
&lt;p&gt;目前 ggtext 支持的 markdwon 语法有限&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;mdthemes&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📦 {mdthemes}&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#remotes::install_github(&amp;quot;thomas-neitmann/mdthemes&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;单个主题元素设置 Markdown 语法太费事, 使用 mdthemes 📦, 一次性设置.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Setting individual theme elements to &lt;code&gt;ggtext::element_markdown()&lt;/code&gt; can add quite a bit of boilerplate code to your plot.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot + mdthemes::md_theme_minimal()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-taste-ggtext.en_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;title-the-subtitle-axis-labels-and-captions-set-one-time&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;title, the subtitle, axis labels and captions set one-time&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Apart from the title, the subtitle, axis labels and captions are set to element_markdown() for all mdthemes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  labs(
    x = &amp;quot;**Year**&amp;quot;,
    y = &amp;quot;Revenue (*Billion* USD)&amp;quot;,
    caption = &amp;quot;Data Source: *en.wikipedia.org/wiki/List_of_largest_biomedical_companies_by_revenue*&amp;quot;
  ) +
  mdthemes::md_theme_minimal()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-taste-ggtext.en_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;mdthemes-包含的主题非常丰富-且可自定义主题&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;mdthemes 包含的主题非常丰富, 且可自定义主题&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;The {mdthemes} packages currently contains all themes from {ggplot2}, {ggthemes}, {hrbrthemes}, {tvthemes} and {cowplot} with support for rendering text as markdown.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;If you want to turn a theme that is not part of the {mdthemes} package into an md_theme you can use the as_md_theme() function.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot + mdthemes::as_md_theme(hrbrthemes::theme_ipsum()) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-06-01-taste-ggtext.en_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;links&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://thomas-neitmann.github.io/ggcharts/articles/themes.html&#34;&gt;Themes • ggcharts&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>ggplot2 thematic</title>
      <link>/post/thematic/</link>
      <pubDate>Tue, 05 May 2020 00:00:00 +0000</pubDate>
      <guid>/post/thematic/</guid>
      <description>


&lt;div id=&#34;install-pkg&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;install pkg&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# remotes::install_github(&amp;quot;rstudio/thematic&amp;quot;)
library(thematic)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(thematic)
thematic_on(
  bg = &amp;quot;#222222&amp;quot;, fg = &amp;quot;white&amp;quot;, accent = &amp;quot;#0CE3AC&amp;quot;,
  font = &amp;quot;auto&amp;quot;
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)
ggplot(mtcars, aes(wt, mpg)) +
  geom_point() +
  geom_smooth()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error : RStudio not running&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-05-05-thematic_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mtcars, aes(wt, mpg)) +
  geom_point(aes(color = factor(cyl))) +
  geom_smooth(color = &amp;quot;white&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error : RStudio not running&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-05-05-thematic_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://rstudio.github.io/thematic/&#34;&gt;Unified and Automatic Theming of ggplot2, lattice, and base R Graphics • thematic&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Example Time To Event (Survival) Analysis using visR</title>
      <link>/post/example-time-to-event-survival-analysis-using-visr/</link>
      <pubDate>Mon, 04 May 2020 00:00:00 +0000</pubDate>
      <guid>/post/example-time-to-event-survival-analysis-using-visr/</guid>
      <description>


&lt;div id=&#34;setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;setup&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;load-pkgs&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;load pkgs&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(visR)
library(survival)
library(gt)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;set-var&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;set var&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Constants
DATASET &amp;lt;- paste0(&amp;quot;NCCTG Lung Cancer Dataset (from survival package &amp;quot;, 
                  packageVersion(&amp;quot;survival&amp;quot;), &amp;quot;)&amp;quot;)

#attrition_chart_fn &amp;lt;- &amp;quot;data/attrition_diagram.svg&amp;quot;
# Globql formatting options
options(digits = 3)

# Global table settings 
options(DT.options = list(pageLength = 10, 
                          language = list(search = &amp;#39;Filter:&amp;#39;), 
                          scrollX = TRUE))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;load-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;load data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(lung)

lung_cohort &amp;lt;- lung %&amp;gt;% 
  rename(ECOG = ph.ecog,
         Karnofsky = ph.karno,
         institution = inst
         ) %&amp;gt;% 
  mutate(patid = paste0(&amp;quot;Pat&amp;quot;, row_number()),
         institution = factor(institution),
         sex = factor(if_else(sex == 1, &amp;quot;male&amp;quot;, &amp;quot;female&amp;quot;)),
         ECOG = factor(case_when(ECOG == 0 ~ &amp;quot;0 asymptomatic&amp;quot;,
                          ECOG == 1 ~ &amp;quot;1 ambulatory&amp;quot;,
                          ECOG == 2 ~ &amp;quot;2 in bed less than 50% of day&amp;quot;,
                          ECOG == 3 ~ &amp;quot;3 in bed more than 50% of day&amp;quot;,
                          ECOG == 4 ~ &amp;quot;4 bedbound&amp;quot;,
                          ECOG == 5 ~ &amp;quot;5 dead&amp;quot;)),
         dx_age_group = factor(case_when(age &amp;lt; 30 ~ &amp;quot;&amp;lt; 30y&amp;quot;,
                                         age &amp;gt;= 30 &amp;amp; age &amp;lt;= 50 ~ &amp;quot;30-50y&amp;quot;,
                                         age &amp;gt; 50 &amp;amp; age &amp;lt;= 70 ~ &amp;quot;51-70y&amp;quot;,
                                         age &amp;gt; 70 ~ &amp;quot;&amp;gt; 70y&amp;quot;),
                               levels=c(&amp;quot;&amp;lt; 30y&amp;quot;, &amp;quot;30-50y&amp;quot;, &amp;quot;51-70y&amp;quot;, &amp;quot;&amp;gt; 70y&amp;quot;)),
    status = if_else(status == 1, 0, 1)) %&amp;gt;% 
    select(-meal.cal, -pat.karno)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;eda&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;EDA&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;skimr::skim(lung_cohort)&lt;/code&gt;&lt;/pre&gt;
&lt;table style=&#39;width: auto;&#39;
        class=&#39;table table-condensed&#39;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-4&#34;&gt;Table 1: &lt;/span&gt;Data summary
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Name
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
lung_cohort
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Number of rows
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
228
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Number of columns
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
10
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
_______________________
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Column type frequency:
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
character
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
factor
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
4
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
numeric
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
________________________
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Group variables
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
None
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: character&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
skim_variable
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_missing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
complete_rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
min
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
max
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
empty
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_unique
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
whitespace
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
patid
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
228
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: factor&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
skim_variable
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_missing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
complete_rate
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
ordered
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_unique
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
top_counts
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
institution
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
FALSE
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
18
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1: 36, 12: 23, 13: 20, 3: 19
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
sex
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
FALSE
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
mal: 138, fem: 90
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ECOG
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
FALSE
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1 a: 113, 0 a: 63, 2 i: 50, 3 i: 1
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
dx_age_group
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
FALSE
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
51-: 156, &amp;gt; 7: 46, 30-: 26, &amp;lt; 3: 0
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: numeric&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
skim_variable
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_missing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
complete_rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
mean
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p0
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p25
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p50
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p75
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p100
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
hist
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
time
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
305.23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
210.65
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
167
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
256
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
396.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1022
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▇▃▂▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
status
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.72
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▃▁▁▁▇
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
age
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
9.07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
56
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
63
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
82
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▂▅▇▇▃
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Karnofsky
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
81.94
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
12.33
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
50
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
75
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
90.0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
100
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▃▃▇▇▃
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
wt.loss
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.94
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
9.83
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15.8
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
68
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▁▇▃▁▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;follow-chart-cohort-selection&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;follow chart Cohort Selection&lt;/h2&gt;
&lt;p&gt;For this exercise we will only include patients with (1) ECOG available (2) and non-missing weight-loss data in our analysis&lt;/p&gt;
&lt;div id=&#34;attrition-table&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Attrition Table&lt;/h3&gt;
&lt;p&gt;过滤表&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cohort_attrition &amp;lt;- vr_attrition_table(
  data = lung_cohort,
  criteria_descriptions = c(&amp;quot;1. ECOG available&amp;quot;, 
                            &amp;quot;2. Weight loss data available&amp;quot;, 
                            &amp;quot;3. Non-missing vital status&amp;quot;,
                            &amp;quot;4. Positive follow up time&amp;quot;),
  criteria_conditions   = c(&amp;quot;!is.na(ECOG)&amp;quot;,
                            &amp;quot;!is.na(wt.loss)&amp;quot;,
                            &amp;quot;!is.na(status)&amp;quot;,
                            &amp;quot;time &amp;gt;= 0&amp;quot;),
  subject_column_name   = &amp;#39;patid&amp;#39;)

 
vr_render_table(data = cohort_attrition, 
                title = &amp;quot;Attrition Table&amp;quot;, 
                caption = &amp;quot;Summary of samples fulfilling inclusion/exclusion criteria&amp;quot;, 
                datasource = DATASET, 
                engine = &amp;quot;gt&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#slpiojvkjb .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#slpiojvkjb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#slpiojvkjb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#slpiojvkjb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#slpiojvkjb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#slpiojvkjb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#slpiojvkjb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#slpiojvkjb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#slpiojvkjb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#slpiojvkjb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#slpiojvkjb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#slpiojvkjb .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#slpiojvkjb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#slpiojvkjb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#slpiojvkjb .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#slpiojvkjb .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#slpiojvkjb .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#slpiojvkjb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#slpiojvkjb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#slpiojvkjb .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#slpiojvkjb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#slpiojvkjb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#slpiojvkjb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#slpiojvkjb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#slpiojvkjb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#slpiojvkjb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#slpiojvkjb .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#slpiojvkjb .gt_left {
  text-align: left;
}

#slpiojvkjb .gt_center {
  text-align: center;
}

#slpiojvkjb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#slpiojvkjb .gt_font_normal {
  font-weight: normal;
}

#slpiojvkjb .gt_font_bold {
  font-weight: bold;
}

#slpiojvkjb .gt_font_italic {
  font-style: italic;
}

#slpiojvkjb .gt_super {
  font-size: 65%;
}

#slpiojvkjb .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;slpiojvkjb&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;6&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;Attrition Table&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;6&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Summary of samples fulfilling inclusion/exclusion criteria&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Criteria&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Condition&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Remaining N&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Remaining %&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Excluded N&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Excluded %&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Total cohort size&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;none&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;228.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;100.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;0.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0.00&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;1. ECOG available&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;!is.na(ECOG)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;227.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;99.56&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;1.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0.44&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;2. Weight loss data available&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;!is.na(wt.loss)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;213.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;93.42&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;14.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;6.14&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;3. Non-missing vital status&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;!is.na(status)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;213.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;93.42&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;0.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0.00&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;4. Positive follow up time&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;time &amp;gt;= 0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;213.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;93.42&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;0.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0.00&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;6&#34;&gt;Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  
&lt;/table&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;flow-chart-diagram&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;flow-chart diagram&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;complement_descriptions &amp;lt;- c(                                                   
    &amp;quot;Having exclusion criterion: non ECOG&amp;quot;,                                            
    &amp;quot;Having exclusion criterion: missing weight loss &amp;quot;,
    &amp;quot;Having exclusion criterion: missing vital status&amp;quot;,
    &amp;quot;Having exclusion criterion: negative follow up time&amp;quot;
)

# Create attrition flowchart
#attrition_chart_fn &amp;lt;- &amp;quot;attrition_diagram.svg&amp;quot;
# attrition_flow &amp;lt;- vr_attrition(
#   N_array = cohort_attrition$`Remaining N`,
#   descriptions = cohort_attrition$Criteria,
#   complement_descriptions = complement_descriptions,
#   output_path = attrition_chart_fn)

# knitr::include_graphics(attrition_chart_fn)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;analysis-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;analysis data&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lung_cohort &amp;lt;- lung_cohort %&amp;gt;% 
  filter(!is.na(ECOG),
         !is.na(wt.loss),
         !is.na(status),
         time &amp;gt;= 0)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;table-1&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Table 1&lt;/h2&gt;
&lt;p&gt;Cohort Overview&lt;/p&gt;
&lt;p&gt;if the there are systematic differences between the chemotherapy and hormone therapy arms.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# some modifications to the table for nice printing of categories
lung_cohort_tab1 &amp;lt;- lung_cohort %&amp;gt;% 
  mutate(status = factor(case_when(status == 0 ~ &amp;quot;Alive/Censored&amp;quot;,
                                   status == 1 ~ &amp;quot;Dead&amp;quot;,
                                   is.na(status) ~ &amp;quot;Missing&amp;quot;))) %&amp;gt;% 
  filter(!is.na(time) &amp;amp; !is.na(age) &amp;amp; !is.na(Karnofsky)) %&amp;gt;% 
  select(-institution)

# visR table1 convenience function
vr_table_one(
  data = lung_cohort_tab1,
  title = &amp;quot;Overview over Lung Cancer patients&amp;quot;,
  caption = &amp;quot;Baseline characteristics of study cohort stratified by treatment type&amp;quot;,
  datasource = DATASET,
  groupCols = c(&amp;quot;sex&amp;quot;)
)&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#ohoaeodhnp .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ohoaeodhnp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ohoaeodhnp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ohoaeodhnp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ohoaeodhnp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ohoaeodhnp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ohoaeodhnp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ohoaeodhnp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ohoaeodhnp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ohoaeodhnp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ohoaeodhnp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ohoaeodhnp .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ohoaeodhnp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ohoaeodhnp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ohoaeodhnp .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#ohoaeodhnp .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#ohoaeodhnp .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ohoaeodhnp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ohoaeodhnp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ohoaeodhnp .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ohoaeodhnp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ohoaeodhnp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ohoaeodhnp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ohoaeodhnp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ohoaeodhnp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ohoaeodhnp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ohoaeodhnp .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ohoaeodhnp .gt_left {
  text-align: left;
}

#ohoaeodhnp .gt_center {
  text-align: center;
}

#ohoaeodhnp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ohoaeodhnp .gt_font_normal {
  font-weight: normal;
}

#ohoaeodhnp .gt_font_bold {
  font-weight: bold;
}

#ohoaeodhnp .gt_font_italic {
  font-style: italic;
}

#ohoaeodhnp .gt_super {
  font-size: 65%;
}

#ohoaeodhnp .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;ohoaeodhnp&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;4&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;Overview over Lung Cancer patients&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;4&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Baseline characteristics of study cohort stratified by treatment type&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;female&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;male&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Overall&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;Sample&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;N&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;86&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;127&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;213&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;time&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Mean (SD)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;345 (205)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;295 (216)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;315 (213)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Median (IQR)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;294 (201-467)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;229 (163-392)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;269 (176-428)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Min-max&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;5-965&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;11-1022&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;5-1022&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Missing&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;status&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Alive/Censored&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;37 (43%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;25 (19.7%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;62 (29.1%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Dead&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;49 (57%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;102 (80.3%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;151 (70.9%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;age&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Mean (SD)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;61.1 (9.01)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;63.5 (9.25)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;62.5 (9.21)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Median (IQR)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;61 (55-68.8)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;64 (57-70)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;63 (56-70)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Min-max&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;41-77&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;39-82&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;39-82&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Missing&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;ECOG&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;0 asymptomatic&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;26 (30.2%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;35 (27.559%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;61 (28.638%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;1 ambulatory&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;41 (47.7%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;65 (51.181%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;106 (49.765%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2 in bed less than 50% of day&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;19 (22.1%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;26 (20.472%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;45 (21.127%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;3 in bed more than 50% of day&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;NA&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;1 (0.787%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;1 (0.469%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;Karnofsky&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Mean (SD)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;82.6 (12)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;81.9 (12.5)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;82.2 (12.2)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Median (IQR)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;80 (80-90)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;80 (70-90)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;80 (80-90)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Min-max&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;50-100&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;50-100&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;50-100&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Missing&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;wt.loss&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Mean (SD)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;7.77 (13.2)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;11.1 (12.9)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;9.73 (13.1)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Median (IQR)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;4 (0-11)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;8 (0.5-18)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;7 (0-15)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Min-max&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;-24-52&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;-13-68&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;-24-68&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Missing&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;patid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Unique values&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;86&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;127&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;213&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;Missing (%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;0 (0%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;dx_age_group&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;30-50y&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;12 (14.0%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;13 (10.2%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;25 (11.7%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;51-70y&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;59 (68.6%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;85 (66.9%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;144 (67.6%)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;&amp;gt; 70y&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;15 (17.4%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;29 (22.8%)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;44 (20.7%)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;4&#34;&gt;Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  
&lt;/table&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;kaplan-meier-curve&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Kaplan-Meier Curve&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;surv_eq &amp;lt;- &amp;quot;survival::Surv(time, status) ~ sex&amp;quot;

vr_kaplan_meier(
    lung_cohort,
    equation = surv_eq,
    data_source = DATASET, 
    time_unit = &amp;quot;days&amp;quot;,
    title = &amp;quot;Comparison of survival in male and female lung cancer patients&amp;quot;
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-05-04-example-time-to-event-survival-analysis-using-visr_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;summary-of-kaplan-meier-curve&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Summary of Kaplan Meier Curve&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;km_summary &amp;lt;- vr_kaplan_meier_summary(lung_cohort, equation = surv_eq)

km_summary[[1]] %&amp;gt;%
  vr_render_table(&amp;quot;Overall Survival&amp;quot;,
                  &amp;quot;Median survival times in days for each strata&amp;quot;,
                  DATASET)&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#sthatfbkcd .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#sthatfbkcd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sthatfbkcd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#sthatfbkcd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#sthatfbkcd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sthatfbkcd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sthatfbkcd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sthatfbkcd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sthatfbkcd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sthatfbkcd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sthatfbkcd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sthatfbkcd .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#sthatfbkcd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#sthatfbkcd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#sthatfbkcd .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#sthatfbkcd .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#sthatfbkcd .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#sthatfbkcd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#sthatfbkcd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sthatfbkcd .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#sthatfbkcd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sthatfbkcd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sthatfbkcd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sthatfbkcd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sthatfbkcd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#sthatfbkcd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sthatfbkcd .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#sthatfbkcd .gt_left {
  text-align: left;
}

#sthatfbkcd .gt_center {
  text-align: center;
}

#sthatfbkcd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sthatfbkcd .gt_font_normal {
  font-weight: normal;
}

#sthatfbkcd .gt_font_bold {
  font-weight: bold;
}

#sthatfbkcd .gt_font_italic {
  font-style: italic;
}

#sthatfbkcd .gt_super {
  font-size: 65%;
}

#sthatfbkcd .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;sthatfbkcd&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;6&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;Overall Survival&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;6&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Median survival times in days for each strata&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;strata&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;# persons&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;# events&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;median survival time&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;0.95LCL&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;0.95UCL&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;female&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;86.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;49.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;433.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;351.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;641.00&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;male&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;127.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;102.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;284.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;223.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;337.00&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;6&#34;&gt;Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  
&lt;/table&gt;&lt;/div&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;km_summary[[2]] %&amp;gt;%
  vr_render_table(&amp;quot;Equality between Strata&amp;quot;,
                  &amp;quot;Summary table with test of equality over strata&amp;quot;,
                  DATASET)&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#npvtebkqev .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#npvtebkqev .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#npvtebkqev .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#npvtebkqev .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#npvtebkqev .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#npvtebkqev .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#npvtebkqev .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#npvtebkqev .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#npvtebkqev .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#npvtebkqev .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#npvtebkqev .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#npvtebkqev .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#npvtebkqev .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#npvtebkqev .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#npvtebkqev .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#npvtebkqev .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#npvtebkqev .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#npvtebkqev .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#npvtebkqev .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#npvtebkqev .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#npvtebkqev .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#npvtebkqev .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#npvtebkqev .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#npvtebkqev .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#npvtebkqev .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#npvtebkqev .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#npvtebkqev .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#npvtebkqev .gt_left {
  text-align: left;
}

#npvtebkqev .gt_center {
  text-align: center;
}

#npvtebkqev .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#npvtebkqev .gt_font_normal {
  font-weight: normal;
}

#npvtebkqev .gt_font_bold {
  font-weight: bold;
}

#npvtebkqev .gt_font_italic {
  font-style: italic;
}

#npvtebkqev .gt_super {
  font-size: 65%;
}

#npvtebkqev .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;npvtebkqev&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;5&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;Equality between Strata&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;5&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Summary table with test of equality over strata&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Test&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;statistic&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;df&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;p.value&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Log-rank&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;9.60&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Log-rank gives more weight on higher values of time&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Wilcoxon&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;11.84&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Wilcoxon gives more weight on lower values of time&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Tarone-Ware&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;11.63&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Tarone-Ware is in between&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;5&#34;&gt;Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  
&lt;/table&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>a gentle introduction to tidymodels</title>
      <link>/post/a-gentle-introduction-to-tidymodels/</link>
      <pubDate>Sun, 26 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/a-gentle-introduction-to-tidymodels/</guid>
      <description>


&lt;div id=&#34;setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;SETUP&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;load-library&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Load library&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidymodels)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;eda&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;EDA&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;iris %&amp;gt;%
    janitor::clean_names() %&amp;gt;%
    set_names(colnames(.) %&amp;gt;%
                  str_replace_all(., &amp;quot;_&amp;quot;, &amp;quot; &amp;quot;) %&amp;gt;%
                  str_to_title()) %&amp;gt;%
    select_if(is.numeric) %&amp;gt;%
    gather() %&amp;gt;%
    ggplot(aes(x = value)) +
    facet_wrap(~ key, scales = &amp;quot;free&amp;quot;, ncol = 4) +
    geom_histogram()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-04-26-a-gentle-introduction-to-tidymodels_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;iris %&amp;gt;%
    janitor::clean_names() %&amp;gt;%
    set_names(colnames(.) %&amp;gt;%
                  str_replace_all(., &amp;quot;_&amp;quot;, &amp;quot; &amp;quot;) %&amp;gt;%
                  str_to_title()) %&amp;gt;%
    select_if(is.factor) %&amp;gt;%
    gather() %&amp;gt;%
    ggplot(aes(x = value)) +
    geom_bar()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-04-26-a-gentle-introduction-to-tidymodels_files/figure-html/unnamed-chunk-2-2.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;split&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;split&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df  &amp;lt;- iris
set.seed(seed = 1972) 

train_test_split &amp;lt;-
    rsample::initial_split(
        data = df,     
        prop = 0.6   
    ) 

train_test_split&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;lt;90/60/150&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;train_tbl &amp;lt;- train_test_split %&amp;gt;% training() 
test_tbl  &amp;lt;- train_test_split %&amp;gt;% testing() &lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;recipes&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;recipes&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;recipe_simple &amp;lt;- function(dataset) {
  recipe(Species ~ ., data = dataset ) %&amp;gt;%
    step_corr(all_predictors()) %&amp;gt;%
    step_center(all_predictors(), -all_outcomes()) %&amp;gt;%
    step_scale(all_predictors(), -all_outcomes()) %&amp;gt;%
    prep(dataset)
}

recipe_prepped &amp;lt;- recipe_simple(dataset = train_tbl)

train_baked &amp;lt;- bake(recipe_prepped, new_data = train_tbl)
test_baked  &amp;lt;- bake(recipe_prepped, new_data = test_tbl)

recipe_prepped&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Data Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor          4
## 
## Training data contained 90 data points and no missing data.
## 
## Operations:
## 
## Correlation filter removed Petal.Length [trained]
## Centering for Sepal.Length, Sepal.Width, Petal.Width [trained]
## Scaling for Sepal.Length, Sepal.Width, Petal.Width [trained]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;model-training&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Model Training&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;iris_ranger &amp;lt;- 
  rand_forest(trees = 100, mode = &amp;quot;classification&amp;quot;) %&amp;gt;%
  set_engine(&amp;quot;ranger&amp;quot;) %&amp;gt;%
  fit(Species ~ ., data = train_baked)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;predictions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Predictions&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;iris_ranger %&amp;gt;%
  predict(test_baked) %&amp;gt;%
  bind_cols(test_baked) %&amp;gt;%
  glimpse()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 60
## Columns: 5
## $ .pred_class  &amp;lt;fct&amp;gt; setosa, setosa, setosa, setosa, setosa, setosa, setosa, …
## $ Sepal.Length &amp;lt;dbl&amp;gt; -0.8625644, -1.4471337, -0.9794783, -0.5118229, -0.97947…
## $ Sepal.Width  &amp;lt;dbl&amp;gt; 1.2051348, 0.2410270, 1.4461618, 2.1692426, 0.9641078, 0…
## $ Petal.Width  &amp;lt;dbl&amp;gt; -1.3494745, -1.3494745, -1.3494745, -1.0831309, -1.34947…
## $ Species      &amp;lt;fct&amp;gt; setosa, setosa, setosa, setosa, setosa, setosa, setosa, …&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;model-validation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Model Validation&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;iris_ranger %&amp;gt;%
  predict(test_baked) %&amp;gt;%
  bind_cols(test_baked) %&amp;gt;%
  metrics(truth = Species, estimate = .pred_class)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;
## 1 accuracy multiclass     0.967
## 2 kap      multiclass     0.950&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;per-classifier-metrics&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Per classifier metrics&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;iris_ranger %&amp;gt;%
  predict(test_baked, type = &amp;quot;prob&amp;quot;) %&amp;gt;%
  bind_cols(test_baked) %&amp;gt;%
  roc_curve(Species, .pred_setosa:.pred_virginica) %&amp;gt;%
  autoplot()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-04-26-a-gentle-introduction-to-tidymodels_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://rviews.rstudio.com/2019/06/19/a-gentle-intro-to-tidymodels/&#34;&gt;A Gentle Introduction to tidymodels · R Views&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>ML Workflow</title>
      <link>/post/ml-workflow/</link>
      <pubDate>Sun, 26 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/ml-workflow/</guid>
      <description>


&lt;div id=&#34;setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;load-pkg&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Load pkg&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidymodels)  # Loads parsnip, rsample, recipes, yardstick
library(skimr)       # Quickly get a sense of data
library(knitr) &lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;load-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Load Data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;telco &amp;lt;- read_csv(&amp;quot;data/WA_Fn-UseC_-Telco-Customer-Churn.csv&amp;quot;)

telco %&amp;gt;% head() %&amp;gt;% kable()&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
customerID
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
gender
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SeniorCitizen
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Partner
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Dependents
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
tenure
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
PhoneService
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
MultipleLines
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
InternetService
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
OnlineSecurity
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
OnlineBackup
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
DeviceProtection
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
TechSupport
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
StreamingTV
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
StreamingMovies
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Contract
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
PaperlessBilling
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
PaymentMethod
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
MonthlyCharges
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
TotalCharges
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Churn
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
7590-VHVEG
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Female
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No phone service
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
DSL
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Month-to-month
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Electronic check
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.85
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.85
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
5575-GNVDE
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Male
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
34
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
DSL
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
One year
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Mailed check
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
56.95
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1889.50
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
3668-QPYBK
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Male
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
DSL
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Month-to-month
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Mailed check
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
53.85
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
108.15
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
7795-CFOCW
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Male
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
45
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No phone service
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
DSL
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
One year
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Bank transfer (automatic)
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
42.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1840.75
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
9237-HQITU
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Female
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Fiber optic
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Month-to-month
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Electronic check
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
70.70
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
151.65
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
9305-CDSKC
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Female
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
8
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Fiber optic
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Month-to-month
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Electronic check
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
99.65
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
820.50
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;eda-skim-the-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;EDA: Skim the Data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;telco %&amp;gt;% skim()&lt;/code&gt;&lt;/pre&gt;
&lt;table style=&#39;width: auto;&#39;
        class=&#39;table table-condensed&#39;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-3&#34;&gt;Table 1: &lt;/span&gt;Data summary
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Name
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Piped data
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Number of rows
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
7043
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Number of columns
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
21
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
_______________________
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Column type frequency:
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
character
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
17
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
numeric
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
4
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
________________________
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Group variables
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
None
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: character&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
skim_variable
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_missing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
complete_rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
min
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
max
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
empty
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_unique
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
whitespace
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
customerID
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7043
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
gender
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Partner
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Dependents
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
PhoneService
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
MultipleLines
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
InternetService
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
OnlineSecurity
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
OnlineBackup
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
DeviceProtection
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
TechSupport
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
StreamingTV
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
StreamingMovies
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Contract
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
8
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
PaperlessBilling
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
PaymentMethod
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Churn
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: numeric&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
skim_variable
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_missing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
complete_rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
mean
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p0
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p25
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p50
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p75
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p100
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
hist
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SeniorCitizen
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.37
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▁▁▁▂
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
tenure
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
32.37
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.56
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
9.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
55.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
72.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▃▃▃▆
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
MonthlyCharges
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
64.76
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
30.09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
18.25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
35.50
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
70.35
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
89.85
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
118.75
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▅▆▇▅
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
TotalCharges
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2283.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2266.77
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
18.80
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
401.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1397.47
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3794.74
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
8684.80
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▂▂▂▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div id=&#34;data-processing&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;data processing&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;telco &amp;lt;- telco %&amp;gt;%
    select(-customerID) %&amp;gt;%
    drop_na()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df &amp;lt;- telco&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;tidymodels-workflow&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Tidymodels Workflow&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;traintest-split&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Train/Test Split&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(seed = 1972) 

train_test_split &amp;lt;-
    rsample::initial_split(
        data = df,     
        prop = 0.80   
    ) 

train_test_split&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;lt;5626/1406/7032&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;train_tbl &amp;lt;- train_test_split %&amp;gt;% training() 
test_tbl  &amp;lt;- train_test_split %&amp;gt;% testing() &lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;prepare&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Prepare&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;recipe_simple &amp;lt;- function(dataset) {
    recipe(Churn ~ ., data = dataset) %&amp;gt;%
        step_string2factor(all_nominal(), -all_outcomes()) %&amp;gt;%
        prep(data = dataset)
}

recipe_prepped &amp;lt;- recipe_simple(dataset = train_tbl)

train_baked &amp;lt;- bake(recipe_prepped, new_data = train_tbl)
test_baked  &amp;lt;- bake(recipe_prepped, new_data = test_tbl)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;generalized-linear-model-baseline&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Generalized Linear Model (Baseline)&lt;/h3&gt;
&lt;div id=&#34;fit-the-model&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;Fit the Model&lt;/h5&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;logistic_glm &amp;lt;- logistic_reg(mode = &amp;quot;classification&amp;quot;) %&amp;gt;%
    set_engine(&amp;quot;glm&amp;quot;) %&amp;gt;%
    fit(Churn ~ ., data = train_baked)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;assess-performance&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;Assess Performance&lt;/h5&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;predictions_glm &amp;lt;- logistic_glm %&amp;gt;%
    predict(new_data = test_baked) %&amp;gt;%
    bind_cols(test_baked %&amp;gt;% select(Churn))

predictions_glm %&amp;gt;% head() %&amp;gt;% kable()&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
.pred_class
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Churn
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Yes
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
No
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;accuracy-precision-recall-and-f1-score&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;Accuracy, Precision , Recall and F1 Score&lt;/h5&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tibble(
  &amp;quot;accuracy&amp;quot; =
    accuracy(predictions_glm, Churn, .pred_class) %&amp;gt;%
    select(.estimate),
  &amp;quot;precision&amp;quot; =
    precision(predictions_glm, Churn, .pred_class) %&amp;gt;%
    select(.estimate),
  &amp;quot;recall&amp;quot; =
    recall(predictions_glm, Churn, .pred_class) %&amp;gt;%
    select(.estimate),
  &amp;quot;F1 score&amp;quot; =
    f_meas(predictions_glm, Churn, .pred_class) %&amp;gt;%
    select(.estimate),
) %&amp;gt;%
  unnest(cols = c(accuracy, precision, recall, `F1 score`)) %&amp;gt;%
  kable()&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
accuracy
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
precision
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
recall
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
F1 score
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8058321
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8376916
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.909002
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8718911
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;random-forest&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Random Forest&lt;/h3&gt;
&lt;div id=&#34;cross-validation---10-fold&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Cross Validation - 10-Fold&lt;/h4&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cross_val_tbl &amp;lt;- vfold_cv(train_tbl, v = 10)
cross_val_tbl&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## #  10-fold cross-validation 
## # A tibble: 10 x 2
##    splits             id    
##    &amp;lt;named list&amp;gt;       &amp;lt;chr&amp;gt; 
##  1 &amp;lt;split [5.1K/563]&amp;gt; Fold01
##  2 &amp;lt;split [5.1K/563]&amp;gt; Fold02
##  3 &amp;lt;split [5.1K/563]&amp;gt; Fold03
##  4 &amp;lt;split [5.1K/563]&amp;gt; Fold04
##  5 &amp;lt;split [5.1K/563]&amp;gt; Fold05
##  6 &amp;lt;split [5.1K/563]&amp;gt; Fold06
##  7 &amp;lt;split [5.1K/562]&amp;gt; Fold07
##  8 &amp;lt;split [5.1K/562]&amp;gt; Fold08
##  9 &amp;lt;split [5.1K/562]&amp;gt; Fold09
## 10 &amp;lt;split [5.1K/562]&amp;gt; Fold10&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cross_val_tbl %&amp;gt;% pluck(&amp;quot;splits&amp;quot;, 1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;lt;5063/563/5626&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;random-forest-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Random Forest&lt;/h4&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rf_fun &amp;lt;- function(split, id, try, tree) {
    
    analysis_set &amp;lt;- split %&amp;gt;% analysis()
    analysis_prepped &amp;lt;- analysis_set %&amp;gt;% recipe_simple()
    analysis_baked &amp;lt;- analysis_prepped %&amp;gt;% bake(new_data = analysis_set)
    
    model_rf &amp;lt;-
        rand_forest(
            mode = &amp;quot;classification&amp;quot;,
            mtry = try,
            trees = tree
        ) %&amp;gt;%
        set_engine(&amp;quot;ranger&amp;quot;,
                   importance = &amp;quot;impurity&amp;quot;
        ) %&amp;gt;%
        fit(Churn ~ ., data = analysis_baked)
    
    assessment_set     &amp;lt;- split %&amp;gt;% assessment()
    assessment_prepped &amp;lt;- assessment_set %&amp;gt;% recipe_simple()
    assessment_baked   &amp;lt;- assessment_prepped %&amp;gt;% bake(new_data = assessment_set)
    
    tibble(
        &amp;quot;id&amp;quot; = id,
        &amp;quot;truth&amp;quot; = assessment_baked$Churn,
        &amp;quot;prediction&amp;quot; = model_rf %&amp;gt;%
            predict(new_data = assessment_baked) %&amp;gt;%
            unlist()
    )
    
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;modeling-with-purrr&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Modeling with purrr&lt;/h4&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pred_rf &amp;lt;- map2_df(
    .x = cross_val_tbl$splits,
    .y = cross_val_tbl$id,
    ~ rf_fun(split = .x, id = .y, try = 3, tree = 200)
)

head(pred_rf)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 3
##   id     truth prediction
##   &amp;lt;chr&amp;gt;  &amp;lt;fct&amp;gt; &amp;lt;fct&amp;gt;     
## 1 Fold01 No    No        
## 2 Fold01 No    No        
## 3 Fold01 Yes   No        
## 4 Fold01 No    No        
## 5 Fold01 No    No        
## 6 Fold01 No    No&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;assess-performance-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Assess Performance&lt;/h4&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pred_rf %&amp;gt;%
    conf_mat(truth, prediction) %&amp;gt;%
    summary() %&amp;gt;%
    select(-.estimator) %&amp;gt;%
    filter(.metric %in% c(&amp;quot;accuracy&amp;quot;, &amp;quot;precision&amp;quot;, &amp;quot;recall&amp;quot;, &amp;quot;f_meas&amp;quot;)) %&amp;gt;%
    kable()&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
.metric
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
.estimate
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
accuracy
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7964806
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
precision
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8320035
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
recall
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9065443
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
f_meas
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8676760
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Tidymodels: tidy machine learning in R</title>
      <link>/post/tidymodels-tidy-machine-learning-in-r/</link>
      <pubDate>Sun, 26 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/tidymodels-tidy-machine-learning-in-r/</guid>
      <description>


&lt;div id=&#34;setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;function&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;function&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x_to_na &amp;lt;- function (s, x = 0)
{
    sapply(s, function(y)
        ifelse(y %in% x, NA, y))
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;what-is-tidymodels&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;What is tidymodels&lt;/h2&gt;
&lt;p&gt;Much like the tidyverse consists of many core packages, such as ggplot2 and dplyr, tidymodels also consists of several core packages, including&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;rsample&lt;/code&gt;: for sample splitting (e.g. train/test or cross-validation)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;recipes&lt;/code&gt;: for pre-processing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;parsnip&lt;/code&gt;: for specifying the model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;yardstick&lt;/code&gt;: for evaluating the model&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We will also be using the &lt;code&gt;tune&lt;/code&gt; package (for parameter tuning procedure) and the &lt;code&gt;workflows&lt;/code&gt; package (for putting everything together) that I had thought were a part of CRAN’s tidymodels package bundle, but apparently they aren’t. These will need to be loaded separately for now.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;getting-set-up&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Getting set up&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# load the relevant tidymodels libraries
library(tidymodels)
library(tidyverse)
library(workflows)
library(tune)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;load-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Load Data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# load the Pima Indians dataset from the mlbench dataset
library(mlbench)
data(PimaIndiansDiabetes)
# rename dataset to have shorter name because lazy
df &amp;lt;- PimaIndiansDiabetes
head(df)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   pregnant glucose pressure triceps insulin mass pedigree age diabetes
## 1        6     148       72      35       0 33.6    0.627  50      pos
## 2        1      85       66      29       0 26.6    0.351  31      neg
## 3        8     183       64       0       0 23.3    0.672  32      pos
## 4        1      89       66      23      94 28.1    0.167  21      neg
## 5        0     137       40      35     168 43.1    2.288  33      pos
## 6        5     116       74       0       0 25.6    0.201  30      neg&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;eda&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;EDA&lt;/h2&gt;
&lt;div id=&#34;skim&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;skim&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;skimr::skim(df)&lt;/code&gt;&lt;/pre&gt;
&lt;table style=&#39;width: auto;&#39;
        class=&#39;table table-condensed&#39;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-4&#34;&gt;Table 1: &lt;/span&gt;Data summary
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Name
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
df
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Number of rows
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
768
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Number of columns
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
9
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
_______________________
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Column type frequency:
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
factor
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
numeric
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
8
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
________________________
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Group variables
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
None
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: factor&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
skim_variable
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_missing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
complete_rate
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
ordered
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_unique
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
top_counts
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
diabetes
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
FALSE
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
neg: 500, pos: 268
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: numeric&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
skim_variable
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
n_missing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
complete_rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
mean
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p0
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p25
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p50
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p75
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
p100
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
hist
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
pregnant
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3.85
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3.37
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
17.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▃▂▁▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
glucose
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
120.89
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
31.97
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
99.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
117.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
140.25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
199.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▁▁▇▆▂
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
pressure
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19.36
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
72.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
122.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▁▁▇▇▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
triceps
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
20.54
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15.95
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
23.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
32.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
99.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▇▂▁▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
insulin
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
79.80
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
115.24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
30.50
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
127.25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
846.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▁▁▁▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
mass
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
31.99
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7.88
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
27.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
32.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
36.60
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
67.10
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▁▃▇▂▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
pedigree
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.47
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.33
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.37
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.63
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.42
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▃▁▁▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
age
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
33.24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.76
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
41.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
81.00
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
▇▃▁▁▁
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;distribution&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;distribution&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df %&amp;gt;%
    janitor::clean_names() %&amp;gt;%
    set_names(colnames(.) %&amp;gt;%
                  str_replace_all(., &amp;quot;_&amp;quot;, &amp;quot; &amp;quot;) %&amp;gt;%
                  str_to_title()) %&amp;gt;%
    select_if(is.numeric) %&amp;gt;%
    gather() %&amp;gt;%
    ggplot(aes(x = value)) +
    facet_wrap(~ key, scales = &amp;quot;free&amp;quot;, ncol = 4) +
    geom_histogram()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-04-26-tidymodels-tidy-machine-learning-in-r_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df %&amp;gt;%
    janitor::clean_names() %&amp;gt;%
    set_names(colnames(.) %&amp;gt;%
                  str_replace_all(., &amp;quot;_&amp;quot;, &amp;quot; &amp;quot;) %&amp;gt;%
                  str_to_title()) %&amp;gt;%
    select_if(is.factor) %&amp;gt;%
    gather() %&amp;gt;%
    ggplot(aes(x = value)) +
    geom_bar()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-04-26-tidymodels-tidy-machine-learning-in-r_files/figure-html/unnamed-chunk-5-2.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;replace-na&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;replace NA&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# df_clean &amp;lt;- df %&amp;gt;%
#   mutate_at(vars(triceps, glucose, pressure, insulin, mass),
#             function(.var) {
#               if_else(condition = (.var == 0), # if true (i.e. the entry is 0)
#                       true = as.numeric(NA),  # replace the value with NA
#                       false = .var # otherwise leave it as it is
#                       )
#             })

df_clean &amp;lt;- df %&amp;gt;%
  mutate_at(vars(triceps, glucose, pressure, insulin, mass), ~ x_to_na(.x))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;split-into-traintest&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Split into train/test&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(234589)
# split the data into trainng (75%) and testing (25%)
set.seed(seed = 1972) 

train_test_split &amp;lt;-
    rsample::initial_split(
        data = df_clean,     
        prop = 3/4 
    ) 

train_test_split&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;lt;576/192/768&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;train_tbl &amp;lt;- train_test_split %&amp;gt;% training() 
test_tbl  &amp;lt;- train_test_split %&amp;gt;% testing() &lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;cv-fold&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;cv-fold&lt;/h3&gt;
&lt;p&gt;At some point we’re going to want to do some parameter tuning, and to do that we’re going to want to use cross-validation. So we can create a cross-validated version of the training set in preparation for that moment using vfold_cv().&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# create CV object from training data
train_cv &amp;lt;- vfold_cv(train_tbl)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;define-a-recipe&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Define a recipe&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# define the recipe function
recipe_simple &amp;lt;- function(data) {
  # which consists of the formula (outcome ~ predictors)
  recipe(diabetes ~ pregnant + glucose + pressure + triceps +
           insulin + mass + pedigree + age,
         data = data) %&amp;gt;%
    # and some pre-processing steps
    step_normalize(all_numeric()) %&amp;gt;%
    step_knnimpute(all_predictors()) %&amp;gt;% 
    prep(data = data)
}

recipe_prepped &amp;lt;- recipe_simple(data = df_clean)

train_baked &amp;lt;- bake(recipe_prepped, new_data = train_tbl)
test_baked  &amp;lt;- bake(recipe_prepped, new_data = test_tbl)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;specify-the-model&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Specify the model&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Parsnip offers a unified interface for the massive variety of models that exist in R.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;The &lt;strong&gt;model type&lt;/strong&gt;: what kind of model you want to fit, set using a different function depending on the model, such as &lt;code&gt;rand_forest()&lt;/code&gt; for random forest, &lt;code&gt;logistic_reg()&lt;/code&gt; for logistic regression, &lt;code&gt;svm_poly()&lt;/code&gt; for a polynomial SVM model etc. The full list of models available via parsnip can be found &lt;a href=&#34;https://tidymodels.github.io/parsnip/articles/articles/Models.html&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;strong&gt;arguments&lt;/strong&gt;: the model parameter values (now consistently named across different models), set using &lt;code&gt;set_args()&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;strong&gt;engine&lt;/strong&gt;: the underlying package the model should come from (e.g. “ranger” for the ranger implementation of Random Forest), set using &lt;code&gt;set_engine()&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;strong&gt;mode&lt;/strong&gt;: the type of prediction - since several packages can do both classification (binary/categorical prediction) and regression (continuous prediction), set using &lt;code&gt;set_mode()&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;rf&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;RF&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;📌 this code doesn’t actually fit the model. Like the recipe, it just outlines a description of the model.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;setting a parameter to tune() means that it will be tuned later in the tune stage of the pipeline. You could also just specify a particular value of the parameter if you don’t want to tune it e.g. using set_args(mtry = 4).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rf_model &amp;lt;- 
  # specify that the model is a random forest
  rand_forest() %&amp;gt;%
  # specify that the `mtry` parameter needs to be tuned
  set_args(mtry = tune()) %&amp;gt;%
  # select the engine/package that underlies the model
  set_engine(&amp;quot;ranger&amp;quot;) %&amp;gt;%
  # choose either the continuous regression or binary classification mode
  set_mode(&amp;quot;classification&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;put-it-all-together-in-a-workflow&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Put it all together in a workflow&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# set the workflow
rf_workflow &amp;lt;- workflow() %&amp;gt;%
  # add the recipe
  add_recipe(recipe_prepped) %&amp;gt;%
  # add the model
  add_model(rf_model)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;tune-the-parameters&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Tune the parameters&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;📌 You can tune multiple parameters at once by providing multiple parameters to the expand.grid() function, e.g. expand.grid(mtry = c(3, 4, 5), trees = c(100, 500)).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# specify which values eant to try
rf_grid &amp;lt;- expand.grid(mtry = c(3, 4, 5))
# extract results
rf_tune_results &amp;lt;- 
  rf_workflow %&amp;gt;%
  tune_grid(resamples = train_cv, #CV object
            grid = rf_grid, # grid of values to try
            metrics = metric_set(accuracy, roc_auc) # metrics we care about
            )

# print results
rf_tune_results %&amp;gt;%
  collect_metrics()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##    mtry .metric  .estimator  mean     n std_err
##   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1     3 accuracy binary     0.759    10  0.0216
## 2     3 roc_auc  binary     0.843    10  0.0160
## 3     4 accuracy binary     0.759    10  0.0211
## 4     4 roc_auc  binary     0.841    10  0.0163
## 5     5 accuracy binary     0.764    10  0.0200
## 6     5 roc_auc  binary     0.841    10  0.0155&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;finalize-the-workflow&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Finalize the workflow&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;param_final &amp;lt;- 
  rf_tune_results %&amp;gt;%
  select_best(metric = &amp;quot;accuracy&amp;quot;, maximize = TRUE)
param_final&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 1
##    mtry
##   &amp;lt;dbl&amp;gt;
## 1     5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# add this parameter to the workflow using the finalize_workflow() function.
rf_workflow &amp;lt;- 
  rf_workflow %&amp;gt;%
  finalize_workflow(param_final)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;fit-the-final-model&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Fit the final model&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rf_fit &amp;lt;- rf_workflow %&amp;gt;%
  # fit on entire training set and evaluate on test set
  last_fit(train_test_split)

rf_fit&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # # Monte Carlo cross-validation (0.75/0.25) with 1 resamples  
## # A tibble: 1 x 6
##   splits        id           .metrics      .notes      .predictions    .workflow
##   &amp;lt;list&amp;gt;        &amp;lt;chr&amp;gt;        &amp;lt;list&amp;gt;        &amp;lt;list&amp;gt;      &amp;lt;list&amp;gt;          &amp;lt;list&amp;gt;   
## 1 &amp;lt;split [576/… train/test … &amp;lt;tibble [2 ×… &amp;lt;tibble [0… &amp;lt;tibble [192 ×… &amp;lt;workflo…&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;evaluate-the-model-on-the-test-set&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Evaluate the model on the test set&lt;/h2&gt;
&lt;div id=&#34;performance&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;performance&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test_performance &amp;lt;- rf_fit %&amp;gt;% collect_metrics()
test_performance&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;
## 1 accuracy binary         0.755
## 2 roc_auc  binary         0.829&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;predict&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;predict&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# generate predictions from the test set
test_predictions &amp;lt;- rf_fit %&amp;gt;% collect_predictions()
test_predictions&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 192 x 6
##    id               .pred_neg .pred_pos  .row .pred_class diabetes
##    &amp;lt;chr&amp;gt;                &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;       &amp;lt;fct&amp;gt;   
##  1 train/test split     0.249    0.751      1 pos         pos     
##  2 train/test split     0.292    0.708      3 pos         pos     
##  3 train/test split     0.402    0.598      5 pos         pos     
##  4 train/test split     0.587    0.413     10 neg         pos     
##  5 train/test split     0.428    0.572     14 pos         pos     
##  6 train/test split     0.785    0.215     19 neg         neg     
##  7 train/test split     0.417    0.583     25 pos         pos     
##  8 train/test split     0.203    0.797     32 pos         pos     
##  9 train/test split     0.973    0.0272    34 neg         neg     
## 10 train/test split     0.277    0.723     37 pos         neg     
## # … with 182 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# test_predictions &amp;lt;- rf_fit %&amp;gt;% pull(.predictions)
# test_predictions&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;confusion-matrix&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;confusion matrix&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# generate a confusion matrix
test_predictions %&amp;gt;% 
  conf_mat(truth = diabetes, estimate = .pred_class)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           Truth
## Prediction neg pos
##        neg 104  25
##        pos  22  41&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test_predictions %&amp;gt;%
  ggplot() +
  geom_density(aes(x = .pred_pos, fill = diabetes), 
               alpha = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-04-26-tidymodels-tidy-machine-learning-in-r_files/figure-html/unnamed-chunk-17-1.png&#34; width=&#34;70%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Deep Learning With Keras in R</title>
      <link>/post/deep-learning-with-keras-in-r/</link>
      <pubDate>Sat, 18 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/deep-learning-with-keras-in-r/</guid>
      <description>


&lt;div id=&#34;load-libraries&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Load Libraries&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;import-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Import Data&lt;/h2&gt;
&lt;p&gt;Download the&lt;a href=&#34;https://www.ibm.com/communities/analytics/watson-analytics-blog/predictive-insights-in-the-telco-customer-churn-data-set/&#34;&gt;IBM Watson Telco Data Set here&lt;/a&gt;. Next, use&lt;code&gt;read_csv()&lt;/code&gt;to import the data into a nice tidy data frame. We use the&lt;code&gt;glimpse()&lt;/code&gt;function to quickly inspect the data. We have the target “Churn” and all other variables are potential predictors. The raw data set needs to be cleaned and preprocessed for ML.&lt;/p&gt;
&lt;p&gt;Use sapply to check the number if missing values in each columns&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;preprocess-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 Preprocess Data&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;We’ll go through a few steps to preprocess the data for ML. First, we “prune” the data, which is nothing more than removing unnecessary columns and rows. Then we split into training and testing sets. After that we explore the training set to uncover transformations that will be needed for deep learning. We save the best for last. We end by preprocessing the data with the new &lt;a href=&#34;https://topepo.github.io/recipes&#34;&gt;recipes&lt;/a&gt; package.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;prune: 去掉不要的行和列&lt;/li&gt;
&lt;li&gt;split: 切分数据&lt;/li&gt;
&lt;li&gt;EDA explore the data&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;prune-the-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Prune The Data&lt;/h3&gt;
&lt;p&gt;The data has a few columns and rows we’d like to remove:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The “customerID” column is a unique identifier for each observation that isn’t needed for modeling. We can de-select this column.&lt;/li&gt;
&lt;li&gt;The data has 11 &lt;code&gt;NA&lt;/code&gt; values all in the “TotalCharges” column. Because it’s such a small percentage of the total population (99.8% complete cases), we can drop these observations with the &lt;code&gt;drop_na()&lt;/code&gt; function from &lt;a href=&#34;http://tidyr.tidyverse.org/&#34;&gt;tidyr&lt;/a&gt;. Note that these may be customers that have not yet been charged, and therefore an alternative is to replace with zero or -99 to segregate this population from the rest.&lt;/li&gt;
&lt;li&gt;My preference is to have the target in the first column so we’ll include a final select() ooperation to do so.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We’ll perform the cleaning operation with one tidyverse pipe (%&amp;gt;%) chain.&lt;/p&gt;
&lt;p&gt;Bar plots of categorical variables&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;split-into-traintest-sets&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Split Into Train/Test Sets&lt;/h3&gt;
&lt;p&gt;We have a new package, &lt;a href=&#34;https://topepo.github.io/rsample/&#34;&gt;rsample&lt;/a&gt;, which is very useful for sampling methods. It has the &lt;code&gt;initial_split()&lt;/code&gt; function for splitting data sets into training and testing sets. The return is a special &lt;code&gt;rsplit&lt;/code&gt; object.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;exploration-what-transformation-steps-are-needed-for-ml&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Exploration: What Transformation Steps Are Needed For ML?&lt;/h3&gt;
&lt;p&gt;This phase of the analysis is often called exploratory analysis, but basically &lt;strong&gt;we are trying to answer the question, “What steps are needed to prepare for ML?” The key concept is knowing what transformations are needed to run the algorithm most effectively&lt;/strong&gt;. &lt;font color=&#34;darkred&#34;&gt; &lt;strong&gt;Artificial Neural Networks are best when the data is one-hot encoded, scaled and centered&lt;/strong&gt;&lt;/font&gt; . In addition, other transformations may be beneficial as well to make relationships easier for the algorithm to identify. A full exploratory analysis is not practical in this article. With that said we’ll cover a few tips on transformations that can help as they relate to this dataset. In the next section, we will implement the preprocessing techniques.&lt;/p&gt;
&lt;p&gt;回答一个问题: ML 需要什么样的数据? 数据需要做什么样的转换.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#34;darkred&#34;&gt;one-hot, scaled and centered&lt;/font&gt; 比较适合神经网络&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id=&#34;discretize-the-tenure-feature&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Discretize The “tenure” Feature&lt;/h4&gt;
&lt;p&gt;Numeric features like age, years worked, length of time in a position can generalize a group (or &lt;font color=&#34;darkred&#34;&gt; &lt;strong&gt;cohort&lt;/strong&gt;&lt;/font&gt; ). We see this in marketing a lot (think “millennials”, which identifies a group born in a certain timeframe). The “tenure” feature falls into this category of numeric features that can be discretized into groups.&lt;/p&gt;
&lt;p&gt;连续变量的离散化&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;transform-the-totalcharges-feature&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Transform The “totalcharges” Feature&lt;/h4&gt;
&lt;p&gt;log transform&lt;/p&gt;
&lt;p&gt;What we don’t like to see is when a lot of observations are bunched within a small part of the range.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-11-1.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;We can use a log transformation to even out the data into more of a normal distribution.&lt;/strong&gt; It’s not perfect, but it’s quick and easy to get our data spread out a bit more.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-12-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;数据转换改变数据之间的相关性&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;数据转换改变数据之间的相关性&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Pro Tip: A quick test is to see if the log transformation increases the magnitude of the correlation&lt;/strong&gt; between “TotalCharges” and “Churn”. We’ll use a few &lt;a href=&#34;http://dplyr.tidyverse.org/&#34;&gt;dplyr&lt;/a&gt; operations along with the &lt;a href=&#34;https://github.com/drsimonj/corrr&#34;&gt;corrr&lt;/a&gt; package to perform a quick correlation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;correlate()&lt;/code&gt;: Performs tidy correlations on numeric data&lt;/li&gt;
&lt;li&gt;&lt;code&gt;focus()&lt;/code&gt;: Similar to &lt;code&gt;select()&lt;/code&gt;. Takes columns and focuses on only the rows/columns of importance.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fashion()&lt;/code&gt;: Makes the formatting aesthetically easier to read.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The correlation between “Churn” and “LogTotalCharges” is greatest in magnitude indicating the &lt;strong&gt;log transformation should improve the accuracy of the ANN model&lt;/strong&gt; we build. Therefore, we should perform the log transformation.&lt;/p&gt;
&lt;p&gt;x 和 y 之间的相关性, 经过转换后增强了, 这样有利于模型的训练&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;one-hot-encoding&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;One-Hot Encoding&lt;/h4&gt;
&lt;p&gt;One-hot encoding is the process of &lt;strong&gt;converting categorical data to sparse data&lt;/strong&gt;, which has columns of only zeros and ones (this is also called creating “dummy variables” or a “design matrix”). &lt;strong&gt;All non-numeric data will need to be converted to dummy variables&lt;/strong&gt;. This is simple for binary Yes/No data because we can simply convert to 1’s and 0’s. It becomes slightly more complicated with multiple categories, which requires creating new columns of 1’s and 0`s for each category (actually one less). &lt;strong&gt;We have four features that are multi-category: Contract, Internet Service, Multiple Lines, and Payment Method.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-14-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;feature-scaling&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Feature Scaling&lt;/h4&gt;
&lt;p&gt;ANN’s typically perform faster and often times with higher accuracy when the features are scaled and/or normalized (aka centered and scaled, also known as &lt;strong&gt;standardizing&lt;/strong&gt;). &lt;strong&gt;Because ANNs use gradient descent, weights tend to update faster&lt;/strong&gt;. According to &lt;a href=&#34;https://sebastianraschka.com/&#34;&gt;&lt;em&gt;Sebastian Raschka&lt;/em&gt;&lt;/a&gt;, an expert in the field of Deep Learning, several examples when feature scaling is important are:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;k-nearest neighbors with an Euclidean distance measure if want all features to contribute equally&lt;/li&gt;
&lt;li&gt;k-means (see k-nearest neighbors)&lt;/li&gt;
&lt;li&gt;logistic regression, SVMs, perceptrons, neural networks etc. if you are using gradient descent/ascent-based optimization, otherwise some weights will update much faster than others&lt;/li&gt;
&lt;li&gt;linear discriminant analysis, principal component analysis, kernel principal component analysis since you want to find directions of maximizing the variance (under the constraints that those directions/eigenvectors/principal components are orthogonal); &lt;strong&gt;you want to have features on the same scale since you’d emphasize variables on “larger measurement scales” more&lt;/strong&gt;. There are many more cases than I can possibly list here … I always recommend you to think about the algorithm and what it’s doing, and then it typically becomes obvious whether we want to scale your features or not.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The interested reader can read &lt;a href=&#34;http://sebastianraschka.com/Articles/2014_about_feature_scaling.html&#34;&gt;Sebastian Raschka’s article&lt;/a&gt; for a full discussion on the scaling/normalization topic. &lt;font color=&#34;darkred&#34;&gt; &lt;strong&gt;Pro Tip: When in doubt, standardize the data&lt;/strong&gt;&lt;/font&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;preprocessing-with-recipes&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Preprocessing With Recipes&lt;/h3&gt;
&lt;p&gt;Let’s implement the preprocessing steps/transformations uncovered during our exploration. Max Kuhn (creator of &lt;a href=&#34;http://topepo.github.io/caret/index.html&#34;&gt;caret&lt;/a&gt;) has been putting some work into &lt;em&gt;Rlang ML tools&lt;/em&gt; lately, and the payoff is beginning to take shape. &lt;strong&gt;A new package, &lt;a href=&#34;https://topepo.github.io/recipes&#34;&gt;recipes&lt;/a&gt;, makes creating ML data preprocessing workflows a breeze&lt;/strong&gt;! It takes a little getting used to, but I’ve found that it really helps manage the preprocessing steps. We’ll go over the nitty gritty as it applies to this problem.&lt;/p&gt;
&lt;div id=&#34;step-1-create-a-recipe&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Step 1: Create A Recipe&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;A “recipe” is nothing more than a series of steps you would like to perform on the training, testing and/or validation sets&lt;/strong&gt;. Think of preprocessing data like baking a cake (I’m not a baker but stay with me). &lt;strong&gt;The recipe is our steps to make the cake&lt;/strong&gt;. It doesn’t do anything other than create the playbook for baking.&lt;/p&gt;
&lt;p&gt;We use the &lt;code&gt;recipe()&lt;/code&gt; function to implement our preprocessing steps. The function takes a familiar &lt;code&gt;object&lt;/code&gt; argument, which is a modeling function such as &lt;code&gt;object = Churn ~ .&lt;/code&gt; meaning “Churn” is the outcome (aka response, predictor, target) and all other features are predictors. The function also takes the &lt;code&gt;data&lt;/code&gt; argument, which gives the “recipe steps” perspective on how to apply during baking (next).&lt;/p&gt;
&lt;p&gt;A recipe is not very useful until we add “steps”, which are used to transform the data during baking. The package contains a number of useful “step functions” that can be applied. The entire list of &lt;a href=&#34;https://topepo.github.io/recipes/reference/index.html&#34;&gt;Step Functions&lt;/a&gt; can be viewed here. For our model, we use:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;code&gt;step_discretize()&lt;/code&gt; with the &lt;code&gt;option = list(cuts = 6)&lt;/code&gt; to cut the continuous variable for “tenure” (number of years as a customer) to group customers into cohorts. 数据离散化&lt;/li&gt;
&lt;li&gt;&lt;code&gt;step_log()&lt;/code&gt; to log transform “TotalCharges”.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;step_dummy()&lt;/code&gt; to one-hot encode the categorical data. Note that this adds columns of one/zero for categorical data with three or more categories.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;step_center()&lt;/code&gt; to mean-center the data. 所有数据减去平均值&lt;/li&gt;
&lt;li&gt;&lt;code&gt;step_scale()&lt;/code&gt; to scale the data.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The last step is to prepare the recipe with the &lt;code&gt;prep()&lt;/code&gt; function. This step is used to “estimate the required parameters from a training set that can later be applied to other data sets”. &lt;strong&gt;This is important for centering and scaling and other functions that use parameters defined from the training set&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;prep()&lt;/code&gt;, 这一步非常重要, 可以评估需要的参数保存下来用于之后的 future raw data, 这对于数据标准化这一步是非常重要的.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Here’s how simple it is to implement the preprocessing steps that we went over!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We can print the recipe object if we ever forget what steps were used to prepare the data. &lt;strong&gt;Pro Tip: We can save the recipe object as an RDS file using &lt;code&gt;saveRDS()&lt;/code&gt;, and then use it to &lt;code&gt;bake()&lt;/code&gt; (discussed next) future raw data into ML-ready data in production!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我们可以保存下来这个 recipes 用于之后的数据准备, 这对于使用模型预测数据是非常重要的.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;step-2-baking-with-your-recipe&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Step 2: Baking With Your Recipe&lt;/h4&gt;
&lt;p&gt;Now for the fun part! We can apply the “recipe” to any data set with the &lt;code&gt;bake()&lt;/code&gt; function, and it processes the data following our recipe steps. We’ll apply to our training and testing data to convert from raw data to a machine learning dataset. Check our training set out with &lt;code&gt;glimpse()&lt;/code&gt;. &lt;strong&gt;Now that’s an ML-ready dataset prepared for ANN modeling!!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#34;darkred&#34;&gt;raw dataset to machine learning dataset&lt;/font&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;step-3-dont-forget-the-target&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Step 3: Don’t Forget The Target&lt;/h4&gt;
&lt;p&gt;One last step, we need to store the actual values (truth) as &lt;code&gt;y_train_vec&lt;/code&gt; and &lt;code&gt;y_test_vec&lt;/code&gt;, which are needed for modeling our ANN. We convert to a series of numeric ones and zeros which can be accepted by the Keras ANN modeling functions. We add “vec” to the name so we can easily remember the class of the object (it’s easy to get confused when working with tibbles, vectors, and matrix data types).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;keras-model-customer-churn-with-keras-deep-learning&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 Keras: Model Customer Churn With Keras (Deep Learning)&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;This is super exciting!! Finally, Deep Learning with Keras in R!&lt;/strong&gt; The team at RStudio has done fantastic work recently to create the &lt;a href=&#34;https://tensorflow.rstudio.com/keras/&#34;&gt;keras&lt;/a&gt; package, which implements &lt;a href=&#34;https://keras.io/&#34;&gt;Keras&lt;/a&gt; in R. Very cool!&lt;/p&gt;
&lt;div id=&#34;background-on-artifical-neural-networks&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Background On Artifical Neural Networks&lt;/h3&gt;
&lt;p&gt;For those unfamiliar with Neural Networks (and those that need a refresher), &lt;a href=&#34;https://www.xenonstack.com/blog/overview-of-artificial-neural-networks-and-its-applications&#34;&gt;read this article&lt;/a&gt;. It’s very comprehensive, and you’ll leave with a general understanding of the types of deep learning and how they work.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/Artificial-Neural-Network-Architecture.jpg&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Source: &lt;a href=&#34;https://www.xenonstack.com/blog/overview-of-artificial-neural-networks-and-its-applications&#34;&gt;Xenon Stack&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Deep Learning has been available in R for some time, but the primary packages used in the wild have not (this includes Keras, Tensor Flow, Theano, etc, which are all Python libraries). It’s worth mentioning that a number of other Deep Learning packages exist in R including &lt;code&gt;h2o&lt;/code&gt;, &lt;code&gt;mxnet&lt;/code&gt;, and others. The interested reader can check out &lt;a href=&#34;http://www.rblog.uni-freiburg.de/2017/02/07/deep-learning-in-r/&#34;&gt;this blog post for a comparison of deep learning packages in R&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;building-a-deep-learning-model&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Building A Deep Learning Model&lt;/h3&gt;
&lt;p&gt;We’re going to build a special class of ANN called a &lt;a href=&#34;https://en.wikipedia.org/wiki/Multilayer_perceptron&#34;&gt;Multi-Layer Perceptron (MLP)&lt;/a&gt;. MLPs are one of the simplest forms of deep learning, but they are both highly accurate and serve as a jumping-off point for more complex algorithms. MLPs are quite versatile as they can be used for regression, binary and multi classification (and are typically quite good at classification problems).&lt;/p&gt;
&lt;p&gt;We’ll build a three layer MLP with Keras. Let’s walk-through the steps before we implement in R.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;&lt;font color=&#34;darkred&#34;&gt;&lt;strong&gt;Initialize a sequential model&lt;/strong&gt;&lt;/font&gt; : The first step is to initialize a sequential model with &lt;code&gt;keras_model_sequential()&lt;/code&gt;, which is the beginning of our Keras model. The sequential model is composed of a linear stack of layers.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Apply layers to the sequential model&lt;/strong&gt;: Layers consist of the input layer, hidden layers and an output layer. The &lt;strong&gt;input layer is the data and provided it’s formatted correctly there’s nothing more to discuss&lt;/strong&gt;. The hidden layers and output layers are what controls the ANN inner workings.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hidden Layers&lt;/strong&gt;: Hidden layers form the neural network nodes that enable non-linear activation using weights. The hidden layers are created using &lt;code&gt;layer_dense()&lt;/code&gt;. We’ll add two hidden layers. We’ll apply &lt;code&gt;units = 16&lt;/code&gt;, which is the &lt;strong&gt;number of nodes&lt;/strong&gt;. We’ll select &lt;code&gt;kernel_initializer = &#34;uniform&#34;&lt;/code&gt; and &lt;code&gt;activation = &#34;relu&#34;&lt;/code&gt; for both layers. The first layer needs to have the &lt;code&gt;input_shape = 35&lt;/code&gt;, which is the number of columns in the training set (the number of feature) . &lt;strong&gt;Key Point: While we are arbitrarily selecting the number of hidden layers, units, kernel initializers and activation functions, these parameters can be optimized through a process called hyperparameter tuning that is discussed in &lt;a href=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/#next-steps&#34;&gt;Next Steps&lt;/a&gt;&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;关键点：尽管我们可以任意选择隐藏层，单元，内核初始化程序和激活函数的数量，但是可以通过称为“超参数调整”的过程来优化这些参数，该过程将在[后续步骤]中进行讨论。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Dropout Layers&lt;/strong&gt;: Dropout layers are used to &lt;strong&gt;control overfitting&lt;/strong&gt;. This eliminates weights below a cutoff threshold to prevent low weights from overfitting the layers. We use the &lt;code&gt;layer_dropout()&lt;/code&gt; function add two drop out layers with &lt;code&gt;rate = 0.10&lt;/code&gt; to remove weights below 10%.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Output Layer&lt;/strong&gt;: The output layer specifies the shape of the output and the method of assimilating the learned information. The output layer is applied using the &lt;code&gt;layer_dense()&lt;/code&gt;. For binary values, the shape should be &lt;code&gt;units = 1&lt;/code&gt;. For multi-classification, the &lt;code&gt;units&lt;/code&gt; should correspond to the number of classes. We set the &lt;code&gt;kernel_initializer = &#34;uniform&#34;&lt;/code&gt; and the &lt;code&gt;activation = &#34;sigmoid&#34;&lt;/code&gt; (common for binary classification).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;strong&gt;Compile the model&lt;/strong&gt;: The last step is to compile the model with &lt;code&gt;compile()&lt;/code&gt;. We’ll use &lt;code&gt;optimizer = &#34;adam&#34;&lt;/code&gt;, which is one of the most popular optimization algorithms. We select &lt;code&gt;loss = &#34;binary_crossentropy&#34;&lt;/code&gt; since this is a binary classification problem. We’ll select &lt;code&gt;metrics = c(&#34;accuracy&#34;)&lt;/code&gt; to be evaluated during training and testing. &lt;strong&gt;Key Point: The optimizer is often included in the tuning process&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;build-model-object&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Build model object&lt;/h4&gt;
&lt;p&gt;Let’s codify the discussion above to build our Keras MLP-flavored ANN model.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;fit-model&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Fit Model&lt;/h4&gt;
&lt;p&gt;We use the fit() function to run the ANN on our training data. The object is our model, and x and y are our training data in matrix and numeric vector forms, respectively. The &lt;code&gt;batch_size = 50&lt;/code&gt; sets the number samples per gradient update within each epoch. We set &lt;code&gt;epochs = 35&lt;/code&gt; to control the number training cycles. Typically we want to keep the batch size high since this decreases the error within each training cycle (epoch). We also want epochs to be large, which is important in visualizing the training history (discussed below). We set &lt;code&gt;validation_split = 0.30&lt;/code&gt; to include 30% of the data for model validation, which prevents overfitting. The training process should complete in 15 seconds or so.&lt;/p&gt;
&lt;p&gt;我们将&#34; validation_split = 0.30&#34;设置为包括30％的数据用于模型验证，这可以防止过拟合。
验证集弄大一点可以防止模型过拟合??&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;vis-history&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;vis history&lt;/h4&gt;
&lt;p&gt;We can inspect the training history. We want to make sure there is minimal difference between the validation accuracy and the training accuracy.&lt;/p&gt;
&lt;p&gt;We can visualize the Keras training history using the &lt;code&gt;plot()&lt;/code&gt; function. What we want to see is the validation accuracy and loss leveling off, which means the model has completed training. We see that there is some divergence between training loss/accuracy and validation loss/accuracy. This model indicates we can possibly stop training at an earlier epoch. &lt;font color=&#34;darkred&#34;&gt;&lt;strong&gt;Pro Tip: Only use enough epochs to get a high validation accuracy. Once validation accuracy curve begins to flatten or decrease, it’s time to stop training.&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;专家提示：请仅使用足够的 epochs 以获得较高的验证准确性。验证准确性曲线开始变平或减小后，就该停止训练了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;making-predictions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Making Predictions&lt;/h3&gt;
&lt;p&gt;We’ve got a good model based on the validation accuracy. Now let’s make some predictions from our &lt;a href=&#34;https://tensorflow.rstudio.com/keras/&#34;&gt;keras&lt;/a&gt; model on the test data set, which was unseen during modeling (we use this for the true performance assessment). We have two functions to generate predictions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;predict_classes()&lt;/code&gt;: Generates class values as a matrix of ones and zeros. Since we are dealing with binary classification, we’ll convert the output to a vector.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;predict_proba()&lt;/code&gt;: Generates the class probabilities as a numeric matrix indicating &lt;strong&gt;the probability of being a class&lt;/strong&gt;. Again, we convert to a numeric vector because there is only one column output.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;inspect-performance-with-yardstick&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Inspect Performance With Yardstick&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;yardstick&lt;/code&gt; package has a collection of handy functions for measuring performance of machine learning models. We’ll overview some metrics we can use to understand the performance of our model.&lt;/p&gt;
&lt;p&gt;First, let’s get the data formatted for &lt;code&gt;yardstick&lt;/code&gt;. We create a data frame with the &lt;strong&gt;truth (actual values as factors)&lt;/strong&gt;, &lt;strong&gt;estimate (predicted values as factors)&lt;/strong&gt;, and &lt;strong&gt;the class probability (probability of yes as numeric)&lt;/strong&gt;. We use the &lt;code&gt;fct_recode()&lt;/code&gt; function from the &lt;a href=&#34;http://forcats.tidyverse.org/&#34;&gt;forcats&lt;/a&gt; package to assist with recoding as Yes/No values.&lt;/p&gt;
&lt;p&gt;Now that we have the data formatted, we can take advantage of the &lt;code&gt;yardstick&lt;/code&gt; package. The only other thing we need to do is to set &lt;code&gt;options(yardstick.event_first = FALSE)&lt;/code&gt;. As pointed out by &lt;a href=&#34;https://github.com/ad1729&#34;&gt;ad1729&lt;/a&gt; in &lt;a href=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/options(yardstick.event_first%20=%20FALSE)&#34;&gt;GitHub Issue 13&lt;/a&gt;, the default is to classify 0 as the positive class instead of 1.&lt;/p&gt;
&lt;p&gt;这个问题在最新版的 yardstick 已经得到解决了&lt;/p&gt;
&lt;div id=&#34;confusion-table&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Confusion Table&lt;/h4&gt;
&lt;p&gt;We can use the &lt;code&gt;conf_mat()&lt;/code&gt; function to get the confusion table. We see that the model was by no means perfect, but it did a decent job of identifying customers likely to churn.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;accuracy&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Accuracy&lt;/h4&gt;
&lt;p&gt;We can use the &lt;code&gt;metrics()&lt;/code&gt; function to get an accuracy measurement from the test set. We are getting roughly 82% accuracy.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;auc&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;AUC&lt;/h4&gt;
&lt;p&gt;We can also get the ROC Area Under the Curve (AUC) measurement. AUC is often a good metric used to compare different classifiers and to compare to randomly guessing (AUC_random = 0.50). Our model has AUC = 0.85, which is much better than randomly guessing. Tuning and testing different classification algorithms may yield even better results.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;precision-and-recall&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Precision And Recall&lt;/h4&gt;
&lt;p&gt;Precision is when the model predicts “yes”, how often is it actually “yes”. Recall (also true positive rate or specificity) is when the actual value is “yes” how often is the model correct. We can get &lt;code&gt;precision()&lt;/code&gt; and &lt;code&gt;recall()&lt;/code&gt; measurements using &lt;code&gt;yardstick&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Precision and recall are very important to the business case: The organization is concerned with &lt;strong&gt;balancing the cost of targeting and retaining customers at risk of leaving with the cost of inadvertently targeting customers that are not planning to leave&lt;/strong&gt; (and potentially decreasing revenue from this group). The threshold above which to predict Churn = “Yes” can be adjusted to optimize for the business problem. This becomes an &lt;strong&gt;Customer Lifetime Value optimization problem&lt;/strong&gt; that is discussed further in &lt;a href=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/#next-steps&#34;&gt;Next Steps&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;f1-score&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;F1 Score&lt;/h4&gt;
&lt;p&gt;We can also get the F1-score, which is a &lt;strong&gt;weighted average between the precision and recall.&lt;/strong&gt; Machine learning classifier thresholds are often adjusted to maximize the F1-score. However, this is often not the optimal solution to the business problem.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;explain-the-model-with-lime&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 Explain The Model With LIME&lt;/h2&gt;
&lt;p&gt;LIME stands for &lt;em&gt;Local Interpretable Model-agnostic Explanations&lt;/em&gt;, and is a method for explaining black-box machine learning model classifiers. For those new to LIME, this YouTube video does a really nice job explaining how LIME helps to identify feature importance with black box machine learning models (e.g. deep learning, stacked ensembles, random forest).&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;https://i.loli.net/2020/04/18/5QsLvq1PdHUthGC.png&#34; alt=&#34;why should I trust you&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;why should I trust you&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=hUnRCxnydCc&amp;amp;feature=emb_logo&#34;&gt;(28) KDD2016 paper 573 - YouTube&lt;/a&gt;&lt;/p&gt;
&lt;div id=&#34;setup&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Setup&lt;/h4&gt;
&lt;p&gt;The &lt;a href=&#34;https://github.com/thomasp85/lime&#34;&gt;lime&lt;/a&gt; package implements &lt;a href=&#34;https://github.com/marcotcr/lime&#34;&gt;LIME&lt;/a&gt; in R. One thing to note is that it’s not setup out-of-the-box to work with &lt;code&gt;keras&lt;/code&gt;. The good news is with a few functions we can get everything working properly. We’ll need to make two custom functions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;model_type&lt;/code&gt;: Used to tell &lt;code&gt;lime&lt;/code&gt; &lt;strong&gt;what type of model we are dealing with&lt;/strong&gt;. It could be classification, regression, survival, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;predict_model&lt;/code&gt;: Used to allow &lt;code&gt;lime&lt;/code&gt; to perform predictions that its algorithm can interpret.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;model_type-fucntion-define&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;model_type fucntion define&lt;/h5&gt;
&lt;p&gt;The first thing we need to do is &lt;strong&gt;identify the class of our model object&lt;/strong&gt;. We do this with the &lt;code&gt;class()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;Next we create our &lt;code&gt;model_type()&lt;/code&gt; function. It’s only input is x the keras model. &lt;strong&gt;The function simply returns “classification”, which tells LIME we are classifying.&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;predict_model-function-define&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;predict_model function define&lt;/h5&gt;
&lt;p&gt;Now we can create our &lt;code&gt;predict_model()&lt;/code&gt; function, which wraps &lt;code&gt;keras::predict_proba()&lt;/code&gt;. &lt;strong&gt;The trick here is to realize that it’s inputs must be x a model, newdata a dataframe object (this is important)&lt;/strong&gt;, and type which is not used but can be use to switch the output type. The output is also a little tricky because it must be in the format of probabilities by classification (this is important; shown next).&lt;/p&gt;
&lt;p&gt;Run this next script to show you what the output looks like and to test our predict_model() function. See how it’s the probabilities by classification. It must be in this form for &lt;code&gt;model_type = &#34;classification&#34;&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;predict_model-function&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;predict_model() function&lt;/h5&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;enjoy-lime&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Enjoy LIME&lt;/h4&gt;
&lt;p&gt;Now the fun part, we create an explainer using the &lt;code&gt;lime()&lt;/code&gt; function. Just pass the training data set without the “Attribution column”. The form must be a data frame, which is OK since our &lt;code&gt;predict_model&lt;/code&gt; function will switch it to an keras object. Set &lt;code&gt;model = automl_leader&lt;/code&gt; our leader model, and &lt;code&gt;bin_continuous = FALSE&lt;/code&gt;. We could tell the algorithm to bin continuous variables, but this may not make sense for categorical numeric data that we didn’t change to factors.&lt;/p&gt;
&lt;p&gt;Now we run the &lt;code&gt;explain()&lt;/code&gt; function, which returns our explanation. This can take a minute to run so we limit it to just the first ten rows of the test data set.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We set &lt;code&gt;n_labels = 1&lt;/code&gt; because we care about explaining a single class.&lt;/li&gt;
&lt;li&gt;Setting &lt;code&gt;n_features = 4&lt;/code&gt; &lt;strong&gt;returns the top four features that are critical to each case&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Finally, setting &lt;code&gt;kernel_width = 0.5&lt;/code&gt; allows us to increase the “model_r2” value by shrinking the localized evaluation.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;feature-importance-visualization&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Feature Importance Visualization&lt;/h4&gt;
&lt;p&gt;The payoff for the work we put in using LIME is this &lt;strong&gt;feature importance plot&lt;/strong&gt;. This allows us to visualize each of the first ten cases (observations) from the test data. &lt;strong&gt;The top four features for each case are shown&lt;/strong&gt;. Note that &lt;strong&gt;they are not the same for each case&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;The green bars mean that the feature &lt;strong&gt;supports the model conclusion&lt;/strong&gt;, and the red bars contradict.&lt;/p&gt;
&lt;p&gt;A few important features based on frequency in first ten cases:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tenure (7 cases)&lt;/li&gt;
&lt;li&gt;Senior Citizen (5 cases)&lt;/li&gt;
&lt;li&gt;Online Security (4 cases)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Another excellent visualization can be performed using &lt;code&gt;plot_explanations()&lt;/code&gt;, which produces a facetted heatmap of all case/label/feature combinations. It’s a more condensed version of plot_features(), but we need to be careful because it does not provide exact statistics and it makes it less easy to investigate binned features (Notice that “tenure” would not be identified as a contributor even though it shows up as a top feature in 7 of 10 cases).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;check-explanations-with-correlation-analysis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 Check Explanations With Correlation Analysis&lt;/h2&gt;
&lt;p&gt;One thing we need to be careful with the LIME visualization is that we are only doing a sample of the data, in our case the first 10 test observations. Therefore, we are &lt;strong&gt;gaining a very localized understanding of how the ANN works&lt;/strong&gt;. However, we also want to know on from a global perspective what drives feature importance.&lt;/p&gt;
&lt;p&gt;We can perform a &lt;strong&gt;correlation analysis&lt;/strong&gt; on the training set as well to help glean what features correlate globally to “Churn”. We’ll use the &lt;code&gt;corrr&lt;/code&gt; package, which performs tidy correlations with the function &lt;code&gt;correlate()&lt;/code&gt;. We can get the correlations as follows.&lt;/p&gt;
&lt;p&gt;The correlation visualization helps in distinguishing which features are relavant to Churn.&lt;/p&gt;
&lt;p&gt;The correlation analysis helps us quickly disseminate which features that the LIME analysis may be excluding. We can see that the following features are highly correlated (magnitude &amp;gt; 0.25):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Increases Likelihood of Churn (Red): - Tenure = Bin 1 (&amp;lt;12 Months) - Internet Service = “Fiber Optic” - Payment Method = “Electronic Check”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Decreases Likelihood of Churn (Blue): - Contract = “Two Year” - Total Charges (Note that this may be a biproduct of additional services such as Online Security)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;feature-investigation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 Feature Investigation&lt;/h2&gt;
&lt;p&gt;We can investigate features that are &lt;strong&gt;most frequent&lt;/strong&gt; in the LIME feature importance visualization along with those that the &lt;strong&gt;correlation analysis shows an above normal magnitude&lt;/strong&gt;. We’ll investigate:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tenure (7/10 LIME Cases, Highly Correlated)&lt;/li&gt;
&lt;li&gt;Contract (Highly Correlated)&lt;/li&gt;
&lt;li&gt;Internet Service (Highly Correlated)&lt;/li&gt;
&lt;li&gt;Payment Method (Highly Correlated)&lt;/li&gt;
&lt;li&gt;Senior Citizen (5/10 LIME Cases)&lt;/li&gt;
&lt;li&gt;Online Security (4/10 LIME Cases)&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;tenure-710-lime-cases-highly-correlated&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Tenure (7/10 LIME Cases, Highly Correlated)&lt;/h4&gt;
&lt;p&gt;LIME cases indicate that the ANN model is using this feature frequently and high correlation agrees that this is important. Investigating the feature distribution, it appears that customers with lower tenure (bin 1) are more likely to leave. &lt;strong&gt;Opportunity: Target customers with less than 12 month tenure.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-45-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;contract-highly-correlated&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Contract (Highly Correlated)&lt;/h4&gt;
&lt;p&gt;While LIME did not indicate this as a primary feature in the first 10 cases, the feature is clearly correlated with those electing to stay. Customers with one and two year contracts are much less likely to churn. &lt;strong&gt;Opportunity: Offer promotion to switch to long term contracts.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-46-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;internet-service-highly-correlated&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Internet Service (Highly Correlated)&lt;/h4&gt;
&lt;p&gt;While LIME did not indicate this as a primary feature in the first 10 cases, the feature is clearly correlated with those electing to stay. Customers with fiber optic service are more likely to churn while those with no internet service are less likely to churn. &lt;strong&gt;Improvement Area: Customers may be dissatisfied with fiber optic service.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-47-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;payment-method-highly-correlated&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Payment Method (Highly Correlated)&lt;/h4&gt;
&lt;p&gt;While LIME did not indicate this as a primary feature in the first 10 cases, the feature is clearly correlated with those electing to stay. Customers with electronic check are more likely to leave. &lt;strong&gt;Opportunity: Offer customers a promotion to switch to automatic payments&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-48-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;senior-citizen-510-lime-cases&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Senior Citizen (5/10 LIME Cases)&lt;/h4&gt;
&lt;p&gt;Senior citizen appeared in several of the LIME cases indicating it was important to the ANN for the 10 samples. However, it was not highly correlated to Churn, which may indicate that the ANN is using in an more sophisticated manner (e.g. as an interaction). It’s difficult to say that senior citizens are more likely to leave, but non-senior citizens appear less at risk of churning. &lt;strong&gt;Opportunity: Target users in the lower age demographic.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-49-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;online-security-410-lime-cases&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Online Security (4/10 LIME Cases)&lt;/h4&gt;
&lt;p&gt;Customers that did not sign up for online security were more likely to leave while customers with no internet service or online security were less likely to leave. &lt;strong&gt;Opportunity: Promote online security and other packages that increase retention rates.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/figure-html/unnamed-chunk-50-1.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;next-steps-business-science-universitydomain-knowledge&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 Next Steps: Business Science University(Domain knowledge)&lt;/h2&gt;
&lt;p&gt;We’ve just scratched the surface with the solution to this problem, but unfortunately there’s only so much ground we can cover in an article. Here are a few next steps that I’m pleased to announce will be covered in a &lt;a href=&#34;https://university.business-science.io/&#34;&gt;&lt;strong&gt;Business Science University&lt;/strong&gt;&lt;/a&gt; course coming in 2018!&lt;/p&gt;
&lt;div id=&#34;customer-lifetime-value&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Customer Lifetime Value&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Your organization needs to see the financial benefit so always tie your analysis to sales, profitability or ROI.&lt;/strong&gt; &lt;a href=&#34;https://en.wikipedia.org/wiki/Customer_lifetime_value&#34;&gt;Customer Lifetime Value (&lt;em&gt;CLV&lt;/em&gt;)&lt;/a&gt; is a methodology that ties the business profitability to the retention rate. While we did not implement the CLV methodology herein, a full customer churn analysis would tie the churn to an classification cutoff (threshold) optimization to maximize the CLV with the predictive ANN model.&lt;/p&gt;
&lt;p&gt;The simplified CLV model is:&lt;/p&gt;
&lt;p&gt;CLV=GC∗11+d−rCLV=GC∗11+d−r&lt;/p&gt;
&lt;p&gt;Where,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;GC&lt;/em&gt; is the gross contribution per customer&lt;/li&gt;
&lt;li&gt;&lt;em&gt;d&lt;/em&gt; is the annual discount rate&lt;/li&gt;
&lt;li&gt;&lt;em&gt;r&lt;/em&gt; is the retention rate&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;ann-performance-evaluation-and-improvement&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;ANN Performance Evaluation and Improvement&lt;/h3&gt;
&lt;p&gt;The ANN model we built is good, but it could be better. How we understand our model accuracy and improve on it is through the combination of two techniques:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;K-Fold Cross-Fold Validation&lt;/strong&gt;: Used to obtain bounds for accuracy estimates.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hyper Parameter Tuning&lt;/strong&gt;: Used to improve model performance by searching for the best parameters possible.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We need to implement &lt;em&gt;K-Fold Cross Validation&lt;/em&gt; and &lt;em&gt;Hyper Parameter Tuning&lt;/em&gt; if we want a best-in-class model.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;distributing-analytics&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Distributing Analytics&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;It’s critical to communicate data science insights to decision makers in the organization&lt;/strong&gt;. Most decision makers in organizations are not data scientists, but these individuals make important decisions on a day-to-day basis. The Shiny application below includes a &lt;strong&gt;Customer Scorecard&lt;/strong&gt; to monitor customer health (risk of churn).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://jjallaire.shinyapps.io/keras-customer-churn/&#34;&gt;&lt;img src=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/images/shiny-application.png&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;business-science-university&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Business Science University&lt;/h3&gt;
&lt;p&gt;You’re probably wondering why we are going into so much detail on next steps. We are happy to announce a new project for 2018: &lt;a href=&#34;https://university.business-science.io/&#34;&gt;&lt;strong&gt;Business Science University&lt;/strong&gt;&lt;/a&gt;, an online school dedicated to helping data science learners.&lt;/p&gt;
&lt;p&gt;Benefits to learners:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Build your own &lt;strong&gt;online GitHub portfolio&lt;/strong&gt; of data science projects to market your skills to future employers!&lt;/li&gt;
&lt;li&gt;Learn &lt;strong&gt;real-world applications&lt;/strong&gt; in People Analytics (HR), Customer Analytics, Marketing Analytics, Social Media Analytics, Text Mining and Natural Language Processing (NLP), Financial and Time Series Analytics, and more!&lt;/li&gt;
&lt;li&gt;Use &lt;strong&gt;advanced machine learning techniques&lt;/strong&gt; for both high accuracy modeling and explaining features that have an effect on the outcome!&lt;/li&gt;
&lt;li&gt;Create &lt;strong&gt;ML-powered web-applications&lt;/strong&gt; that can be distributed throughout an organization, enabling non-data scientists to benefit from algorithms in a user-friendly way!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Enrollment is open&lt;/strong&gt; so please signup for special perks. Just go to &lt;a href=&#34;https://university.business-science.io/&#34;&gt;&lt;strong&gt;Business Science University&lt;/strong&gt;&lt;/a&gt; and select enroll.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Customer churn is a costly problem&lt;/strong&gt;. The good news is that &lt;strong&gt;machine learning can solve churn problems&lt;/strong&gt;, making the organization more profitable in the process. In this article, we saw how &lt;strong&gt;Deep Learning can be used to predict customer churn&lt;/strong&gt;. We built an ANN model using the new &lt;a href=&#34;https://tensorflow.rstudio.com/keras/&#34;&gt;keras&lt;/a&gt; package that achieved &lt;strong&gt;82% predictive accuracy&lt;/strong&gt; (without tuning)! We used three new machine learning packages to help with preprocessing and measuring performance: &lt;a href=&#34;https://topepo.github.io/recipes&#34;&gt;recipes&lt;/a&gt;, &lt;a href=&#34;https://topepo.github.io/rsample/&#34;&gt;rsample&lt;/a&gt; and &lt;a href=&#34;https://github.com/topepo/yardstick&#34;&gt;yardstick&lt;/a&gt;. Finally we used &lt;a href=&#34;https://github.com/thomasp85/lime&#34;&gt;lime&lt;/a&gt; to explain the Deep Learning model, which &lt;strong&gt;traditionally was impossible&lt;/strong&gt;! We checked the LIME results with a &lt;strong&gt;Correlation Analysis&lt;/strong&gt;, which brought to light other features to investigate. For the IBM Telco dataset, tenure, contract type, internet service type, payment menthod, senior citizen status, and online security status were useful in diagnosing customer churn. We hope you enjoyed this article!&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://blogs.rstudio.com/tensorflow/posts/2018-01-11-keras-customer-churn/&#34;&gt;RStudio AI Blog: Deep Learning With Keras To Predict Customer Churn&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/bennwei/Machine_Learning_projects/blob/6d3814a596bc2f9dee09fffbf45a8e052dcefc09/Churn_analysis_R/churn_analysis.Rmd&#34;&gt;Machine_Learning_projects/churn_analysis.Rmd at 6d3814a596bc2f9dee09fffbf45a8e052dcefc09 · bennwei/Machine_Learning_projects&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;error&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Error&lt;/h2&gt;
&lt;p&gt;“Error in &lt;code&gt;dimnames&amp;lt;-.data.frame&lt;/code&gt;(&lt;code&gt;*tmp*&lt;/code&gt;, value = list(n)) : invalid ‘dimnames’ given for data frame”&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/thomasp85/lime/issues/139&#34;&gt;keras explanations with dataframe data · Issue #139 · thomasp85/lime&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I had the same error, and I managed to solve it by overwriting the correct output of class(model). It seems the newer version uses different name. So, it is fixed for by:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;class(model_keras)
# [1] &amp;quot;keras.engine.sequential.Sequential&amp;quot;
# [2] &amp;quot;keras.engine.training.Model&amp;quot;       
# [3] &amp;quot;keras.engine.network.Network&amp;quot;      
# [4] &amp;quot;keras.engine.base_layer.Layer&amp;quot;     
# [5] &amp;quot;python.builtin.object&amp;quot;    &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then use &lt;code&gt;keras.engine.sequential.Sequential&lt;/code&gt; instead of &lt;code&gt;keras.models.Sequential&lt;/code&gt;, i.e.:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# gives error
model_type.keras.models.Sequential &amp;lt;- function(x, ...) {
  &amp;quot;classification&amp;quot;
}

# works!
model_type.keras.engine.sequential.Sequential &amp;lt;- function(x, ...) {
  &amp;quot;classification&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The same for &lt;code&gt;predict_model()&lt;/code&gt;, use &lt;code&gt;keras.engine.sequential.Sequential&lt;/code&gt;, or what is the output of &lt;code&gt;class(model)&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Integrating Tableau with R for Descriptive, Inferential and Predictive analytics</title>
      <link>/post/integrating-tableau-with-r-for-descriptive-inferential-and-predictive-analytics/</link>
      <pubDate>Sat, 18 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/integrating-tableau-with-r-for-descriptive-inferential-and-predictive-analytics/</guid>
      <description>


&lt;div id=&#34;host-your-html-file&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;host your html file&lt;/h2&gt;
&lt;p&gt;You would need to &lt;strong&gt;host your HTML on a publicly accessible website somewhere&lt;/strong&gt;, then use a webpage part object on your dashboard to embed that page.&lt;/p&gt;
&lt;p&gt;Skip that though, generate a clock to embed here - &lt;a href=&#34;https://community.tableau.com/external-link.jspa?url=https%3A%2F%2Fwww.timeanddate.com%2Fclocks%2Ffree.html&#34;&gt;Free Clocks for Your Website&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;use-flexdashboard&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;use flexdashboard&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://rmarkdown.rstudio.com/flexdashboard/examples.html&#34;&gt;flexdashboard Examples&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://community.tableau.com/thread/241667&#34;&gt;Embed HTML Local in Tableau ( Import JS to Tabl… |Tableau Community Forums&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=ZBROGk0AP8Y&amp;amp;feature=emb_logo&#34;&gt;(28) Integrating Tableau with R for Descriptive, Inferential and Predictive analytics - YouTube&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Recipes for machine learning</title>
      <link>/post/recipes/</link>
      <pubDate>Sat, 18 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/recipes/</guid>
      <description>


&lt;div id=&#34;select-variable&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;select variable&lt;/h2&gt;
&lt;p&gt;When recipe steps are used, there are different approaches that can be used to select which variables or features should be used.&lt;/p&gt;
&lt;p&gt;The three main characteristics of variables that can be queried:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the name of the variable: the syntax as the same as dplyr&lt;/li&gt;
&lt;li&gt;the data type (e.g. numeric or nominal): nominal is character or factor&lt;/li&gt;
&lt;li&gt;the role that was declared by the recipe: can define by user self &lt;code&gt;add_role&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;basic-recipes-ordering-of-steps&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;basic recipes ordering of steps&lt;/h2&gt;
&lt;p&gt;While your project’s needs may vary, here is a suggested order of &lt;em&gt;potential&lt;/em&gt; steps that should work for most problems:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Impute&lt;/li&gt;
&lt;li&gt;Individual transformations for skewness and other issues&lt;/li&gt;
&lt;li&gt;Discretize (if needed and if you have no other choice)&lt;/li&gt;
&lt;li&gt;Create dummy variables&lt;/li&gt;
&lt;li&gt;Create interactions&lt;/li&gt;
&lt;li&gt;Normalization steps (center, scale, range, etc)&lt;/li&gt;
&lt;li&gt;Multivariate transformation (e.g. PCA, spatial sign, etc)&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;step_-function-custom-define&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;step_* function custom define&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;You can define yourself step_function&lt;/li&gt;
&lt;li&gt;Be clear about the specific definition of each step_function&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/tidymodels/recipes&#34;&gt;tidymodels/recipes: A preprocessing engine to generate design matrices&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>ggplot2 Workshop</title>
      <link>/post/ggplot2-workshop/</link>
      <pubDate>Mon, 13 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/ggplot2-workshop/</guid>
      <description>


&lt;div id=&#34;introduction&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;introduction&lt;/h2&gt;
&lt;p&gt;This document contains all the code that is displayed during the workshop. The
document is an RMarkdown document which means that it can be compiled, along
with the code chunks thus executing and capturing the output of the code within
the document. To read more about RMarkdown see the website for the package, as
well as the &lt;a href=&#34;https://rmarkdown.rstudio.com/lesson-1.html&#34;&gt;Get Started&lt;/a&gt; guide.&lt;/p&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Exercises&lt;/h3&gt;
&lt;p&gt;While it is encouraged to follow along in this document as the workshop
progresses and execute the code to see the result, an important part is also to
experiment and play, thus learning how the different settings affect the output.&lt;/p&gt;
&lt;p&gt;The document will contain code chunks with the code examples discussed during
the talk, but it will also contain chunks intended for completing small
exercises. These will use the examples as a starting point and ask you to modify
the code to achieve a given output. Completing these are optional, but highly
recommended, either during or after the workshop.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;dependencies&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;This document comes with a list of required packages.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;datasets&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Datasets&lt;/h3&gt;
&lt;p&gt;We will use an assortment of datasets throughout the document. The purpose is
mostly to showcase different plots, and less on getting some divine insight into
the world. While not necessary we will call &lt;code&gt;data(&amp;lt;dataset&amp;gt;)&lt;/code&gt; before using a new
dataset to indicate the introduction of a new dataset.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;introduction-1&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;We will look at the basic ggplot2 use using the faithful dataset, giving
information on the eruption pattern of the Old Faithful geyser in Yellowstone
National Park.&lt;/p&gt;
&lt;p&gt;If an aesthetic is linked to data it is put into &lt;code&gt;aes()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果数据的颜色是映射到一列数据则放在 &lt;code&gt;aes()&lt;/code&gt; 里面&lt;/p&gt;
&lt;p&gt;If you simple want to set it to a value, put it outside of &lt;code&gt;aes()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Some geoms only need a single mapping and will calculate the rest for you&lt;/p&gt;
&lt;p&gt;单变量 mapping: histogram&lt;/p&gt;
&lt;p&gt;geoms are drawn in the order they are added. The point layer is thus drawn on
top of the density contours in the example below.&lt;/p&gt;
&lt;p&gt;这个有点像 phoshop 中的图层概念, geometry 是一层一层往上堆叠的&lt;/p&gt;
&lt;div id=&#34;exercise&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercise&lt;/h4&gt;
&lt;p&gt;Modify the code below to make the points larger squares and slightly transparent.
See &lt;code&gt;?geom_point&lt;/code&gt; for more information on the point layer.&lt;/p&gt;
&lt;p&gt;Hint 1: transparency is controlled with &lt;code&gt;alpha&lt;/code&gt;, and shape with &lt;code&gt;shape&lt;/code&gt;
Hint 2: rememberthe difference between mapping and setting aesthetics&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Colour the two distributions in the histogram with different colours&lt;/p&gt;
&lt;p&gt;Hint 1: For polygons you can map two different colour-like aesthetics: &lt;code&gt;colour&lt;/code&gt;
(the colour of the stroke) and &lt;code&gt;fill&lt;/code&gt; (the fill colour)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Colour the distributions in the histogram by whether &lt;code&gt;waiting&lt;/code&gt; is above or below
&lt;code&gt;60&lt;/code&gt;. What happens?&lt;/p&gt;
&lt;p&gt;Change the plot above by setting &lt;code&gt;position = &#39;dodge&#39;&lt;/code&gt; in &lt;code&gt;geom_histogram()&lt;/code&gt;
(while keeping the colouring by &lt;code&gt;waiting&lt;/code&gt;). What do &lt;code&gt;position&lt;/code&gt; control?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Add a line that separates the two point distributions. See &lt;code&gt;?geom_abline&lt;/code&gt; for
how to draw straight lines from a slope and intercept.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;stat&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Stat&lt;/h3&gt;
&lt;p&gt;We will use the &lt;code&gt;mpg&lt;/code&gt; dataset giving information about fuel economy on different
car models.&lt;/p&gt;
&lt;p&gt;&lt;font color=&#34;darkred&#34;&gt; &lt;strong&gt;Every geom has a stat&lt;/strong&gt; &lt;/font&gt;. This is why new data (&lt;code&gt;count&lt;/code&gt;) can appear when using
&lt;code&gt;geom_bar()&lt;/code&gt;., the default &lt;code&gt;stat&lt;/code&gt; for &lt;code&gt;geom_bar&lt;/code&gt; is &lt;code&gt;count&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The stat can be overwritten. If we have precomputed count we don’t want any
additional computations to perform and we use the &lt;code&gt;identity&lt;/code&gt; stat to leave the
data alone&lt;/p&gt;
&lt;p&gt;Most obvious geom+stat combinations have a dedicated geom constructor. The one
above is available directly as &lt;code&gt;geom_col()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Values calculated by the stat is available with the &lt;code&gt;after_stat()&lt;/code&gt; function
inside &lt;code&gt;aes()&lt;/code&gt;. You can do all sorts of computations inside that.&lt;/p&gt;
&lt;p&gt;Many stats provide multiple variations of the same calculation, and provides a
default (here, &lt;code&gt;density&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;While the others must be used with the &lt;code&gt;after_stat()&lt;/code&gt; function&lt;/p&gt;
&lt;div id=&#34;exercises-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;p&gt;While most people use &lt;code&gt;geom_*()&lt;/code&gt; when adding layers, it is just as valid to add
a &lt;code&gt;stat_*()&lt;/code&gt; with an attached geom.&lt;/p&gt;
&lt;p&gt;大多数人使用 &lt;code&gt;geom&lt;/code&gt; 时, 使用了默认的 &lt;code&gt;stat&lt;/code&gt; , 只是不知道而已&lt;/p&gt;
&lt;p&gt;Look at &lt;code&gt;geom_bar()&lt;/code&gt; and figure out which stat it uses as default. Then modify the code to use the stat directly instead
(i.e. adding &lt;code&gt;stat_*()&lt;/code&gt; instead of &lt;code&gt;geom_bar()&lt;/code&gt;)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Use &lt;code&gt;stat_summary()&lt;/code&gt; to add a red dot at the mean &lt;code&gt;hwy&lt;/code&gt; for each group&lt;/p&gt;
&lt;p&gt;stat_summary is like dplyr::summarise&lt;/p&gt;
&lt;p&gt;fun 作用于 &lt;code&gt;aes&lt;/code&gt; 中的 y, x 类似于 &lt;code&gt;group_by&lt;/code&gt; 中的 factor variable.&lt;/p&gt;
&lt;p&gt;Hint: You will need to change the default geom of &lt;code&gt;stat_summary()&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;scales&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Scales&lt;/h3&gt;
&lt;p&gt;Scales define how the mapping you specify inside &lt;code&gt;aes()&lt;/code&gt; should happen. All
mappings have an associated scale even if not specified.&lt;/p&gt;
&lt;p&gt;take control by adding one explicitly. All scales follow the same naming
conventions.&lt;/p&gt;
&lt;p&gt;scale_mapping_* : scale_x, y, colour, fill etc.&lt;/p&gt;
&lt;p&gt;Positional mappings (x and y) also have associated scales.&lt;/p&gt;
&lt;div id=&#34;exercises-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;p&gt;Use &lt;code&gt;RColorBrewer::display.brewer.all()&lt;/code&gt; to see all the different palettes from
Color Brewer and pick your favourite. Modify the code below to use it&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Modify the code below to create a bubble chart (scatterplot with size mapped to
a continuous variable) showing &lt;code&gt;cyl&lt;/code&gt; with size. Make sure that only the present
amount of cylinders (4, 5, 6, and 8) are present in the legend.&lt;/p&gt;
&lt;p&gt;Hint: The &lt;code&gt;breaks&lt;/code&gt; argument in the scale is used to control which values are
present in the legend.&lt;/p&gt;
&lt;p&gt;Explore the different types of size scales available in ggplot2. Is the default
the most appropriate here?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Modify the code below so that colour is no longer mapped to the discrete &lt;code&gt;class&lt;/code&gt;
variable, but to the continuous &lt;code&gt;cty&lt;/code&gt; variable. What happens to the guide?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;The type of guide can be controlled with the &lt;code&gt;guide&lt;/code&gt; argument in the scale, or
with the &lt;code&gt;guides()&lt;/code&gt; function. Continuous colours have a gradient colour bar by
default, but setting it to &lt;code&gt;legend&lt;/code&gt; will turn it back to the standard look. What
happens when multiple aesthetics are mapped to the same variable and uses the
guide type?&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;facets&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Facets&lt;/h3&gt;
&lt;p&gt;The facet defines how data is split among panels. The default facet
(&lt;code&gt;facet_null()&lt;/code&gt;) puts all the data in a single panel, while &lt;code&gt;facet_wrap()&lt;/code&gt; and
&lt;code&gt;facet_grid()&lt;/code&gt; allows you to specify different types of small multiples&lt;/p&gt;
&lt;div id=&#34;exercises-3&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;p&gt;One of the great things about facets is that &lt;font color=&#34;darkred&#34;&gt; &lt;strong&gt;they share the axes between the different panels&lt;/strong&gt;.&lt;/font&gt; Sometimes this is undiserable though, and &lt;font color=&#34;darkred&#34;&gt; &lt;strong&gt;the behaviour can be changed with the &lt;code&gt;scales&lt;/code&gt; argument&lt;/strong&gt;&lt;/font&gt; .
Experiment with the different possible settings in the plot below:&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Usually the space occupied by each panel is equal. This can create problems when
different scales are used. Modify the code below so that the y scale differs
between the panels in the plot. What happens?&lt;/p&gt;
&lt;p&gt;Use the &lt;code&gt;space&lt;/code&gt; argument in &lt;code&gt;facet_grid()&lt;/code&gt; to change the plot above so each bar
has the same width again.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Facets can be based on multiple variables by adding them together. Try to
recreate the same panels present in the plot below by using &lt;code&gt;facet_wrap()&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;coordinates&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Coordinates&lt;/h3&gt;
&lt;p&gt;The coordinate system is the fabric you draw your layers on in the end. The
default `coord_cartesion provides the standard rectangular x-y coordinate
system. Changing the coordinate system can have dramatic effects&lt;/p&gt;
&lt;p&gt;You can zoom both on the scale…&lt;/p&gt;
&lt;p&gt;and in the coord. You usually want the latter as it avoids changing the plottet
data&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Setting limits on the coordinate system will zoom the plot (like you’re looking at it with a &lt;font color=&#34;darkred&#34;&gt; &lt;strong&gt;magnifying glass&lt;/strong&gt;&lt;/font&gt; ), and will not change the underlying data like setting limits on a scale will.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id=&#34;exercises-4&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;p&gt;In the same way as limits can be set in both the positional scale and the coord,
so can transformations, using &lt;code&gt;coord_trans()&lt;/code&gt;. Modify the code below to apply a
log transformation to the y axis; first using &lt;code&gt;scale_y_continuous()&lt;/code&gt;,
and then using &lt;code&gt;coord_trans()&lt;/code&gt;. Compare the results — how do they differ?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Coordinate systems are particularly important in cartography. While we will not
spend a lot of time with it in this workshop, spatial plotting is well supported
in ggplot2 with &lt;code&gt;geom_sf()&lt;/code&gt; and &lt;code&gt;coord_sf()&lt;/code&gt; (which interfaces with the sf
package). The code below produces a world map. Try changing the &lt;code&gt;crs&lt;/code&gt; argument
in &lt;code&gt;coord_sf()&lt;/code&gt; to be &lt;code&gt;&#39;+proj=robin&#39;&lt;/code&gt; (This means using the Robinson projection).&lt;/p&gt;
&lt;p&gt;Maps are a huge area in data visualisation and simply too big to cover in this
workshop. If you want to explore further I advice you to explore the
&lt;a href=&#34;https://www.r-spatial.org&#34;&gt;r-spatial wbsite&lt;/a&gt; as well as the website for the
&lt;a href=&#34;https://r-spatial.github.io/sf&#34;&gt;sf package&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;theme&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Theme&lt;/h3&gt;
&lt;p&gt;Theming defines the feel and look of your final visualisation and is something
you will normally defer to the final polishing of the plot. It is very easy to
change looks with a prebuild theme&lt;/p&gt;
&lt;p&gt;Further adjustments can be done in the end to get exactly the look you want&lt;/p&gt;
&lt;div id=&#34;exercises-5&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;p&gt;Themes can be overwhelming, especially as you often try to optimise for beauty
while you learn. To remove the last part of the equation, the exercise is to
take the plot given below and make it as hideous as possible using the theme
function. Go absolutely crazy, but take note of the effect as you change
different settings.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;extensions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 Extensions&lt;/h2&gt;
&lt;p&gt;While ggplot2 comes with a lot of batteries included, the extension ecosystem
provides priceless additinal features&lt;/p&gt;
&lt;div id=&#34;plot-composition&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Plot composition&lt;/h3&gt;
&lt;p&gt;We start by creating 3 separate plots&lt;/p&gt;
&lt;p&gt;Combining them with patchwork is a breeze using the different operators&lt;/p&gt;
&lt;div id=&#34;excercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Excercises&lt;/h4&gt;
&lt;p&gt;Patchwork will assign the same amount of space to each plot by default, but this
can be controlled with the &lt;code&gt;widths&lt;/code&gt; and &lt;code&gt;heights&lt;/code&gt; argument in &lt;code&gt;plot_layout()&lt;/code&gt;.
This can take a numeric vector giving their relative sizes (e.g. &lt;code&gt;c(2, 1)&lt;/code&gt; will
make the first plot twice as big as the second). Modify the code below so that
the middle plot takes up half of the total space:&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;The &lt;code&gt;&amp;amp;&lt;/code&gt; operator can be used with any type of ggplot2 object, not just themes.
Modify the code below so the two plots share the same y-axis (same limits)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Patchwork contains many features for fine tuning the layout and annotation. Very
complex layouts can be obtained by providing a design specification to the
&lt;code&gt;design&lt;/code&gt; argument in &lt;code&gt;plot_layout()&lt;/code&gt;. The design can be defined as a textual
representation of the cells. Use the layout given below. How should the textual
representation be undertood.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;animation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Animation&lt;/h3&gt;
&lt;p&gt;ggplot2 is usually focused on static plots, but gganimate extends the API and
grammar to describe animations. As such it feels like a very natural extension
of using ggplot2&lt;/p&gt;
&lt;p&gt;There are many different transitions that control how data is interpreted for
animation, as well as a range of other animation specific features&lt;/p&gt;
&lt;div id=&#34;exercises-6&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;p&gt;The animation below will animate between points showing cars with different
cylinders.&lt;/p&gt;
&lt;p&gt;gganimate uses the &lt;code&gt;group&lt;/code&gt; aesthetic to match observations between states. By
default the group aesthetic is set to the same value, so observations are
matched by their position (first row of 4 cyl is matched to first row of 5 cyl
etc.). This is clearly wrong here (why?). Add a mapping to the &lt;code&gt;group&lt;/code&gt; aesthetic
to ensure that points do not move between the different states.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;In the presence of discrete aesthetic mappings (&lt;code&gt;colour&lt;/code&gt; below), the group is
deduced if not given. The default behaviour of objects that appear and disappear
during the animation is to simply pop in and out of existance. &lt;code&gt;enter_*()&lt;/code&gt; and
&lt;code&gt;exit_*()&lt;/code&gt; functions can be used to control this behaviour. Experiment with the
different enter and exit functions provided by gganimate below. What happens if
you add multiple enter or exit functions to the same animation?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;In the animation below (as in all the other animations) the changes happens at
constant speed. How values change during an animation is called easing and can
be controlled using the &lt;code&gt;ease_aes()&lt;/code&gt; function. Read the documentation for
&lt;code&gt;ease_aes()&lt;/code&gt; and experiment with different easings in the animation.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;annotation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Annotation&lt;/h3&gt;
&lt;p&gt;Text is a huge part of storytelling with your visualisation. Historically,
textual annotations has not been the best part of ggplot2 but new extensions
make up for that.&lt;/p&gt;
&lt;p&gt;Standard geom_text will often result in overlaping labels&lt;/p&gt;
&lt;p&gt;ggrepel takes care of that&lt;/p&gt;
&lt;p&gt;If you want to highlight certain parts of your data and describe it, the
&lt;code&gt;geom_mark_*()&lt;/code&gt; family of geoms have your back&lt;/p&gt;
&lt;div id=&#34;exercises-7&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;p&gt;ggrepel has a tonne of settings for controlling how text labels move. Often,
though, the most effective is simply to not label everything. There are two
strategies for that: Either only use a subset of the data for the repel layer,
or setting the label to &lt;code&gt;&#34;&#34;&lt;/code&gt; for those you don’t want to plot. Try both in the
plot below where you only label 10 random points.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Explore the documentation for &lt;code&gt;geom_text_repel&lt;/code&gt;. Find a way to ensure that the
labels in the plot below only repels in the vertical direction&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;ggforce comes with 4 different types of mark geoms. Try them all out in the code
below:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;networks&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Networks&lt;/h3&gt;
&lt;p&gt;ggplot2 has been focused on tabular data. Network data in any shape and form is
handled by ggraph&lt;/p&gt;
&lt;p&gt;dendrograms are just a specific type of network&lt;/p&gt;
&lt;div id=&#34;exercies&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercies&lt;/h4&gt;
&lt;p&gt;Most network plots are defined by a layout algorithm, which takes the network
structure and calculate a position for each node. The layout algorithm is
global and set in the &lt;code&gt;ggraph()&lt;/code&gt;. The default &lt;code&gt;auto&lt;/code&gt; layout will inspect the
network object and try to choose a sensible layout for it (e.g. dendrogram for a
hierarchical clustering as above). There is, however no optimal layout and it is
often a good idea to try out different layouts. Try out different layouts in the
graph below. See the &lt;a href=&#34;https://ggraph.data-imaginist.com/reference/index.html&#34;&gt;the website&lt;/a&gt;
for an overview of the different layouts.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;There are many different ways to draw edges. Try to use &lt;code&gt;geom_edge_parallel()&lt;/code&gt;
in the graph below to show the presence of multiple edges&lt;/p&gt;
&lt;p&gt;Faceting works in ggraph as it does in ggplot2, but you must choose to facet by
either nodes or edges. Modify the graph below to facet the edges by the &lt;code&gt;year&lt;/code&gt;
variable (using &lt;code&gt;facet_edges()&lt;/code&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;looks&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Looks&lt;/h3&gt;
&lt;p&gt;Many people have already desgned beautiful (and horrible) themes for you. Use
them as a base&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;drawing-anything&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Drawing anything&lt;/h2&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>sklearn classification </title>
      <link>/post/sklearn-classification/</link>
      <pubDate>Mon, 06 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/sklearn-classification/</guid>
      <description>


&lt;div id=&#34;set-environment&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;set environment&lt;/h1&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/dformoso/sklearn-classification&#34;&gt;dformoso/sklearn-classification: Data Science Notebook on a Classification Task, using sklearn and Tensorflow.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/dformoso/sklearn-classification&#34;&gt;dformoso/sklearn-classification: Data Science Notebook on a Classification Task, using sklearn and Tensorflow.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Use selenium in python</title>
      <link>/post/use-selenium-in-python/</link>
      <pubDate>Sun, 05 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/use-selenium-in-python/</guid>
      <description>


&lt;!-- --- --&gt;
&lt;!-- title: &#34;hello world&#34; --&gt;
&lt;!-- description: | --&gt;
&lt;!--   Taking the `radix` R package for a test spin with `Scikit Learn`! --&gt;
&lt;!-- author: --&gt;
&lt;!--   - name: Jixing Liu --&gt;
&lt;!--     url: https://jixing.netlify.com/ --&gt;
&lt;!--     affiliation: DeepDrug --&gt;
&lt;!--     affiliation_url: http://www.deepdrug.cn/en/ --&gt;
&lt;!-- date: &#34;2020-04-06&#34; --&gt;
&lt;!-- #bibliography: biblio.bib   --&gt;
&lt;!-- output: --&gt;
&lt;!--   radix::radix_article: --&gt;
&lt;!--     toc: true --&gt;
&lt;!--     toc_depth: 3 --&gt;
&lt;!--     number_sections: true --&gt;
&lt;!--     self_contained: true --&gt;
&lt;!-- --- --&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(reticulate)
reticulate::use_python(&amp;quot;/Users/zero/anaconda3/envs/reticulate/bin/python3&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>How To Create Bar Race Animation Charts In R</title>
      <link>/post/how-to-create-bar-race-animation-charts-in-r/</link>
      <pubDate>Wed, 01 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/how-to-create-bar-race-animation-charts-in-r/</guid>
      <description>


&lt;div id=&#34;load-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;load data&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;packages&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Packages&lt;/h1&gt;
&lt;p&gt;The packages that are required to build animated plots in R are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ggplot2&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gganimate.com/index.html&#34;&gt;gganimate&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While those above two are the essential packages, We have also used the entire &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;janitor&lt;/code&gt; and &lt;code&gt;scales&lt;/code&gt; in this project for Data Manipulation, Cleaning and Formatting.&lt;/p&gt;
&lt;div id=&#34;data-preprocessing&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;data preprocessing&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gdp &amp;lt;- gdp_data[1:217,]

gdp_tidy &amp;lt;- gdp %&amp;gt;%
  mutate_at(vars(contains(&amp;quot;YR&amp;quot;)), as.numeric) %&amp;gt;%
  #gather(year, value, 3:13) %&amp;gt;%
  pivot_longer(cols = contains(&amp;quot;YR&amp;quot;),
               names_to = &amp;quot;year&amp;quot;,
               values_to = &amp;quot;value&amp;quot;) %&amp;gt;%
  janitor::clean_names(.) %&amp;gt;%
  mutate(year = as.numeric(stringr::str_sub(year, 1, 4)))

# write_csv(gdp_tidy,&amp;quot;./data/gdp_tidy.csv&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;animated-plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Animated Plot&lt;/h2&gt;
&lt;p&gt;An Animated Plot building process involves two primary sections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Building the entire &lt;strong&gt;set of actual static plots&lt;/strong&gt; using ggplot2&lt;/li&gt;
&lt;li&gt;Animating the static plots with desired parameters using &lt;strong&gt;gganimate&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The final step after these two primary steps is to render the animation in the desired file format, like GIF or MP4 (Video).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;create-label-columns&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;create label columns&lt;/h2&gt;
&lt;p&gt;create a few more columns that will help us display labels in the plot.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gdp_formatted &amp;lt;- gdp_tidy %&amp;gt;%
  group_by(year) %&amp;gt;% # The * 1 makes it possible to have non-integer ranks while sliding
  mutate(rank = rank(-value), # -100 最小, 排第一
         Value_rel = value/value[rank==1],
         Value_lbl = paste0(&amp;quot; &amp;quot;,round(value/1e9))) %&amp;gt;%
  group_by(country_name) %&amp;gt;%
  filter(rank &amp;lt;=10) %&amp;gt;%
  ungroup() %&amp;gt;% 
  filter(!is.na(value)) %&amp;gt;% 
  select(-series_code, -series_name)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;staticplot  &amp;lt;- 
  gdp_formatted %&amp;gt;%
  ggplot(aes(
    rank,
    group = country_name,
    fill = as.factor(country_name),
    color = as.factor(country_name)
  )) +
  geom_tile(aes(y = value/2,
                height = value,
                width = 0.9), 
            alpha = 0.8, color = NA) +
  geom_text(aes(y = 0, label = paste(country_name, &amp;quot; &amp;quot;)), vjust = 0.2, hjust = 1) +
  geom_text(aes(y=value,label = Value_lbl, hjust=0)) +
  coord_flip(clip = &amp;quot;off&amp;quot;, expand = FALSE) +
  scale_y_continuous(labels = scales::comma) +
  scale_x_reverse() +
  guides(color = FALSE, fill = FALSE) +
  theme(axis.line=element_blank(),
        axis.text.x=element_blank(),
        axis.text.y=element_blank(),
        axis.ticks=element_blank(),
        axis.title.x=element_blank(),
         axis.title.y=element_blank(),
        legend.position=&amp;quot;none&amp;quot;,
        panel.background=element_blank(),
        panel.border=element_blank(),
        panel.grid.major=element_blank(),
        panel.grid.minor=element_blank(),
        panel.grid.major.x = element_line( size=.1, color=&amp;quot;grey&amp;quot; ),
        panel.grid.minor.x = element_line( size=.1, color=&amp;quot;grey&amp;quot; ),
        plot.title=element_text(size=25, hjust=0.5, face=&amp;quot;bold&amp;quot;, colour=&amp;quot;grey&amp;quot;, vjust=-1),
        plot.subtitle=element_text(size=18, hjust=0.5, face=&amp;quot;italic&amp;quot;, color=&amp;quot;grey&amp;quot;),
        plot.caption =element_text(size=8, hjust=0.5, face=&amp;quot;italic&amp;quot;, color=&amp;quot;grey&amp;quot;),
        plot.background=element_blank(),
       plot.margin = margin(2,2, 2, 4, &amp;quot;cm&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;animation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Animation&lt;/h2&gt;
&lt;p&gt;The key function here is transition_states() which stitches the individual static plots together by year. view_follow() is used to give a view as if the background lines (gridlines) are moving as the animation is progressing.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;anim  &amp;lt;-
  staticplot +
  transition_states(year, transition_length = 4, state_length = 2) +
  view_follow(fixed_x = TRUE)  +
  labs(title = &amp;#39;GDP per Year : {closest_state}&amp;#39;,
       subtitle  =  &amp;quot;Top 10 Countries&amp;quot;,
       caption  = &amp;quot;GDP in Billions USD | Data Source: World Bank Data&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;rendering&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Rendering&lt;/h2&gt;
&lt;p&gt;With the animation being built (ready) and saved in the object anim , It’s time for us to render the animation using animate() function. The renderer used in the animate() differs based on the type of output file required.&lt;/p&gt;
&lt;p&gt;For GIF File Format:&lt;/p&gt;
&lt;div id=&#34;for-gif&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;For GIF:&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;animate(anim, 200, fps = 20,  width = 1200, height = 1000,
        renderer = gifski_renderer(here(&amp;quot;figure/gganim.gif&amp;quot;)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-04-01-how-to-create-bar-race-animation-charts-in-r_files/figure-html/unnamed-chunk-6-1.gif&#34; /&gt;&lt;!-- --&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;for-mp4&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;For MP4&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# animate(anim, 200, fps = 20,  width = 1200, height = 1000,
#         renderer = ffmpeg_renderer()) -&amp;gt; for_mp4anim_save(&amp;quot;animation.mp4&amp;quot;, animation = for_mp4 )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/Users/zero/myrepo/lifelong_learning/figure/gganim.gif&#34; width=&#34;30%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.programmingwithr.com/how-to-create-animated-bar-race-charts-in-r/&#34;&gt;How to create Bar Race Animation Charts in R · Programming with R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Tidymodels Machine Learning Ecosystem</title>
      <link>/post/tidymodels-machine-learning-ecosystem/</link>
      <pubDate>Tue, 31 Mar 2020 00:00:00 +0000</pubDate>
      <guid>/post/tidymodels-machine-learning-ecosystem/</guid>
      <description>


&lt;div id=&#34;introduction&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Introduction&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;{tidyverse} ecosystem that has become the defacto standard for data importation, manipulation, and visualization in R.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;My graduate training left me with a deep understanding of linear models and design-based causal inference, but with little or no training in other types of predictive modeling, unsupervised machine learning, version control, or putting models into production.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;I chose the Applied Machine Learning workshop in order to fill the gap in my knowledge about machine learning models beyond OLS and logistic regression.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Max Kuhn and Davis Vaughn were the two workshop leaders and I knew they were in the process of developing the {tidymodels} ecosystem, which stands to be a successor to their popular {caret} package and promises fill the modeling gap in the {tidyverse} ecosystem.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div id=&#34;load-data&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;load data&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidymodels)
library(AmesHousing)

data &amp;lt;- make_ames()

data %&amp;gt;% 
  head() %&amp;gt;% 
  str()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Classes &amp;#39;tbl_df&amp;#39;, &amp;#39;tbl&amp;#39; and &amp;#39;data.frame&amp;#39;:    6 obs. of  81 variables:
##  $ MS_SubClass       : Factor w/ 16 levels &amp;quot;One_Story_1946_and_Newer_All_Styles&amp;quot;,..: 1 1 1 1 6 6
##  $ MS_Zoning         : Factor w/ 7 levels &amp;quot;Floating_Village_Residential&amp;quot;,..: 3 2 3 3 3 3
##  $ Lot_Frontage      : num  141 80 81 93 74 78
##  $ Lot_Area          : int  31770 11622 14267 11160 13830 9978
##  $ Street            : Factor w/ 2 levels &amp;quot;Grvl&amp;quot;,&amp;quot;Pave&amp;quot;: 2 2 2 2 2 2
##  $ Alley             : Factor w/ 3 levels &amp;quot;Gravel&amp;quot;,&amp;quot;No_Alley_Access&amp;quot;,..: 2 2 2 2 2 2
##  $ Lot_Shape         : Factor w/ 4 levels &amp;quot;Regular&amp;quot;,&amp;quot;Slightly_Irregular&amp;quot;,..: 2 1 2 1 2 2
##  $ Land_Contour      : Factor w/ 4 levels &amp;quot;Bnk&amp;quot;,&amp;quot;HLS&amp;quot;,&amp;quot;Low&amp;quot;,..: 4 4 4 4 4 4
##  $ Utilities         : Factor w/ 3 levels &amp;quot;AllPub&amp;quot;,&amp;quot;NoSeWa&amp;quot;,..: 1 1 1 1 1 1
##  $ Lot_Config        : Factor w/ 5 levels &amp;quot;Corner&amp;quot;,&amp;quot;CulDSac&amp;quot;,..: 1 5 1 1 5 5
##  $ Land_Slope        : Factor w/ 3 levels &amp;quot;Gtl&amp;quot;,&amp;quot;Mod&amp;quot;,&amp;quot;Sev&amp;quot;: 1 1 1 1 1 1
##  $ Neighborhood      : Factor w/ 28 levels &amp;quot;North_Ames&amp;quot;,&amp;quot;College_Creek&amp;quot;,..: 1 1 1 1 7 7
##  $ Condition_1       : Factor w/ 9 levels &amp;quot;Artery&amp;quot;,&amp;quot;Feedr&amp;quot;,..: 3 2 3 3 3 3
##  $ Condition_2       : Factor w/ 8 levels &amp;quot;Artery&amp;quot;,&amp;quot;Feedr&amp;quot;,..: 3 3 3 3 3 3
##  $ Bldg_Type         : Factor w/ 5 levels &amp;quot;OneFam&amp;quot;,&amp;quot;TwoFmCon&amp;quot;,..: 1 1 1 1 1 1
##  $ House_Style       : Factor w/ 8 levels &amp;quot;One_and_Half_Fin&amp;quot;,..: 3 3 3 3 8 8
##  $ Overall_Qual      : Factor w/ 10 levels &amp;quot;Very_Poor&amp;quot;,&amp;quot;Poor&amp;quot;,..: 6 5 6 7 5 6
##  $ Overall_Cond      : Factor w/ 10 levels &amp;quot;Very_Poor&amp;quot;,&amp;quot;Poor&amp;quot;,..: 5 6 6 5 5 6
##  $ Year_Built        : int  1960 1961 1958 1968 1997 1998
##  $ Year_Remod_Add    : int  1960 1961 1958 1968 1998 1998
##  $ Roof_Style        : Factor w/ 6 levels &amp;quot;Flat&amp;quot;,&amp;quot;Gable&amp;quot;,..: 4 2 4 4 2 2
##  $ Roof_Matl         : Factor w/ 8 levels &amp;quot;ClyTile&amp;quot;,&amp;quot;CompShg&amp;quot;,..: 2 2 2 2 2 2
##  $ Exterior_1st      : Factor w/ 16 levels &amp;quot;AsbShng&amp;quot;,&amp;quot;AsphShn&amp;quot;,..: 4 14 15 4 14 14
##  $ Exterior_2nd      : Factor w/ 17 levels &amp;quot;AsbShng&amp;quot;,&amp;quot;AsphShn&amp;quot;,..: 11 15 16 4 15 15
##  $ Mas_Vnr_Type      : Factor w/ 5 levels &amp;quot;BrkCmn&amp;quot;,&amp;quot;BrkFace&amp;quot;,..: 5 4 2 4 4 2
##  $ Mas_Vnr_Area      : num  112 0 108 0 0 20
##  $ Exter_Qual        : Factor w/ 4 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 4 4 4 3 4 4
##  $ Exter_Cond        : Factor w/ 5 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 5 5 5 5 5 5
##  $ Foundation        : Factor w/ 6 levels &amp;quot;BrkTil&amp;quot;,&amp;quot;CBlock&amp;quot;,..: 2 2 2 2 3 3
##  $ Bsmt_Qual         : Factor w/ 6 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 6 6 6 6 3 6
##  $ Bsmt_Cond         : Factor w/ 6 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 3 6 6 6 6 6
##  $ Bsmt_Exposure     : Factor w/ 5 levels &amp;quot;Av&amp;quot;,&amp;quot;Gd&amp;quot;,&amp;quot;Mn&amp;quot;,..: 2 4 4 4 4 4
##  $ BsmtFin_Type_1    : Factor w/ 7 levels &amp;quot;ALQ&amp;quot;,&amp;quot;BLQ&amp;quot;,&amp;quot;GLQ&amp;quot;,..: 2 6 1 1 3 3
##  $ BsmtFin_SF_1      : num  2 6 1 1 3 3
##  $ BsmtFin_Type_2    : Factor w/ 7 levels &amp;quot;ALQ&amp;quot;,&amp;quot;BLQ&amp;quot;,&amp;quot;GLQ&amp;quot;,..: 7 4 7 7 7 7
##  $ BsmtFin_SF_2      : num  0 144 0 0 0 0
##  $ Bsmt_Unf_SF       : num  441 270 406 1045 137 ...
##  $ Total_Bsmt_SF     : num  1080 882 1329 2110 928 ...
##  $ Heating           : Factor w/ 6 levels &amp;quot;Floor&amp;quot;,&amp;quot;GasA&amp;quot;,..: 2 2 2 2 2 2
##  $ Heating_QC        : Factor w/ 5 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 2 5 5 1 3 1
##  $ Central_Air       : Factor w/ 2 levels &amp;quot;N&amp;quot;,&amp;quot;Y&amp;quot;: 2 2 2 2 2 2
##  $ Electrical        : Factor w/ 6 levels &amp;quot;FuseA&amp;quot;,&amp;quot;FuseF&amp;quot;,..: 5 5 5 5 5 5
##  $ First_Flr_SF      : int  1656 896 1329 2110 928 926
##  $ Second_Flr_SF     : int  0 0 0 0 701 678
##  $ Low_Qual_Fin_SF   : int  0 0 0 0 0 0
##  $ Gr_Liv_Area       : int  1656 896 1329 2110 1629 1604
##  $ Bsmt_Full_Bath    : num  1 0 0 1 0 0
##  $ Bsmt_Half_Bath    : num  0 0 0 0 0 0
##  $ Full_Bath         : int  1 1 1 2 2 2
##  $ Half_Bath         : int  0 0 1 1 1 1
##  $ Bedroom_AbvGr     : int  3 2 3 3 3 3
##  $ Kitchen_AbvGr     : int  1 1 1 1 1 1
##  $ Kitchen_Qual      : Factor w/ 5 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 5 5 3 1 5 3
##  $ TotRms_AbvGrd     : int  7 5 6 8 6 7
##  $ Functional        : Factor w/ 8 levels &amp;quot;Maj1&amp;quot;,&amp;quot;Maj2&amp;quot;,..: 8 8 8 8 8 8
##  $ Fireplaces        : int  2 0 0 2 1 1
##  $ Fireplace_Qu      : Factor w/ 6 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 3 4 4 6 6 3
##  $ Garage_Type       : Factor w/ 7 levels &amp;quot;Attchd&amp;quot;,&amp;quot;Basment&amp;quot;,..: 1 1 1 1 1 1
##  $ Garage_Finish     : Factor w/ 4 levels &amp;quot;Fin&amp;quot;,&amp;quot;No_Garage&amp;quot;,..: 1 4 4 1 1 1
##  $ Garage_Cars       : num  2 1 1 2 2 2
##  $ Garage_Area       : num  528 730 312 522 482 470
##  $ Garage_Qual       : Factor w/ 6 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 6 6 6 6 6 6
##  $ Garage_Cond       : Factor w/ 6 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 6 6 6 6 6 6
##  $ Paved_Drive       : Factor w/ 3 levels &amp;quot;Dirt_Gravel&amp;quot;,..: 2 3 3 3 3 3
##  $ Wood_Deck_SF      : int  210 140 393 0 212 360
##  $ Open_Porch_SF     : int  62 0 36 0 34 36
##  $ Enclosed_Porch    : int  0 0 0 0 0 0
##  $ Three_season_porch: int  0 0 0 0 0 0
##  $ Screen_Porch      : int  0 120 0 0 0 0
##  $ Pool_Area         : int  0 0 0 0 0 0
##  $ Pool_QC           : Factor w/ 5 levels &amp;quot;Excellent&amp;quot;,&amp;quot;Fair&amp;quot;,..: 4 4 4 4 4 4
##  $ Fence             : Factor w/ 5 levels &amp;quot;Good_Privacy&amp;quot;,..: 5 3 5 5 3 5
##  $ Misc_Feature      : Factor w/ 6 levels &amp;quot;Elev&amp;quot;,&amp;quot;Gar2&amp;quot;,..: 3 3 2 3 3 3
##  $ Misc_Val          : int  0 0 12500 0 0 0
##  $ Mo_Sold           : int  5 6 6 4 3 6
##  $ Year_Sold         : int  2010 2010 2010 2010 2010 2010
##  $ Sale_Type         : Factor w/ 10 levels &amp;quot;COD&amp;quot;,&amp;quot;Con&amp;quot;,&amp;quot;ConLD&amp;quot;,..: 10 10 10 10 10 10
##  $ Sale_Condition    : Factor w/ 6 levels &amp;quot;Abnorml&amp;quot;,&amp;quot;AdjLand&amp;quot;,..: 5 5 5 5 5 5
##  $ Sale_Price        : int  215000 105000 172000 244000 189900 195500
##  $ Longitude         : num  -93.6 -93.6 -93.6 -93.6 -93.6 ...
##  $ Latitude          : num  42.1 42.1 42.1 42.1 42.1 ...&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;eda&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;EDA&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# data %&amp;gt;%
#     select_if(is.factor) %&amp;gt;%
#     #select(-State_Of_Origin) %&amp;gt;%
#     gather() %&amp;gt;%
#     ggplot(aes(x = value)) +
#     facet_wrap( ~ key, scales = &amp;quot;free&amp;quot;, ncol = 3) +
#     geom_bar()




# data %&amp;gt;%
#     select_if(is.numeric) %&amp;gt;%
#     gather() %&amp;gt;%
#     ggplot(aes(x = value)) +
#     facet_wrap( ~ key, scales = &amp;quot;free&amp;quot;, ncol = 4) +
#     geom_density()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;data-type&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;data type&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# dt_new &amp;lt;- 
# dt_new %&amp;gt;% 
#   mutate(Promoted_or_Not = factor(Promoted_or_Not))

# numeric_variables &amp;lt;- c(
#   &amp;quot;total_years_dispatcher&amp;quot;, &amp;quot;total_years_present_job&amp;quot;,
#   &amp;quot;childrendependents&amp;quot;, &amp;quot;children_under_2_yrs&amp;quot;, 
#   &amp;quot;sick_days_in_last_year&amp;quot;, &amp;quot;avg_work_hrs_week&amp;quot;
# )
# 
# factor_variables &amp;lt;- setdiff(colnames(sleep), numeric_variables)
# 
# sleep &amp;lt;- mutate_at(sleep, vars(factor_variables), as.factor)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;stratified-trainingtest-splits&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Stratified training/test splits&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## Setting seed
set.seed(1)

## Generate split
data_split &amp;lt;- initial_split(data, 
                            prop = 4/5, 
                            strata = &amp;quot;Sale_Price&amp;quot;)

## Printing the function gives us &amp;lt;Num Rows in Training Set/Num Rows in Testing Set/Total Num Rows&amp;gt;
data_split&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;lt;2346/584/2930&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## Calling training() on this object will give us our training set, and calling testing() on it will give us our testing set
data_train &amp;lt;- training(data_split)
data_test &amp;lt;- testing(data_split)

data_train %&amp;gt;% 
  head() %&amp;gt;% 
  knitr::kable()&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;MS_SubClass&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;MS_Zoning&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Lot_Frontage&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Lot_Area&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Street&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Alley&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Lot_Shape&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Land_Contour&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Utilities&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Lot_Config&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Land_Slope&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Neighborhood&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Condition_1&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Condition_2&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Bldg_Type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;House_Style&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Overall_Qual&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Overall_Cond&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Year_Built&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Year_Remod_Add&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Roof_Style&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Roof_Matl&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Exterior_1st&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Exterior_2nd&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Mas_Vnr_Type&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Mas_Vnr_Area&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Exter_Qual&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Exter_Cond&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Foundation&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Bsmt_Qual&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Bsmt_Cond&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Bsmt_Exposure&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;BsmtFin_Type_1&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;BsmtFin_SF_1&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;BsmtFin_Type_2&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;BsmtFin_SF_2&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Bsmt_Unf_SF&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Total_Bsmt_SF&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Heating&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Heating_QC&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Central_Air&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Electrical&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;First_Flr_SF&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Second_Flr_SF&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Low_Qual_Fin_SF&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Gr_Liv_Area&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Bsmt_Full_Bath&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Bsmt_Half_Bath&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Full_Bath&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Half_Bath&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Bedroom_AbvGr&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Kitchen_AbvGr&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Kitchen_Qual&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;TotRms_AbvGrd&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Functional&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Fireplaces&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Fireplace_Qu&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Garage_Type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Garage_Finish&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Garage_Cars&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Garage_Area&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Garage_Qual&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Garage_Cond&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Paved_Drive&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Wood_Deck_SF&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Open_Porch_SF&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Enclosed_Porch&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Three_season_porch&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Screen_Porch&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Pool_Area&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Pool_QC&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Fence&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Misc_Feature&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Misc_Val&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Mo_Sold&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Year_Sold&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Sale_Type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Sale_Condition&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Sale_Price&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Longitude&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Latitude&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;One_Story_1946_and_Newer_All_Styles&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Residential_Low_Density&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;141&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;31770&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Pave&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Alley_Access&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Slightly_Irregular&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Lvl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AllPub&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Corner&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gtl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;North_Ames&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;OneFam&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;One_Story&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Above_Average&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Average&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1960&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1960&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Hip&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CompShg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;BrkFace&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Plywood&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Stone&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;112&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CBlock&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;BLQ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unf&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;441&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1080&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GasA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Fair&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Y&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SBrkr&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1656&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1656&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;7&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Attchd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Fin&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;528&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Partial_Pavement&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;210&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;62&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Pool&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Fence&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2010&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;WD&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Normal&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;215000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;-93.61975&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;42.05403&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;One_Story_1946_and_Newer_All_Styles&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Residential_High_Density&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;80&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;11622&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Pave&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Alley_Access&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Regular&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Lvl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AllPub&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Inside&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gtl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;North_Ames&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Feedr&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;OneFam&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;One_Story&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Average&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Above_Average&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1961&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1961&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gable&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CompShg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;VinylSd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;VinylSd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CBlock&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Rec&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;LwQ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;144&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;270&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;882&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GasA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Y&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SBrkr&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;896&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;896&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Fireplace&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Attchd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unf&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;730&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Paved&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;140&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;120&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Pool&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Minimum_Privacy&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2010&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;WD&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Normal&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;105000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;-93.61976&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;42.05301&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;One_Story_1946_and_Newer_All_Styles&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Residential_Low_Density&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;81&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;14267&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Pave&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Alley_Access&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Slightly_Irregular&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Lvl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AllPub&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Corner&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gtl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;North_Ames&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;OneFam&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;One_Story&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Above_Average&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Above_Average&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1958&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1958&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Hip&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CompShg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Wd Sdng&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Wd Sdng&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;BrkFace&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;108&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CBlock&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ALQ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unf&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;406&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1329&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GasA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Y&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SBrkr&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1329&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1329&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Fireplace&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Attchd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unf&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;312&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Paved&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;393&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;36&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Pool&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Fence&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gar2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;12500&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2010&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;WD&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Normal&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;172000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;-93.61939&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;42.05266&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Two_Story_1946_and_Newer&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Residential_Low_Density&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;74&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;13830&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Pave&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Alley_Access&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Slightly_Irregular&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Lvl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AllPub&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Inside&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gtl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gilbert&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;OneFam&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Two_Story&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Average&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Average&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1997&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1998&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gable&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CompShg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;VinylSd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;VinylSd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PConc&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GLQ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unf&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;137&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;928&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GasA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Y&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SBrkr&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;928&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;701&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1629&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Attchd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Fin&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;482&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Paved&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;212&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;34&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Pool&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Minimum_Privacy&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2010&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;WD&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Normal&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;189900&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;-93.63893&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;42.06090&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Two_Story_1946_and_Newer&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Residential_Low_Density&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;78&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;9978&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Pave&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Alley_Access&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Slightly_Irregular&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Lvl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AllPub&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Inside&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gtl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gilbert&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;OneFam&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Two_Story&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Above_Average&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Above_Average&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1998&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1998&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gable&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CompShg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;VinylSd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;VinylSd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;BrkFace&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;20&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PConc&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GLQ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unf&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;324&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;926&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GasA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Excellent&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Y&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SBrkr&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;926&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;678&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1604&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;7&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Attchd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Fin&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;470&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Paved&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;360&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;36&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Pool&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Fence&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2010&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;WD&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Normal&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;195500&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;-93.63893&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;42.06078&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;One_Story_PUD_1946_and_Newer&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Residential_Low_Density&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;41&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;4920&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Pave&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Alley_Access&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Regular&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Lvl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AllPub&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Inside&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gtl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Stone_Brook&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Norm&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;TwnhsE&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;One_Story&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Very_Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Average&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2001&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2001&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gable&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CompShg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CemntBd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CmentBd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PConc&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Mn&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GLQ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unf&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;722&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1338&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GasA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Excellent&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Y&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SBrkr&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1338&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1338&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Good&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typ&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Fireplace&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Attchd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Fin&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;582&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Typical&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Paved&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;170&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Pool&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No_Fence&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;None&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2010&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;WD&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Normal&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;213500&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;-93.63379&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;42.06298&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;data-pre-processing&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Data pre-processing&lt;/h1&gt;
&lt;div id=&#34;recipe&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;recipe&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_rec &amp;lt;- recipe(
  Sale_Price ~ .,
  data = data_train
) %&amp;gt;% 
  step_log(Sale_Price, base = 10) %&amp;gt;%
  step_rm(matches(&amp;quot;Qual&amp;quot;), matches(&amp;quot;Cond&amp;quot;)) %&amp;gt;% # Remove unwanted variables 
  step_dummy(all_nominal()) %&amp;gt;% 
  #step_downsample(Promoted_or_Not) %&amp;gt;% 
  step_center(all_predictors()) %&amp;gt;% 
  step_scale(all_predictors()) %&amp;gt;% 
  step_pca(contains(&amp;quot;SF&amp;quot;), contains(&amp;quot;Area&amp;quot;), threshold = .75) %&amp;gt;% #will convert numeric data into one or more principal components.
  step_nzv(all_predictors()) # 👍 #

data_rec&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Data Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor         80
## 
## Operations:
## 
## Log transformation on Sale_Price
## Delete terms matches, Qual, matches, Cond
## Dummy variables from all_nominal
## Centering for all_predictors
## Scaling for all_predictors
## No PCA components were extracted.
## Sparse, unbalanced variable filter on all_predictors&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;prep&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;prep&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_rec_trained &amp;lt;- prep(data_rec, training = data_train, verbose = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## oper 1 step log [training] 
## oper 2 step rm [training] 
## oper 3 step dummy [training] 
## oper 4 step center [training] 
## oper 5 step scale [training] 
## oper 6 step pca [training] 
## oper 7 step nzv [training] 
## The retained training set is ~ 1.57 Mb  in memory.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_rec_trained&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Data Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor         80
## 
## Training data contained 2346 data points and no missing data.
## 
## Operations:
## 
## Log transformation on Sale_Price [trained]
## Variables removed Overall_Qual, Exter_Qual, Bsmt_Qual, ... [trained]
## Dummy variables from MS_SubClass, MS_Zoning, Street, Alley, ... [trained]
## Centering for Lot_Frontage, Lot_Area, ... [trained]
## Scaling for Lot_Frontage, Lot_Area, ... [trained]
## PCA extraction with BsmtFin_SF_1, BsmtFin_SF_2, ... [trained]
## Sparse, unbalanced variable filter removed Kitchen_AbvGr, ... [trained]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;juice&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;juice&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Not bad, we’ve reduced 13 variables down to 7. This probably wasn’t the best use case of PCA, but it provides a good example of some advanced preprocessing made simple in {recipes}.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_rec_trained %&amp;gt;% 
  juice() %&amp;gt;% 
  select(starts_with(&amp;quot;PC&amp;quot;)) # select principal component&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2,346 x 7
##        PC1    PC2     PC3     PC4    PC5     PC6     PC7
##      &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;
##  1 -1.63    1.16   0.650  -0.440  -0.264 -0.601  -2.05  
##  2  0.874   0.305  0.311  -0.656  -0.345 -0.475   0.143 
##  3 -0.613   1.57   0.0386 -0.106  -0.610 -1.44   -0.0504
##  4  0.381   0.953  0.421   0.341  -0.105 -0.989  -0.548 
##  5  0.166   0.957  0.363   0.458  -0.486 -1.57    0.0933
##  6 -0.0448 -0.268 -0.665  -0.337  -0.121  0.258   0.389 
##  7 -0.174  -0.249 -0.612   0.215   0.607  0.664   0.287 
##  8 -1.61    0.459 -0.0692  0.765   0.622  0.0958  0.471 
##  9  0.0192 -1.53   0.449   0.0537 -0.312 -0.149   0.251 
## 10 -0.0231  1.90   0.0478  0.197  -0.799 -1.95    0.531 
## # … with 2,336 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;modeling&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Modeling&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;The beauty of {parsnip} is that it unifies the interface for model specifications so that you don’t need to remember dozens of different interfaces for each implementation of a model.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id=&#34;lasso&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;lasso&lt;/h2&gt;
&lt;p&gt;Now let’s specify our model. We’re going to go with a Lasso model with a penalty of 0.001 using the {parsnip} package.&lt;/p&gt;
&lt;div id=&#34;model&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;model&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_lasso &amp;lt;- linear_reg(penalty = 0.001, mixture = 1) %&amp;gt;% 
  set_engine(&amp;quot;glmnet&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;workflow&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;workflow&lt;/h3&gt;
&lt;p&gt;Using workflows, we don’t need to go through the prep() and juice() steps we went through earlier when we go to fit our model (I demonstrated prep() and juice() as they can be useful for being able to inspect your pre-processed data as we did earlier).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_lasso_wfl &amp;lt;- workflow() %&amp;gt;% 
  add_recipe(data_rec) %&amp;gt;% #recipe
  add_model(data_lasso) # model

data_lasso_wfl&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ══ Workflow ═══════════════════════════════════════════════════════
## Preprocessor: Recipe
## Model: linear_reg()
## 
## ── Preprocessor ───────────────────────────────────────────────────
## 7 Recipe Steps
## 
## ● step_log()
## ● step_rm()
## ● step_dummy()
## ● step_center()
## ● step_scale()
## ● step_pca()
## ● step_nzv()
## 
## ── Model ──────────────────────────────────────────────────────────
## Linear Regression Model Specification (regression)
## 
## Main Arguments:
##   penalty = 0.001
##   mixture = 1
## 
## Computational engine: glmnet&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;fit-model&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;fit model&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_lasso_fit &amp;lt;- fit(data_lasso_wfl, data_train)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;predict&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;predict&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;predict(data_lasso_fit, data_train) %&amp;gt;% 
    slice(1:5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 1
##   .pred
##   &amp;lt;dbl&amp;gt;
## 1  5.32
## 2  5.04
## 3  5.17
## 4  5.30
## 5  5.31&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;model-evaluation&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Model evaluation&lt;/h1&gt;
&lt;p&gt;using metrics from the {yardstick} package&lt;/p&gt;
&lt;p&gt;metrics:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Root Mean Squared Error (RMSE)&lt;/li&gt;
&lt;li&gt;R squared&lt;/li&gt;
&lt;li&gt;the concordance correlation coefficient (ccc)&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;all-in-sample&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;all in sample&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;perf_metrics &amp;lt;- metric_set(rmse, rsq, ccc)

perf_lasso &amp;lt;- data_lasso_fit %&amp;gt;% 
  predict(data_train) %&amp;gt;% 
  bind_cols(juice(data_rec_trained)) %&amp;gt;% 
  perf_metrics(truth = Sale_Price, estimate = .pred)

perf_lasso %&amp;gt;% 
  arrange(.metric)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 3
##   .metric .estimator .estimate
##   &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;
## 1 ccc     standard      0.925 
## 2 rmse    standard      0.0648
## 3 rsq     standard      0.864&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;cross-validation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;cross-validation&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# create 10-fold cross-validation sets for evaluating our training set models using vfold_cv(), which defaults to creating 10 folds.
cv_splits &amp;lt;- vfold_cv(data_train)
cv_splits&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## #  10-fold cross-validation 
## # A tibble: 10 x 2
##    splits             id    
##    &amp;lt;named list&amp;gt;       &amp;lt;chr&amp;gt; 
##  1 &amp;lt;split [2.1K/235]&amp;gt; Fold01
##  2 &amp;lt;split [2.1K/235]&amp;gt; Fold02
##  3 &amp;lt;split [2.1K/235]&amp;gt; Fold03
##  4 &amp;lt;split [2.1K/235]&amp;gt; Fold04
##  5 &amp;lt;split [2.1K/235]&amp;gt; Fold05
##  6 &amp;lt;split [2.1K/235]&amp;gt; Fold06
##  7 &amp;lt;split [2.1K/234]&amp;gt; Fold07
##  8 &amp;lt;split [2.1K/234]&amp;gt; Fold08
##  9 &amp;lt;split [2.1K/234]&amp;gt; Fold09
## 10 &amp;lt;split [2.1K/234]&amp;gt; Fold10&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# take our workflow and use it to fit 10 models on these 10 splits using the fit_resamples() function from the {tune} package (also a part of the tidymodels ecosystem), as well as tell it to compute the performance metrics we set earlier.

cv_eval &amp;lt;- fit_resamples(data_lasso_wfl, resamples = cv_splits, metrics = perf_metrics)
cv_eval&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## #  10-fold cross-validation 
## # A tibble: 10 x 4
##    splits             id     .metrics         .notes          
##  * &amp;lt;list&amp;gt;             &amp;lt;chr&amp;gt;  &amp;lt;list&amp;gt;           &amp;lt;list&amp;gt;          
##  1 &amp;lt;split [2.1K/235]&amp;gt; Fold01 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  2 &amp;lt;split [2.1K/235]&amp;gt; Fold02 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  3 &amp;lt;split [2.1K/235]&amp;gt; Fold03 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  4 &amp;lt;split [2.1K/235]&amp;gt; Fold04 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  5 &amp;lt;split [2.1K/235]&amp;gt; Fold05 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  6 &amp;lt;split [2.1K/235]&amp;gt; Fold06 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  7 &amp;lt;split [2.1K/234]&amp;gt; Fold07 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  8 &amp;lt;split [2.1K/234]&amp;gt; Fold08 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
##  9 &amp;lt;split [2.1K/234]&amp;gt; Fold09 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;
## 10 &amp;lt;split [2.1K/234]&amp;gt; Fold10 &amp;lt;tibble [3 × 3]&amp;gt; &amp;lt;tibble [0 × 1]&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;collect_metrics(cv_eval)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 5
##   .metric .estimator   mean     n std_err
##   &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 ccc     standard   0.915     10 0.00660
## 2 rmse    standard   0.0673    10 0.00345
## 3 rsq     standard   0.854     10 0.0122&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;in-sample-vs-cross-validation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;in-sample VS cross-validation&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;perf_lasso %&amp;gt;% 
  arrange(.metric)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 3
##   .metric .estimator .estimate
##   &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;
## 1 ccc     standard      0.925 
## 2 rmse    standard      0.0648
## 3 rsq     standard      0.864&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;collect_metrics(cv_eval)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 5
##   .metric .estimator   mean     n std_err
##   &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 ccc     standard   0.915     10 0.00660
## 2 rmse    standard   0.0673    10 0.00345
## 3 rsq     standard   0.854     10 0.0122&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;model-tuning&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Model tuning&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;its real power comes in allowing us to easily tune the hyperparameters in our model.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id=&#34;tuning-lasso&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;📌 tuning lasso&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_mixture &amp;lt;- linear_reg(penalty = tune(), mixture = tune()) %&amp;gt;% 
  set_engine(&amp;quot;glmnet&amp;quot;)

data_mixture_wfl &amp;lt;- update_model(data_lasso_wfl, data_mixture)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;set-regular-paraments-for-grid-search&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;set regular paraments for grid search&lt;/h2&gt;
&lt;p&gt;Next, we will define a parameter space to search. {tune} allows you to perform either grid search (where the candidate values are pre-defined) or iterative search (ex: Bayesian optimization) where the results of the previous model are used to select the next parameter values to try.&lt;/p&gt;
&lt;p&gt;There are pros/cons to each. A big plus of grid search is that it allows you to take advantage of parallel processing to speed up your search, while iterative search is, by construction, sequential. A big plus of iterative search is that it can quickly rule out areas of parameter space which can be efficient when covering many values of a high dimensional parameter space (where a grid may require many, many models to comfortably cover the entire parameter space, where many of them may turn out to be redundant).&lt;/p&gt;
&lt;p&gt;For this post, we’re going to stick with grid search. The simplest form of grid search uses regular grids, where you provide a vector of values for each parameter and the grid is composed of every possible value combination.&lt;/p&gt;
&lt;p&gt;{tune} provides useful defaults for searching parameter spaces of many common hyperparameters, for example, creating grids for the “penalty” parameter in log-10 space. We can simply specify the parameters, pass these to grid_regular(), and specify that we want 5 levels of penalization and 5 levels of mixture.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mixture_param &amp;lt;- parameters(penalty(), mixture())

regular_grid &amp;lt;- grid_regular(mixture_param, levels = c(5, 5))

regular_grid %&amp;gt;% 
  ggplot(aes(x = mixture, y = penalty)) +
  geom_point() +
  scale_y_log10()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-03-31-tidymodels-machine-learning-ecosystem_files/figure-html/unnamed-chunk-16-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;set-non-regular-paraments-for-grid-search&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;set non-regular paraments for grid search&lt;/h2&gt;
&lt;p&gt;{tune} also provides ways to create non-regular grids as well.&lt;/p&gt;
&lt;p&gt;Random grids generated using grid_random() will uniformly sample the parameter space.&lt;/p&gt;
&lt;p&gt;Space-filling designs (SFD) generated using grid_max_entropy() will try to keep candidate values away from one another in order to more efficiently cover the parameter space.&lt;/p&gt;
&lt;p&gt;The below shows how to create a SFD grid and plots 25 candidate values.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sfd_grid &amp;lt;- grid_max_entropy(mixture_param, size = 25)

sfd_grid&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 25 x 2
##     penalty mixture
##       &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;
##  1 1.19e- 7 0.997  
##  2 6.06e- 1 0.0986 
##  3 5.44e- 9 0.718  
##  4 2.27e- 5 0.215  
##  5 2.20e- 7 0.826  
##  6 1.24e- 1 0.929  
##  7 3.25e- 4 0.693  
##  8 6.89e- 3 0.00913
##  9 1.01e- 6 0.517  
## 10 1.71e-10 0.970  
## # … with 15 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sfd_grid %&amp;gt;% 
  ggplot(aes(x = mixture, y = penalty)) +
  geom_point() +
  scale_y_log10()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-03-31-tidymodels-machine-learning-ecosystem_files/figure-html/unnamed-chunk-17-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;parallelization-set-up&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;parallelization set up&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(doParallel)

all_cores &amp;lt;- parallel::detectCores(logical = FALSE)

cl &amp;lt;- makePSOCKcluster(all_cores-1)
registerDoParallel(cl)

clusterEvalQ(cl, {library(tidymodels)})&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
##  [1] &amp;quot;yardstick&amp;quot;  &amp;quot;workflows&amp;quot;  &amp;quot;tune&amp;quot;       &amp;quot;tibble&amp;quot;     &amp;quot;rsample&amp;quot;   
##  [6] &amp;quot;tidyr&amp;quot;      &amp;quot;recipes&amp;quot;    &amp;quot;purrr&amp;quot;      &amp;quot;parsnip&amp;quot;    &amp;quot;infer&amp;quot;     
## [11] &amp;quot;ggplot2&amp;quot;    &amp;quot;dplyr&amp;quot;      &amp;quot;dials&amp;quot;      &amp;quot;scales&amp;quot;     &amp;quot;broom&amp;quot;     
## [16] &amp;quot;tidymodels&amp;quot; &amp;quot;stats&amp;quot;      &amp;quot;graphics&amp;quot;   &amp;quot;grDevices&amp;quot;  &amp;quot;utils&amp;quot;     
## [21] &amp;quot;datasets&amp;quot;   &amp;quot;methods&amp;quot;    &amp;quot;base&amp;quot;      
## 
## [[2]]
##  [1] &amp;quot;yardstick&amp;quot;  &amp;quot;workflows&amp;quot;  &amp;quot;tune&amp;quot;       &amp;quot;tibble&amp;quot;     &amp;quot;rsample&amp;quot;   
##  [6] &amp;quot;tidyr&amp;quot;      &amp;quot;recipes&amp;quot;    &amp;quot;purrr&amp;quot;      &amp;quot;parsnip&amp;quot;    &amp;quot;infer&amp;quot;     
## [11] &amp;quot;ggplot2&amp;quot;    &amp;quot;dplyr&amp;quot;      &amp;quot;dials&amp;quot;      &amp;quot;scales&amp;quot;     &amp;quot;broom&amp;quot;     
## [16] &amp;quot;tidymodels&amp;quot; &amp;quot;stats&amp;quot;      &amp;quot;graphics&amp;quot;   &amp;quot;grDevices&amp;quot;  &amp;quot;utils&amp;quot;     
## [21] &amp;quot;datasets&amp;quot;   &amp;quot;methods&amp;quot;    &amp;quot;base&amp;quot;      
## 
## [[3]]
##  [1] &amp;quot;yardstick&amp;quot;  &amp;quot;workflows&amp;quot;  &amp;quot;tune&amp;quot;       &amp;quot;tibble&amp;quot;     &amp;quot;rsample&amp;quot;   
##  [6] &amp;quot;tidyr&amp;quot;      &amp;quot;recipes&amp;quot;    &amp;quot;purrr&amp;quot;      &amp;quot;parsnip&amp;quot;    &amp;quot;infer&amp;quot;     
## [11] &amp;quot;ggplot2&amp;quot;    &amp;quot;dplyr&amp;quot;      &amp;quot;dials&amp;quot;      &amp;quot;scales&amp;quot;     &amp;quot;broom&amp;quot;     
## [16] &amp;quot;tidymodels&amp;quot; &amp;quot;stats&amp;quot;      &amp;quot;graphics&amp;quot;   &amp;quot;grDevices&amp;quot;  &amp;quot;utils&amp;quot;     
## [21] &amp;quot;datasets&amp;quot;   &amp;quot;methods&amp;quot;    &amp;quot;base&amp;quot;      
## 
## [[4]]
##  [1] &amp;quot;yardstick&amp;quot;  &amp;quot;workflows&amp;quot;  &amp;quot;tune&amp;quot;       &amp;quot;tibble&amp;quot;     &amp;quot;rsample&amp;quot;   
##  [6] &amp;quot;tidyr&amp;quot;      &amp;quot;recipes&amp;quot;    &amp;quot;purrr&amp;quot;      &amp;quot;parsnip&amp;quot;    &amp;quot;infer&amp;quot;     
## [11] &amp;quot;ggplot2&amp;quot;    &amp;quot;dplyr&amp;quot;      &amp;quot;dials&amp;quot;      &amp;quot;scales&amp;quot;     &amp;quot;broom&amp;quot;     
## [16] &amp;quot;tidymodels&amp;quot; &amp;quot;stats&amp;quot;      &amp;quot;graphics&amp;quot;   &amp;quot;grDevices&amp;quot;  &amp;quot;utils&amp;quot;     
## [21] &amp;quot;datasets&amp;quot;   &amp;quot;methods&amp;quot;    &amp;quot;base&amp;quot;      
## 
## [[5]]
##  [1] &amp;quot;yardstick&amp;quot;  &amp;quot;workflows&amp;quot;  &amp;quot;tune&amp;quot;       &amp;quot;tibble&amp;quot;     &amp;quot;rsample&amp;quot;   
##  [6] &amp;quot;tidyr&amp;quot;      &amp;quot;recipes&amp;quot;    &amp;quot;purrr&amp;quot;      &amp;quot;parsnip&amp;quot;    &amp;quot;infer&amp;quot;     
## [11] &amp;quot;ggplot2&amp;quot;    &amp;quot;dplyr&amp;quot;      &amp;quot;dials&amp;quot;      &amp;quot;scales&amp;quot;     &amp;quot;broom&amp;quot;     
## [16] &amp;quot;tidymodels&amp;quot; &amp;quot;stats&amp;quot;      &amp;quot;graphics&amp;quot;   &amp;quot;grDevices&amp;quot;  &amp;quot;utils&amp;quot;     
## [21] &amp;quot;datasets&amp;quot;   &amp;quot;methods&amp;quot;    &amp;quot;base&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;tuning-by-parallelization&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;tuning by parallelization&lt;/h2&gt;
&lt;p&gt;Now we’re going to create our tuning object, which will take our recipe, our model, our resamples, and our metrics, to fit our 25 models over 10 resamples and compute our performance metrics, then we’ll stop our parallelization.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_tune &amp;lt;- tune_grid(
  data_rec,
  model = data_mixture,
  resamples = cv_splits,
  grid = regular_grid,
  metrics = perf_metrics
)

stopCluster(cl)

# Naive Lasso performance
collect_metrics(cv_eval)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 5
##   .metric .estimator   mean     n std_err
##   &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 ccc     standard   0.915     10 0.00660
## 2 rmse    standard   0.0673    10 0.00345
## 3 rsq     standard   0.854     10 0.0122&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;show-best&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;show best&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Best tuned models
show_best(data_tune, &amp;quot;ccc&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 7
##        penalty mixture .metric .estimator  mean     n std_err
##          &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 0.0000000001    0.25 ccc     standard   0.917    10 0.00660
## 2 0.0000000316    0.25 ccc     standard   0.917    10 0.00660
## 3 0.00001         0.25 ccc     standard   0.917    10 0.00660
## 4 0.0000000001    0.75 ccc     standard   0.917    10 0.00661
## 5 0.0000000316    0.75 ccc     standard   0.917    10 0.00661&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;show_best(data_tune, &amp;quot;rmse&amp;quot;, maximize = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 7
##        penalty mixture .metric .estimator   mean     n std_err
##          &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 0.00316         0.25 rmse    standard   0.0672    10 0.00334
## 2 0.0000000001    0    rmse    standard   0.0672    10 0.00302
## 3 0.0000000316    0    rmse    standard   0.0672    10 0.00302
## 4 0.00001         0    rmse    standard   0.0672    10 0.00302
## 5 0.00316         0    rmse    standard   0.0672    10 0.00302&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;show_best(data_tune, &amp;quot;rsq&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 7
##        penalty mixture .metric .estimator  mean     n std_err
##          &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 0.00316         0.25 rsq     standard   0.855    10 0.0116 
## 2 0.0000000001    0    rsq     standard   0.854    10 0.00997
## 3 0.0000000316    0    rsq     standard   0.854    10 0.00997
## 4 0.00001         0    rsq     standard   0.854    10 0.00997
## 5 0.00316         0    rsq     standard   0.854    10 0.00997&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;vis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;vis&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;collect_metrics(data_tune) %&amp;gt;% 
  filter(.metric == &amp;quot;rmse&amp;quot;) %&amp;gt;%
  mutate(mixture = format(mixture)) %&amp;gt;% 
  ggplot(aes(x = penalty, y = mean, col = mixture)) +
  geom_line() +
  geom_point() +
  scale_x_log10() +
  geom_vline(xintercept = 0.001, color = &amp;quot;purple&amp;quot;, lty = &amp;quot;dotted&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-03-31-tidymodels-machine-learning-ecosystem_files/figure-html/unnamed-chunk-21-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;select-best-model&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;select best model&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;best_mixture &amp;lt;- 
    select_best(data_tune, metric = &amp;quot;rmse&amp;quot;, maximize = FALSE)

best_mixture&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 2
##   penalty mixture
##     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 0.00316    0.25&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_mixture_final &amp;lt;-
    data_mixture_wfl %&amp;gt;%
    finalize_workflow(best_mixture) %&amp;gt;%
    fit(data = data_train)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;how-our-model-did-again-our-test-set&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;how our model did again our test set&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_mixture_final %&amp;gt;% 
  predict(data_test) %&amp;gt;% 
  bind_cols(select(data_test, Sale_Price)) %&amp;gt;% 
  mutate(Sale_Price = log10(Sale_Price)) %&amp;gt;% 
  perf_metrics(truth = Sale_Price, estimate = .pred)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 3
##   .metric .estimator .estimate
##   &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;
## 1 rmse    standard      0.0885
## 2 rsq     standard      0.768 
## 3 ccc     standard      0.867&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;what-variables-turned-out-to-be-the-most-important-in-predicting-sale-price&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;What variables turned out to be the most important in predicting sale price?&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy_coefs &amp;lt;- data_mixture_final$fit$fit$fit %&amp;gt;% 
  broom::tidy() %&amp;gt;% 
  filter(term != &amp;quot;(Intercept)&amp;quot;) %&amp;gt;% 
  select(-step, -dev.ratio)

delta &amp;lt;- abs(tidy_coefs$lambda - best_mixture$penalty)
lambda_opt &amp;lt;- tidy_coefs$lambda[which.min(delta)]

label_coefs &amp;lt;- tidy_coefs %&amp;gt;% 
  mutate(abs_estimate = abs(estimate)) %&amp;gt;% 
  filter(abs_estimate &amp;gt;= 0.01) %&amp;gt;% 
  distinct(term) %&amp;gt;% 
  inner_join(tidy_coefs, by = &amp;quot;term&amp;quot;) %&amp;gt;% 
  filter(lambda == lambda_opt)

label_coefs&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 16 x 3
##    term                              estimate  lambda
##    &amp;lt;chr&amp;gt;                                &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;
##  1 PC1                               -0.0340  0.00306
##  2 Garage_Cars                        0.0132  0.00306
##  3 Year_Built                         0.00666 0.00306
##  4 Year_Remod_Add                     0.0247  0.00306
##  5 Fireplaces                         0.0117  0.00306
##  6 TotRms_AbvGrd                      0.0128  0.00306
##  7 BsmtFin_Type_1_GLQ                 0.00617 0.00306
##  8 Full_Bath                          0.0119  0.00306
##  9 Central_Air_Y                      0.0114  0.00306
## 10 MS_Zoning_Residential_Low_Density  0.0138  0.00306
## 11 Functional_Typ                     0.0105  0.00306
## 12 Neighborhood_Edwards              -0.0102  0.00306
## 13 Sale_Type_New                      0.00905 0.00306
## 14 Mas_Vnr_Type_None                  0.00765 0.00306
## 15 Neighborhood_Somerset              0.00908 0.00306
## 16 Mas_Vnr_Type_Stone                 0.00171 0.00306&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy_coefs %&amp;gt;% 
  ggplot(aes(x = lambda, y = estimate, group = term, col = term, label = term)) +
  geom_vline(xintercept = lambda_opt, lty = 3) +
  geom_line(alpha = .4) +
  theme(legend.position = &amp;quot;none&amp;quot;) +
  scale_x_log10() +
  ggrepel::geom_text_repel(data = label_coefs)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-03-31-tidymodels-machine-learning-ecosystem_files/figure-html/unnamed-chunk-24-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The above shows the coefficient estimates plotted against lambda, the dotted line indicating the optimal lambda that we selected during our tuning. Nice to see that one of our principal components ended up being important!&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://dnield.com/posts/tidymodels-intro/&#34;&gt;Introduction to the {tidymodels} Machine Learning Ecosystem | David Nield&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
